{% if items %}
  <div class="content-characteristics content-characteristics-group">
    <div class="container transitional-size">
      <h2>{{ 'Popular groups of datasets'|t }}</h2>
    </div>
    <div class="group-wrapper content-characteristics-background">
      <div class="container">
        <div class="field-groups">
          {% for item in items |slice(0, 4) %}
            <div class="search-result">
              <div class="content-item-title">
                <span class="content-characteristics-icon"></span>
                <div>
                  <p class="type">{{ 'Group'|t }}</p>

                  {% if community_machine_name %}
                    <a
                      href="{{ path('donl_community.group.view', {'community': community_machine_name, 'group': item.content['#node'].machine_name.value}) }}"
                      class="result--title">
                      <h3>{{ item.content['#node'].title.value }}</h3>
                    </a>
                  {% else %}
                    <a href="{{ path('donl_search.group.view', {'group': item.content['#node'].machine_name.value}) }}"
                       class="result--title">
                      <h3>{{ item.content['#node'].title.value }}</h3>
                    </a>
                  {% endif %}

                </div>
              </div>
              <div class="search-content">
                {% if item.content['#node'].group_description.value %}
                  {% set description = item.content['#node'].group_description.value|striptags %}
                  <p>{{ description|length > 100 ? description|slice(0, 100) ~ '...' : description }}</p>
                {% endif %}
              </div>
            </div>
          {% endfor %}
        </div>
        {% if items|length > 4 %}
          {% if community_machine_name %}
            <a href="{{ path('donl_community.search.group', {'community': community_machine_name}) }}"
               class="button button--primary more-groups-button">
              {{ 'View more groups' | t }}
            </a>
          {% endif %}
        {% endif %}
      </div>
    </div>
  </div>
{% endif %}
