services:
  donl_statistics.dataset_statistics:
    class: Drupal\donl_statistics\DatasetStatistics
    arguments:
      - '@ckan.request'
      - '@donl_search.request'

  donl_statistics.piwik_statistics:
    class: Drupal\donl_statistics\PiwikStatistics
    arguments:
      - '@http_client'
      - '@config.factory'

  donl_statistics.node_statistics:
    class: Drupal\donl_statistics\NodeStatistics
    arguments:
      - '@entity_type.manager'
      - '@donl_identifier.resolver'

  donl_statistics.collect:
    class: Drupal\donl_statistics\Commands\CollectStatistics
    arguments:
      - '@donl_statistics.node_statistics'
      - '@donl_statistics.dataset_statistics'
      - '@donl_statistics.piwik_statistics'
      - '@database'
