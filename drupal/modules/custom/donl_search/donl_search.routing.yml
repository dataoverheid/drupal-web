# Search Pages.
route_callbacks:
  - '\Drupal\donl_search\Routing\SearchRoutes::routes'

# Autocomplete.
donl_search.autocomplete:
  path: '/autocomplete/{type}'
  defaults:
    _controller: '\Drupal\donl_search\Controller\AutoCompleteController::handleAutocomplete'
    _format: json
  requirements:
    _permission: 'access content'
    type: 'dataset|group|organization'

# Suggestor.
donl_search.suggest:
  suggest:
  path: '/suggest/{search}/{type}'
  defaults:
    _controller: '\Drupal\donl_search\Controller\SuggestController::resultList'
    _title: 'Suggestions'
  requirements:
    _permission: 'access content'

# Group page (with dataset search page).
donl_search.group.view:
  path: '/community/group/{group}/{page}/{recordsPerPage}'
  defaults:
    _controller: '\Drupal\donl_search\Controller\Group\GroupSearchDatasetController:view'
    _title_callback: '\Drupal\donl_search\Controller\Group\GroupSearchDatasetController:getTitle'
    page: 1
    recordsPerPage: 10
  options:
    parameters:
      group:
        type: 'donl-group'
  requirements:
    _permission: 'access content'
    page: '^[1-9][0-9]*$'
    recordsPerPage: '^[1-9][0-9]*$'

# Catalog page (with dataset search page).
donl_search.catalog.view:
  path: '/community/catalogi/{catalog}/{page}/{recordsPerPage}'
  defaults:
    _controller: '\Drupal\donl_search\Controller\Catalog\CatalogSearchDatasetController:view'
    _title_callback: '\Drupal\donl_search\Controller\Catalog\CatalogSearchDatasetController:getTitle'
    page: 1
    recordsPerPage: 10
  options:
    parameters:
      catalog:
        type: 'donl-catalog'
  requirements:
    _permission: 'access content'
    page: '^[1-9][0-9]*$'
    recordsPerPage: '^[1-9][0-9]*$'

# Reroute the old community URL.
donl_search.search_old.catalog:
  path: '/community/catalogi'
  defaults:
    _controller: '\Drupal\donl_search\Controller\SearchCatalogController:content'
    _title: 'Search'
    page: 1
    recordsPerPage: 10
  requirements:
    _permission: 'access content'

# Organization page (with dataset search page).
donl_search.organization.view:
  path: '/community/organization/{organization}/{page}/{recordsPerPage}'
  defaults:
    _controller: '\Drupal\donl_search\Controller\Organization\OrganizationSearchDatasetController:view'
    _title_callback: '\Drupal\donl_search\Controller\Organization\OrganizationSearchDatasetController:getTitle'
    page: 1
    recordsPerPage: 10
  options:
    parameters:
      organization:
        type: 'donl-organization'
  requirements:
    _permission: 'access content'
    page: '^[1-9][0-9]*$'
    recordsPerPage: '^[1-9][0-9]*$'

donl_search.organization.application.view:
  path: '/community/organization/{organization}/application/{page}/{recordsPerPage}'
  defaults:
    _controller: '\Drupal\donl_search\Controller\Organization\OrganizationSearchApplicationController:view'
    _title_callback: '\Drupal\donl_search\Controller\Organization\OrganizationSearchApplicationController:getTitle'
    page: 1
    recordsPerPage: 10
  options:
    parameters:
      organization:
        type: 'donl-organization'
  requirements:
    _permission: 'access content'
    page: '^[1-9][0-9]*$'
    recordsPerPage: '^[1-9][0-9]*$'

donl_search.organization.community.view:
  path: '/community/organization/{organization}/community/{page}/{recordsPerPage}'
  defaults:
    _controller: '\Drupal\donl_search\Controller\Organization\OrganizationSearchCommunityController:view'
    _title_callback: '\Drupal\donl_search\Controller\Organization\OrganizationSearchCommunityController:getTitle'
    page: 1
    recordsPerPage: 10
  options:
    parameters:
      organization:
        type: 'donl-organization'
  requirements:
    _permission: 'access content'
    page: '^[1-9][0-9]*$'
    recordsPerPage: '^[1-9][0-9]*$'

donl_search.organization.datarequest.view:
  path: '/community/organization/{organization}/datarequest/{page}/{recordsPerPage}'
  defaults:
    _controller: '\Drupal\donl_search\Controller\Organization\OrganizationSearchDatarequestController:view'
    _title_callback: '\Drupal\donl_search\Controller\Organization\OrganizationSearchDatarequestController:getTitle'
    page: 1
    recordsPerPage: 10
  options:
    parameters:
      organization:
        type: 'donl-organization'
  requirements:
    _permission: 'access content'
    page: '^[1-9][0-9]*$'
    recordsPerPage: '^[1-9][0-9]*$'

donl_search.organization.group.view:
  path: '/community/organization/{organization}/group/{page}/{recordsPerPage}'
  defaults:
    _controller: '\Drupal\donl_search\Controller\Organization\OrganizationSearchGroupController:view'
    _title_callback: '\Drupal\donl_search\Controller\Organization\OrganizationSearchGroupController:getTitle'
    page: 1
    recordsPerPage: 10
  options:
    parameters:
      organization:
        type: 'donl-organization'
  requirements:
    _permission: 'access content'
    page: '^[1-9][0-9]*$'
    recordsPerPage: '^[1-9][0-9]*$'

# Admin pages.
donl_search.solr_settings.request:
  path: '/admin/donl/solr'
  defaults:
    _form: '\Drupal\donl_search\Form\SolrRequestSettingsForm'
    _title: 'SOLR'
  requirements:
    _permission: 'configure sorl request settings'
