ckan.home:
  path: '/home'
  defaults:
    _controller: '\Drupal\ckan\Controller\HomeController::content'
    _title: 'Data register of the Dutch government'
  requirements:
    _permission: 'access content'

# Dataset paths.
ckan.dataset.view:
  path: '/dataset/{dataset}'
  defaults:
    _controller: '\Drupal\ckan\Controller\DatasetController::content'
    _title_callback: '\Drupal\ckan\Controller\DatasetController::title'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
  requirements:
    _permission: 'access content'

ckan.dataset.rdf:
  path: '/dataset/{dataset}/rdf'
  defaults:
    _controller: '\Drupal\ckan\Controller\DatasetRdfController::content'
    _title_callback: '\Drupal\ckan\Controller\DatasetRdfController::title'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
  requirements:
    _permission: 'access content'

# Same route as ckan.dataset.view, but this route has a group context.
ckan.group.dataset.view:
  path: '/group/{group}/dataset/{dataset}'
  defaults:
    _controller: '\Drupal\ckan\Controller\DatasetGroupController::content'
    _title_callback: '\Drupal\ckan\Controller\DatasetGroupController::title'
  options:
    parameters:
      group:
        type: 'donl-group'
      dataset:
        type: 'ckan-dataset'
  requirements:
    _permission: 'access content'

ckan.dataset.create:
  path: '/dataset/dataset-publiceren'
  defaults:
    _form: '\Drupal\ckan\Form\DatasetCreateForm'
    _title: 'Create dataset'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'manage own datasets+manage all datasets'

ckan.dataset.edit:
  path: '/dataset/{dataset}/bewerken'
  defaults:
    _form: '\Drupal\ckan\Form\DatasetEditForm'
    _title: 'Edit dataset'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'manage own datasets+manage all datasets'

ckan.dataset.delete:
  path: '/dataset/{dataset}/verwijderen'
  defaults:
    _form: '\Drupal\ckan\Form\DatasetDeleteForm'
    _title: 'Delete dataset'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'manage own datasets+manage all datasets'

ckan.dataset.publish:
  path: '/dataset/{dataset}/publiceren'
  defaults:
    _form: '\Drupal\ckan\Form\DatasetPublishForm'
    _title: 'Publish dataset'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'manage own datasets+manage all datasets'

# Dataset resource paths.
ckan.dataset.datasources:
  path: '/dataset/{dataset}/bronnen'
  defaults:
    _controller: '\Drupal\ckan\Controller\DatasetResourcesController::content'
    _title: 'Manage data sources'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'access content'

ckan.dataset.order:
  path: '/dataset/{dataset}/bronnen/herordenen'
  defaults:
    _form: '\Drupal\ckan\Form\ResourceOrderForm'
    _title: 'Rearrange resources'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'manage own datasets+manage all datasets'

ckan.resource.create:
  path: '/dataset/{dataset}/bronnen/bron-toevoegen'
  defaults:
    _form: '\Drupal\ckan\Form\ResourceCreateForm'
    _title: 'Add datasource'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'manage own datasets+manage all datasets'

ckan.resource.edit:
  path: '/dataset/{dataset}/bronnen/{resource}/bewerken'
  defaults:
    _form: '\Drupal\ckan\Form\ResourceEditForm'
    _title: 'Edit resource'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
      resource:
        type: 'ckan-resource'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'manage own datasets+manage all datasets'

ckan.resource.delete:
  path: '/dataset/{dataset}/bronnen/{resource}/verwijderen'
  defaults:
    _form: '\Drupal\ckan\Form\ResourceDeleteForm'
    _title: 'Delete resource'
  options:
    parameters:
      dataset:
        type: 'ckan-dataset'
      resource:
        type: 'ckan-resource'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'manage own datasets+manage all datasets'

# Admin paths.
ckan.settings.webservice:
  path: '/admin/donl/ckan'
  defaults:
    _form: '\Drupal\ckan\Form\CkanRequestSettingsForm'
    _title: 'CKAN'
  requirements:
    _permission: 'configure ckan request settings'

ckan.settings.dataset:
  path: '/admin/donl/datasets'
  defaults:
    _form: '\Drupal\ckan\Form\DatasetSettingsForm'
    _title: 'Datasets'
  requirements:
    _permission: 'configure ckan dataset settings'

# JSON endpoints
ckan.dataset_relations:
  path: '/json/dataset/relations'
  defaults:
    _controller: '\Drupal\ckan\Controller\JsonEndpointController::datasetRelations'
    _format: json
  requirements:
    _permission: 'access content'
