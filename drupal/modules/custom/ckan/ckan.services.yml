services:
  ckan.request:
    class: Drupal\ckan\CkanRequest
    arguments:
      - '@http_client'
      - '@config.factory'
      - '@logger.factory'
      - '@cache.default'
      - '@entity_type.manager'
      - '@current_user'

  ckan.mapping:
    class: Drupal\ckan\MappingService
    arguments:
      - '@donl.value_list'
      - '@string_translation'

  ckan.languageCheck:
    class: Drupal\ckan\LanguageCheckService
    arguments:
      - '@language_manager'
      - '@donl.value_list'
      - '@string_translation'

  ckan.sort_dataset_resources:
    class: Drupal\ckan\SortDatasetResourcesService
    arguments:
      - '@donl.value_list'
      - '@string_translation'

  ckan.paramConverter.dataset:
    class: Drupal\ckan\Routing\ParamConverterDataset
    arguments: [ '@ckan.request' ]
    tags:
      - { name: paramconverter }

  ckan.paramConverter.resource:
    class: Drupal\ckan\Routing\ParamConverterResource
    arguments: [ '@ckan.request' ]
    tags:
      - { name: paramconverter }

  ckan.twig_extension:
    class: Drupal\ckan\CkanTwigExtension
    arguments:
      - '@ckan.mapping'
      - '@language_manager'
      - '@entity_type.manager'
      - '@donl_search.search_url'
      - '@donl_search.request'
      - '@ckan.sort_dataset_resources'
      - '@date.formatter'
      - '@config.factory'
    tags:
      - { name: twig.extension }

  ckan.data_classifications:
    class: Drupal\ckan\DataClassifications
    arguments:
      - '@entity_type.manager'

  ckan.data_classifications.twig_extension:
    class: Drupal\ckan\TwigExtension\DataClassificationsTwigExtension
    arguments:
      - '@ckan.data_classifications'
    tags:
      - { name: twig.extension }
