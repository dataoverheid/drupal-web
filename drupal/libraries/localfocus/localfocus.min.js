!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.LocalFocus=e():t.LocalFocus=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i,a,s,l,u,c,g,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=(r={},o={},i="https://d2ip8qs1ionmkp.cloudfront.net",a="https://dtb9os15mttcv.cloudfront.net",s=[],l={},c=function(t,e){"visualisation"===t.type?s.push(r.WrapperVisualisations(g,e,t)):"map"===t.type?s.push(r.WrapperMaps(g,e,t)):console.error("LocalFocus error: wrong data structure. Was expecting a LocalFocus widget object, but got",t)},g={init:function(t,e){var n=null;return function(t){return t instanceof Element||t instanceof HTMLDocument}(n="string"==typeof t?document.querySelector(t):t)?("string"==typeof e?u(e,(function(t){c(t,n)}),(function(){console.error("LocalFocus error: load dataset. Could not load or JSON.parse url",e)})):e&&"object"===(void 0===e?"undefined":d(e))?c(e,n):console.error("LocalFocus error: data parameneter. Was expecting string or object, but got",e),g):(console.error("LocalFocus error: element parameter. Was expecting single element, but got",n),g)},setStyle:function(t){return t&&"object"===(void 0===t?"undefined":d(t))&&(o=t),g},getStyle:function(){return o},setTilePath:function(t){return"string"==typeof t&&(i=t),g},getTilePath:function(){return i},setGeoPath:function(t){return"string"==typeof t&&(a=t),g},getGeoPath:function(){return a},addModule:function(t,e){return r[t]=e,g},getModule:function(t){return r[t]},setParameter:function(t,e){return l[t]=e,g},getParameter:function(t){return l[t]},sendRequest:u=function(t,e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){var t;if(4===this.readyState)if(200===this.status){try{t=JSON.parse(this.responseText)}catch(t){return void n()}e(t)}else n()},r.open("GET",t,!0),r.send()},version:"1.1.19",moduleVersions:{maps:"1.2.2",visualisation:"3.0.0"}});e.LocalFocus=f},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.init=function(t){return{load:function(e,n){var o=r.parseCommand(e);o||n(!1);var i=new XMLHttpRequest,a="https://data.overheid.nl/"+o.path;"string"==typeof t.useProxy&&(a=t.useProxy+encodeURIComponent(a)),i.open("GET",a,!0),i.onload=function(){if(this.status>=200&&this.status<400){var t=this.response,e=r.parseCSV(t,o);n(e)}else n(!1)},i.onerror=function(){n(!1)},i.send()}}}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t){var e=[],n=!1;return"string"==typeof t&&((t=t.substring(1)).split(",").forEach((function(t){var r=t.split(":"),o=r[0],i=r[1],a={action:null,columns:[]};2!==r.length||"string"!=typeof i||!i.length||"remove"!==o&&"removewhere"!==o&&"date"!==o||(a.action=o,i.split("+").forEach((function(t){var e={};if("removewhere"===o&&t.length>2&&t.indexOf("=")>-1){var r=t.substring(t.indexOf("=")+1);t=t[0],"string"==typeof r&&r.length&&(e.equals=r)}"removewhere"===o&&"string"!=typeof e.equals&&(n=!0);var i="ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(t);1===t.length&&-1!==i&&"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[i]===t?(e.index=i,a.columns.push(e)):n=!0}))),a.action&&a.columns.length&&e.push(a)})),!n&&e)};t.exports={parseCommand:function(t){if(!t||"string"!=typeof t)return!1;var e=new RegExp("^(https?://data.overheid.nl)(/.*?.csv)(#.*)?").exec(t);if(!e)return!1;var n={domain:"https://data.overheid.nl",path:e[2],manipulateRaw:null,manipulate:[]};return!!e&&(n.path=e[2],"string"==typeof e[3]&&(n.manipulateRaw=e[3]),n.manipulateRaw&&(n.manipulate=o(n.manipulateRaw)),n)},parseCSV:function(t,e){if("string"!=typeof t||"object"!==(void 0===e?"undefined":r(e))||!t.length)return!1;var n=!1,o=[],i=null;return t.split(/\r?\n/).forEach((function(t,r){if(!t.length)return!1;var a=[],s=t.split(";"),l=!0;i&&i!==s.length?n=!0:i=s.length;var u=[],c=[];e.manipulate.forEach((function(t){t.columns.forEach((function(e){var r=e.index;"number"!=typeof r&&(n=!0),"removewhere"===t.action&&"string"!=typeof e.equals&&(n=!0),(r>s.length-1||r<0)&&(n=!0)})),"date"!==t.action||n||(2===t.columns.length?(c.push({colIndex:t.columns[0].index,value:s[t.columns[0].index]+"-"+s[t.columns[1].index]}),t.columns.forEach((function(t){var e=t.index;-1===u.indexOf(e)&&u.push(e)}))):n=!0),"removewhere"!==t.action||n||t.columns.forEach((function(t){var e=t.index;s[e]===t.equals&&(l=!1)})),"remove"!==t.action||n||t.columns.forEach((function(t){var e=t.index;-1===u.indexOf(e)&&u.push(e)}))})),s.forEach((function(t,e){-1===u.indexOf(e)&&a.push(t)})),c.forEach((function(t,e){a.splice(t.colIndex,0,t.value)})),l&&o.push(a)})),!n&&o},parseManipulate:o}}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(6),i=n(1);e.WrapperMaps=function(t,e,n){if(n&&n.settings&&n.settings.storage){var a=function(t){return"string"==typeof t?t:t&&t.hasOwnProperty("nl")?t.nl:null},s=function(t,e,n,r){var o=l(t,e,null);return o&&o.hasOwnProperty(n)?o[n]:r},l=function t(e,n,r){if(!e)return null;for(var o=n.split("."),i=e,a=0;a<o.length;a++){var s=o[a];if(void 0===i[s])return null;i=i[s]}if("[object Object]"!==Object.prototype.toString.call(i))return i;var l,u={};if("string"==typeof i.ref){var c=i.ref.split(",");for(a=0;a<c.length;a++){var g=t(e,c[a],r);for(var d in g)g.hasOwnProperty(d)&&(u[d]=g[d])}}for(var d in i)i.hasOwnProperty(d)&&(u[d]=i[d]);if(u.ref&&delete u.ref,r&&r.html&&((l=u)&&l.fill&&(l.color=l.fill,delete l.fill),u=l),r&&r.locale){if(void 0===u.nl)return"";u=u.nl}return u},u={data:n.settings.storage,onBoot:function(){var e=t.getStyle();this.hooks.getStyle((function(t){for(var o in function(t,e){t.credits.byLabel=a(e.footer.settings.madeBy.text),t.credits.byLink=a(e.footer.settings.madeBy.link),t.credits.lfLabel=a(e.footer.settings.creditline.text),t.credits.lfLink=a(e.footer.settings.creditline.link),t.credits.sourceLabel=a(e.footer.settings.source.text),e.footer.settings&&e.footer.settings.position&&e.footer.settings.position.length&&(t.credits.settings={},e.footer.settings.position.forEach((function(e){"left"!==e.position&&"right"!==e.position||("madeBy"===e.type&&(t.credits.settings.by=e.position),"source"===e.type&&(t.credits.settings.source=e.position),"creditline"===e.type&&(t.credits.settings.lf=e.position))}))),t.fontFamilies.regular=l(e,"text.style.description")["font-family"],t.fontFamilies.emphasized=l(e,"text.style.title")["font-family"],t.fontColors.regular=l(e,"text.style.description").fill,t.fontColors.emphasized=l(e,"text.style.title").fill,t.fontColors.faded=l(e,"footer.style.source").fill,t.fontSizes.large=l(e,"text.style.title")["font-size"],t.fontSizes.regular=l(e,"text.style.description")["font-size"],t.fontSizes.small=l(e,"footer.style.source")["font-size"],t.fontWeights.emphasized="bold",t.fontWeights.regular="normal";var n=l(e,"text.style.title"),r=l(e,"text.style.description");"string"==typeof n["font-weight"]&&(t.fontWeights.emphasized=n["font-weight"]),"string"==typeof r["font-weight"]&&(t.fontWeights.regular=r["font-weight"]),t.fontSizes.controls=l(e,"interactive2.style.dropdown.pre.barbox")?l(e,"interactive2.style.dropdown.pre.barbox")["font-size"]:null,t.fontSizes.controls||(t.fontSizes.controls=l(e,"svg.style.root")["font-size"]),t.fontStyles.regular="normal",t.fontStyles.emphasized="normal";var o=l(e,"interactive2.style.dropdown.pre.barbox.border-radius");t.borderRadius="string"==typeof o?o:"0px";var i=s(e,"interactive2.style.dropdown.pre.barbox","color","#222222"),u=s(e,"interactive2.style.dropdown.pre.barbox","background-color","#FFFFFF"),c=s(e,"interactive2.style.dropdown.pre.barbox","border","1px solid #CCCCCC");t.controls.button.background=u,t.controls.button.border=c,t.controls.button.text=s(e,"interactive2.style.dropdown.pre.dropdownlabel div","color",i),t.controls.input.background=s(e,"interactive2.style.search.pre.barbox","background-color","#FFFFFF"),t.controls.input.border=s(e,"interactive2.style.search.pre.barbox","border","1px solid #CCCCCC"),t.controls.input.text=s(e,"interactive2.style.search.pre.barbox","color","#222222"),t.controls.menu.background=s(e,"interactive2.style.dropdown.pre.dropdownbase","background-color",u),t.controls.menu.border=s(e,"interactive2.style.dropdown.pre.dropdownbase","border",c);var g=s(e,"interactive2.style.dropdown.pre.dropdownbase","color",i);t.controls.menu.text=s(e,"interactive2.style.dropdown.post.dropdownitem","color",g),t.page.margins.top=l(e,"svg.settings.box.margin-top")+"px",t.page.margins.right=l(e,"svg.settings.box.margin-right")+"px",t.page.margins.bottom=l(e,"svg.settings.box.margin-bottom")+"px",t.page.margins.left=l(e,"svg.settings.box.margin-left")+"px";var d=s(e,"svg.style.background","stroke","transparent"),f="transparent";d&&(f=d);var p=l(e,"newsmap.basemap");if(t.basemap={},p){for(var h in p)p.hasOwnProperty(h)&&-1!==h.indexOf("-color")&&(t.basemap[h]=p[h]);p.hasOwnProperty("font")&&(t.basemap.font=p.font)}"none"===f&&(f="transparent"),t.page.border=l(e,"svg.style.background.stroke-width")+"px solid "+f,t.page.background=l(e,"svg.style.background").fill,t.colors=[],e.colors.standard.forEach((function(e){t.colors.push(e)})),t.colors.push("#000000"),t.colors.push("#636363"),t.colors.push("#CCCCCC"),t.colors.push("#FFFFFF"),t.colorsExtra=[],e.colors.more&&e.colors.more.length&&e.colors.more.forEach((function(e){t.colorsExtra.push(e)})),t.colorsPalettes=[],e.colors.palettes&&e.colors.palettes.length&&e.colors.palettes.forEach((function(e){var n={label:e.label,colors:[]};e.colors.forEach((function(t){n.colors.push(t)})),t.colorsPalettes.push(n)})),t.colorScheme=e.colors.map;var m={en:"Drag and zoom with two fingers",nl:"Sleep en zoom met twee vingers"},y=a(m);null===y&&(y=m.en),t.locals.touchWarning=y;var v=l(e,"svg.style.root.-webkit-font-smoothing");t.page.extra.fontSmooth="antialiased"===v}(t,n.styling),e)if(e.hasOwnProperty(o)&&t.hasOwnProperty(o)){var i=e[o],u=t[o];for(var c in i)if(i.hasOwnProperty(c)&&u.hasOwnProperty(c)){var g=r(i[c]);null!==i[c]&&"number"!==g&&"string"!==g||(u[c]=i[c])}}}))},hooks:{getGeoJson:function(e,n,r,o){var i=t.getGeoPath();t.sendRequest(i+"/"+e+"/"+e+"."+n,(function(t){r(t)}),(function(){o()}))},getMapServer:function(){return t.getTilePath()},getDrive:function(e,n){var r={};"string"==typeof t.getParameter("useProxy")&&(r.useProxy=t.getParameter("useProxy")),i.init(r).load(e,(function(t){n(t)}))}}};e.style.position="relative",e.innerHTML="<div unfold-map-root></div>";o.init("AppRoot",e,u,!1,{lang:"nl"});window.addEventListener("resize",u.hooks.resize)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=n(1);e.WrapperVisualisations=function(t,e,n){if(n&&n.settings&&n.dataStore){var i={data:{dataStore:n.dataStore,settings:n.settings,style:n.styling},hooks:{getDrive:function(e,n){var r={};"string"==typeof t.getParameter("useProxy")&&(r.useProxy=t.getParameter("useProxy")),o.init(r).load(e,(function(t){n(t),i.hooks.digest()}))}}};e.style.position="relative",e.innerHTML="<div unfold-chart-root></div>";r.init("AppRoot",e,i,!1,{lang:"nl"});window.addEventListener("resize",i.hooks.digest)}}},function(t,e,n){t.exports=n(5)},function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return a})),n.d(e,"init",(function(){return s})),n.d(e,"setParameter",(function(){return l})),n.d(e,"setStyle",(function(){return u})),n.d(e,"setTilePath",(function(){return c})),n.d(e,"setGeoPath",(function(){return g})),n.d(e,"moduleVersions",(function(){return d}));var r=n(0),o=n(2),i=n(3);r.LocalFocus.addModule("WrapperMaps",o.WrapperMaps),r.LocalFocus.addModule("WrapperVisualisations",i.WrapperVisualisations);const a=r.LocalFocus.version,s=r.LocalFocus.init,l=r.LocalFocus.setParameter,u=r.LocalFocus.setStyle,c=r.LocalFocus.setTilePath,g=r.LocalFocus.setGeoPath,d=r.LocalFocus.moduleVersions},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Icon=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};e.Icon=function(t,e,n,r,i){var a,s,l,u,c,g,d=e.settings;d||(d=e),n&&(d=e.settingsClusters);var f={};t.select("g.unfold-icon").size()?s=t.select("g.unfold-icon"):(s=t.append("g").attr("class","unfold-icon")).append("g");var p=function(t,e){return!(f.hasOwnProperty(t)&&f[t]===e||(f[t]=e,0))},h={update:function(n,r,o){var i;if(i=o||("shapes-ordinal"===e.getOutputType()||"shapes-ordinal-line"===e.getOutputType()||"shapes-linear"===e.getOutputType()?h.getColorIcon("rectangle"):"circles"===e.getOutputType()?h.getColorIcon("circle"):h.getIconJson(n))){var d=function(t){var e="";return t.content.innerNodes.forEach((function(t){for(var n in e+=t.type+"-",t.attrs)e+=n+"-"+t.attrs[n]+"-"})),e}(i);d!==a&&(a=d,function(e){t.select("g.unfold-icon").select("g").children().forEach((function(t){t.remove()})),e.content.innerNodes.forEach((function(e){var n=t.select("g.unfold-icon").select("g").append(e.type);for(var r in e.attrs)n.attr(r,e.attrs[r])}))}(i));var f=h.getFill(n),m=h.getStrokeColor(n),y=h.getDashArray(),v=h.getStrokeWidth();(function(t){for(var e=!1,n=0,r=t.length;n<r;n++){var o=t[n];p(o[0],o[1])&&(e=!0)}return e})([["fill",f],["strokeColor",m],["dashArray",y]])&&(s.attr("fill",f),s.attr("stroke",m),s.attr("stroke-dasharray",y));var b=i.content.width,x=i.content.height;if(p("iconSize",r)||p("stroke-w",v)||p("content-w",b)||p("content-h"),x){p("stroke-width",v),s.select("g").attr("stroke-width",v);var w=b+v,M=x+v,Y=r/w,k=r/M;c=Math.min(Y,k),l=w*c,u=M*c,s.select("g").attr("transform","scale("+c+")"),s.attr("transform","translate("+v/2+", "+v/2+")");var S={width:l,height:u};g=S.width===S.height,0===S.width&&0===S.height&&(g=!1)}return{width:l,height:u,scale:c,anchorMiddle:g}}},getColorIcon:function(t){var e;return"rectangle"===t?e={content:{width:24,height:24,type:"g",innerNodes:[{type:"rect",attrs:{width:20,height:20}}]}}:"circle"===t&&(e={content:{width:24,height:24,type:"g",innerNodes:[{type:"circle",attrs:{r:10,cy:10,cx:14}}]}}),e},getIconJson:function(t){if(t&&t.getIndex){var e=t.getIndex().getIcon();if(e)return e}return d.getIcon()},getFill:function(t){if("string"==typeof r)return r;if(!t||!t.getIndex)return d.getFill();var e=t.getIndex().getFill();return e&&(0,o.default)().isValidColor(e)?e:void 0},getStrokeColor:function(t){if("string"==typeof i)return i;if(!t||!t.getIndex)return d.getStrokeColor();var e=t.getIndex().getStrokeColor();return e&&(0,o.default)().isValidColor(e)?e:void 0},getStrokeWidth:function(){return d.getStrokeWidth()},getDashArray:function(){return d.getDashArray()?"1,"+(2*h.getStrokeWidth()).toString():null}};return h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SheetCell=void 0;var r=n(57);e.SheetCell=function(t,e,n,o){var i={getKey:function(){return o},getValue:function(){var t=e.getData(),r=n+","+o;return"string"==typeof t[r]?t[r]:""},getValueSize:function(){var e,n=i.getValue(),r=i.parentColumn();r.isTypeMeta("decimalDot")?e=44:r.isTypeMeta("decimalComma")&&(e=46);for(var o=n.length,a="",s=0;s<o;s++){var l=n[s],u=l.charCodeAt(0);u!==e&&8364!==u&&37!==u&&36!==u&&(a+=l)}return t.AppUtils.isValidNumber(a)},setValue:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.getData(),s=n+","+o;return"string"==typeof t&&(t=t.trim()),"string"==typeof t&&t.length?a[s]=t:a.hasOwnProperty(s)&&delete a[s],!0===r&&e.update(),i},getYoutubeId:function(){var t=i.getValue();if(t.length){var e=t.match(/^(?:https:\/\/youtu\.be\/|https:\/\/www\.youtube\.com\/watch\?v=|https:\/\/www\.youtube\.com\/embed\/|https:\/\/www\.youtube\.com\/embed\?v=)([A-Za-z0-9\_\-]{5,20})(?:\&.+)?$/);if(e&&"string"==typeof e[1])return e[1]}return null},isInBounds:function(){return n<e.countRows()&&o<e.countColumns()},isValidLatLng:function(){var e=i.getValue(),n=t.AppUtils.isValidLatLng(e);return!1!==n&&n},getIndex:function(){return(0,r.SheetIndex)(t,e,n,o)},parentColumn:function(){return e.getColumn(o)},parentRow:function(){return e.getRow(n)},parentSheet:function(){return e}};return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=r(t);var e=[],n=[],o={a:"áàâäãåăą",u:"úùûüų",e:"éèêëęěė",o:"óòôöõő",i:"íìîïī",oe:"œ",c:"çč",n:"ńñň",s:"şšś",y:"ý",z:"žź",t:"ţ",l:"ł",r:"ř"};for(var i in o)if(o.hasOwnProperty(i))for(var a=o[i],s=0;s<a.length;s++)e.push(a[s]),n.push(i);var l={},u={},c={},g={utils:null,lazyResolve:function(t,e,n){for(var r=e.split("."),o=r.pop(),i=t,a=0;a<r.length;a++){var s=r[a];void 0!==i[s]&&(i=i[s])}return void 0===i[o]?n:i[o]},lazySet:function(t,e,n){for(var r=e.split("."),o=r.pop(),i=t,a=0;a<r.length;a++){var s=r[a];void 0===i[s]&&(i[s]={}),i=i[s]}i[o]=n},isValidColor:function(t,e){if("string"!=typeof t)return!1;if("transparent"===t||"none"===t)return t;var n=t.length;if(4!==n&&7!==n)return!1;if(!0===e&&7!==n)return!1;for(var r=0;r<n;r++){var o=t.charCodeAt(r);if(r){if(!(o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=90))return!1}else if(35!==o)return!1}return t},isValidNumber:function(t){if("string"!=typeof t)return!1;var e=t.length;if(!e||"-"===t||"."===t||","===t)return!1;if(l.hasOwnProperty(t))return l[t];for(var n=!1,r="",o=0;o<e;o++){var i=t[o],a=i.charCodeAt(0);if(o||45!==a)if(44===a||46===a){if(n)return!1;n=!0,r+="."}else{if(a<48||a>57)return!1;r+=i}else r+="-"}var s=+r;return l[t]=s,s},isValidPositiveNumber:function(t){var e=g.isValidNumber(t);return!1!==e&&e>=0&&e},isValidLatLng:function(t){var e=g.isValidNumber(t);return!(!1===e||e<-180||e>180)&&e},isValidUrl:function(t){return!("string"!=typeof t||!t.length)&&(t.match(/^http:\/\//)?"https://"+t.substring(7):t.match(/^https:\/\//)?t:t.match(/^\/\//)?"https:"+t:"https://"+t)},isValidHttpsUrl:function(t){var e=g.isValidUrl(t);return!1!==e&&0===e.indexOf("https://")&&e},compareString:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof t&&"string"==typeof e&&(n&&(t=g.normalizeString(t)),r&&(e=g.normalizeString(e)),t===e)},searchString:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof t&&"string"==typeof e&&(n&&(t=g.normalizeString(t)),r&&(e=g.normalizeString(e)),-1!==t.indexOf(e))},normalizeString:function(t){if("string"!=typeof t)return"";if(u.hasOwnProperty(t))return u[t];for(var r=t.toLowerCase(),o="",i=0,a=(r=g.trim(r)).length;i<a;i++){var s=r[i],l=e.indexOf(s);o+=-1===l?s:n[l]}return u[t]=o,o},trim:function(t){for(;t.length&&" "===t[0];)t=t.substr(1);for(;t.length&&" "===t[t.length-1];)t=t.substring(0,t.length-1);return t},isDarkColor:function(t){if("string"!=typeof t)return!1;if("transparent"===t||"none"===t)return!1;if(c.hasOwnProperty(t))return c[t];var e,n,r,o=t;return o.match(/^rgb/)?(e=(o=o.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],n=o[2],r=o[3]):(e=(o=+("0x"+o.slice(1).replace(o.length<5&&/./g,"$&$&")))>>16,n=o>>8&255,r=255&o),Math.sqrt(e*e*.299+n*n*.587+r*r*.114)>127.5?(c[t]=!1,!1):(c[t]=!0,!0)},debounce:function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}},calculateBoundaries:function(t,e){var n=t.append("svg"),r=n.append(e).getBBox();return n.remove(),r}};return g};var r=function(t){return{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baseApp=void 0;var r=(0,n(9).Unfold)();e.baseApp=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.UnfoldElements=function(){var t=window,e=document;function n(t){return void 0===t}function o(t){return"string"==typeof t}function i(t){return"number"==typeof t}function a(e){var l,u,c={raw:[(l=e,u=[],e=t.Array.isArray(l)?(l.forEach((function(t){-1===u.indexOf(t)&&u.push(t)})),u):(t.console.warn("New element should be an array but got ",l),[]))],insertBefore:function(t){return t.parent().node().insertBefore(this.node(),t.node()),c},append:function(n){for(var r=[],i=e.length-1;i>=0;i--){var l,u=e[i];o(n)&&(c.isSVG()||"svg"===n)?l=s.create(n,"svg").node():o(n)?l=s.create(n).node():(c.count()>1&&t.console.warn("appending one element to multiple elements"),l=n.node()),u.appendChild(l),r.push(l)}return new a(r)},remove:function(){return c.each((function(t,e){t.parent().node().removeChild(t.node())})),c},value:function(t){if(n(t))return(o=c.node())?o.value:void 0;for(var r=e.length-1;r>=0;r--){var o;(o=e[r]).value=t}return c},classed:function(t,r){var i=function(t){var e=[],n=c.attr("class");return o(n)&&(e=n.split(" ")),e};if(n(r))return(s=c.node())?-1!==i().indexOf(t):null;for(var a=e.length-1;a>=0;a--){var s=e[a],l=i(),u=l.indexOf(t);r?-1===u&&l.push(t):u>-1&&l.splice(u,1),s.setAttribute("class",l.join(" "))}return c},style:function(t,r){if(n(r))return(i=c.node())?i.style[t]:null;for(var o=e.length-1;o>=0;o--){var i=e[o];null===r?i.style[t]="":i.style[t]!==r&&(i.style[t]=r)}return c},attr:function(t,r){if(n(r))return(a=c.node())?a.getAttribute(t):null;for(var o=c.isSVG(),i=e.length-1;i>=0;i--){var a=e[i];o?null===r?a.hasAttribute(t)&&a.removeAttributeNS(null,t):a.getAttribute(t)!==r&&a.setAttributeNS(null,t,r):null===r?a.hasAttribute(t)&&a.removeAttribute(t):a.getAttribute(t)!==r&&a.setAttribute(t,r)}return c},checked:function(t){if(n(t))return(o=c.node())?!!o.checked:null;for(var r=e.length-1;r>=0;r--){var o;return(o=e[r]).checked=t,c}},height:function(t){if(n(t)){var r=c.node();return r?r.offsetHeight:null}if(i(t)){for(var o=e.length-1;o>=0;o--)e[o].style.offsetHeight=t+"px";return c}throw"height(num): num should be typeof number"},outerHeight:function(){var t=c.node();if(t){var e=t.offsetHeight,n=window.getComputedStyle(t);return e+(parseInt(n.marginTop)+parseInt(n.marginBottom))}return null},width:function(t){if(n(t)){var r=c.node();return r?r.offsetWidth:null}if(i(t)){for(var o=e.length-1;o>=0;o--)e[o].style.offsetWidth=t+"px";return c}throw"width(num): num should be typeof number"},outerWidth:function(){var t=c.node();if(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft)+parseInt(n.marginRight))}return null},getBBox:function(){if(c.isSVG()){if(!(t=c.node()))return null;try{return t.getBBox()}catch(e){return console.warn("Cannot use getBBox on element. Possibly hidden. ",t),{height:0,width:0,x:0,y:0}}}else{var t;if(t=c.node())return console.warn("Cannot use getBBox on non svg elements. Falling back to width and height",t),{height:c.height(),width:c.width(),x:0,y:0}}},count:function(){return e.length},size:function(){return c.count()},node:function(t){if(c.count()>0){if(n(t)&&e[0])return e[0];if(i(t)&&e[t])return e[t]}return null},get:function(t){var e=c.node(t);return e?new a([e]):null},clone:function(t){if(!t){var e=c.get();if(e){var n=null;e.isSVG()&&(n="svg"),t=s.create(e.node().tagName,n)}}if(!t)return null;for(var r=c.node().attributes,o=0,i=r.length;o<i;o++){var a=r[o];t.attr(a.nodeName,a.nodeValue)}return c.childNodes().each((function(e){var n=e.node();if(3===n.nodeType)t.node().appendChild(document.createTextNode(n.textContent));else if(1===n.nodeType){var r=t.append(n.tagName);e.clone(r)}})),t},isSVG:function(){var e=c.node();return e?e&&e instanceof t.SVGElement:null},each:function(t){for(var n=e.length,r=0;r<n;r++){var o=new a([e[r]]);t.apply(o,[o,r])}return c},forEach:function(t){return c.each(t)},select:function(t){for(var n=[],r=e.length-1;r>=0;r--){var o=e[r].querySelector(t);o&&0===n.length&&n.push(o)}return new a(n)},selectAll:function(t){for(var n=[],r=e.length-1;r>=0;r--)for(var o=e[r].querySelectorAll(t),i=0;i<o.length;i++){var s=o[i];n.push(s)}return new a(n)},children:function(){var t=[];if(c.isSVG())return c.childNodes(1);for(var n=0,r=e.length;n<r;n++)for(var o=e[n].children,i=0,s=o.length;i<s;i++){var l=o[i];t.push(l)}return new a(t)},childNodes:function(t){for(var n=[],r=0,o=e.length;r<o;r++)for(var i=e[r].childNodes,s=0,l=i.length;s<l;s++){var u=i[s];"number"==typeof t?u.nodeType===t&&n.push(u):n.push(u)}return new a(n)},parent:function(){for(var t=[],n=e.length-1;n>=0;n--){var r=e[n].parentNode;r&&t.push(r)}return new a(t)},text:function(t){if(n(t))return(o=c.node())?o.textContent:null;for(var r=e.length-1;r>=0;r--){var o;(o=e[r]).textContent!==t&&(o.textContent=t)}return c},html:function(t){var r=c.isSVG();if(!n(t)){for(var o=e.length-1;o>=0;o--){var i=e[o];r?console.warn("Cannot set html on svg element"):i.innerHTML=t}return c}return(i=c.node())?r?void console.warn("Cannot get html on svg element"):i.innerHTML:null},on:function(t,n){for(var r=e.length-1;r>=0;r--)e[r].addEventListener(t,(function(t){n.apply(c,[t])}));return c},data:function(t,o){if(e.forEach((function(t){t.__unfoldData__&&function(t){return t&&"object"===(void 0===t?"undefined":r(t))}(t.__unfoldData__)||(t.__unfoldData__={})})),n(o)){var i=c.node();return i?i.__unfoldData__[t]:void 0}return e.forEach((function(e){e.__unfoldData__[t]=o})),c},merge:function(t){for(var n=[],r=0,o=(w=e[0].childNodes).length;r<o;r++)if(1===(Y=w[r]).nodeType){if(!1===Y.__mergeKey__)continue;n.push(Y)}var i={},a={},l=[],u=n.length,g=t.items.length;for(r=0;r<u;r++){var d=n[r],f=d.__mergeKey__;void 0!==f?i[f]=d:(console.warn("lost item in merge",w),t.exit(d))}for(r=0;r<g;r++){var p=t.items[r],h=t.key(p);a[h]=p,l.push(h)}for(var m in i)if(i.hasOwnProperty(m)&&!a.hasOwnProperty(m)){var y=s.transform(i[m]);delete i[m],t.animate?function(e){e.node().__mergeKey__=!1;var n="y"===t.animateDirection?"Y":"X";e.classed("unfold-merge-animation",!0).style("transform","translate"+n+"(0px)").style("opacity","1"),window.setTimeout((function(){e.style("transform","translate"+n+"(-50px)").style("opacity","0"),window.setTimeout((function(){e.classed("unfold-merge-animation",!1),t.exit(y)}),250)}),10)}(y):t.exit(y)}for(var v="function"==typeof t.update,b=(r=0,l.length);r<b;r++){p=a[m=l[r]];var x=null;i.hasOwnProperty(m)?x=s.transform(i[m]):((x=c.append(t.append)).node().__mergeKey__=m,t.enter(x,p),i[m]=x.node(),t.animate&&function(e){var n="y"===t.animateDirection?"Y":"X";e.classed("unfold-merge-animation",!0).style("transform","translate"+n+"(-50px)").style("opacity","0"),window.setTimeout((function(){e.style("transform","translate"+n+"(0px)").style("opacity","1"),window.setTimeout((function(){e.classed("unfold-merge-animation",!1)}),250)}),10)}(x)),v&&t.update(x,p)}if(!0===t.sort){var w,M=!1;for(r=0,o=(w=e[0].childNodes).length;r<o;r++){var Y;if(1===(Y=w[r]).nodeType&&Y.__mergeKey__!==l[r]){M=!0;break}}if(M)for(r=0,b=l.length;r<b;r++)i.hasOwnProperty(l[r])&&(x=s.transform(i[l[r]]),c.append(x))}return c}};return c}var s={create:function(t,n){if("svg"===n){var r=new a([e.createElementNS("http://www.w3.org/2000/svg",t)]);return"svg"===t&&(r.node().setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),r.node().setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.attr("version","1.1")),r}return new a([e.createElement(t)])},transform:function(t){if(o(t)){for(var n=[],r=e.querySelectorAll(t),i=0;i<r.length;i++)n.push(r[i]);return new a(n)}return new a([t])}};return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tester=function(t){var e=[{type:"lat",headerFunction:function(t){var e=t.getLabel().toLowerCase();return-1!==["lat","latitude","y"].indexOf(e)},cellFunction:function(e){return!1!==t.AppUtils.isValidLatLng(e.getValue())}},{type:"lng",headerFunction:function(t){var e=t.getLabel().toLowerCase();return-1!==["lng","lon","long","longitude","x"].indexOf(e)},cellFunction:function(e){return!1!==t.AppUtils.isValidLatLng(e.getValue())}},{type:"size",headerFunction:function(t){return!0},cellFunction:function(e){return!1!==t.AppUtils.isValidNumber(e.getValue())}},{type:"geo",headerFunction:function(t){return!0},cellFunction:function(t){return!!t.parentSheet().parentLayer().geo.hasSuggestion(t.getValue())}}];return{test:function(t){e.forEach((function(e){t.parentSheet().getColumn(e.type)||t.getTypes().length||function(t,e){for(var n=t.hasTypes(),r=0;r<n.length;r++)if(n[r].key===e)return!0;return!1}(t,e.type)&&e.headerFunction(t)&&function(t,e){for(var n=0,r=0,o=t.getCells(),i=0,a=o.length;i<a&&!(r>=20);i++)e(o[i])&&n++,r++;return r>=2&&n/r>=.6}(t,e.cellFunction)&&t.setType(e.type,!0)}))}}},e.detectSeperator=function(t,e){for(var n=0,r=(l=e.getCells()).length;n<r;n++){var o=l[n].getValue();if(!1!==t.AppUtils.isValidNumber(o))for(var i=o.length-1;i>=0;i--){var a=o[i],s=o.length-1-i;if("."===a&&3!==s)return"decimalDot";if(","===a&&3!==s)return"decimalComma"}}var l,u={thousandDot:0,thousandComma:0};for(n=0,r=(l=e.getCells()).length;n<r;n++)if(o=l[n].getValue(),!1!==t.AppUtils.isValidNumber(o))for(i=o.length-1;i>=0;i--)a=o[i],s=o.length-1-i,"."===a&&3===s&&(u.thousandDot+=1),","===a&&3===s&&(u.thousandComma+=1);return u.thousandDot>u.thousandComma?"decimalComma":u.thousandComma>u.thousandDot?"decimalDot":null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorArray=function(){return[{negColors:[],posColors:[]},{negColors:["#DB4140"],posColors:["#009BDB"]},{negColors:["#DB4140","#F89E5D"],posColors:["#A1C1E6","#009BDB"]},{negColors:["#DB4140","#F89E5D","#FFCE7B"],posColors:["#B8CCEA","#6BB0E1","#0089CF"]},{negColors:["#C0264B","#E66042","#F89E5D","#FFCE7B"],posColors:["#B8CCEA","#6BB0E1","#009BDB","#0073AE"]},{negColors:["#C0264B","#E66042","#F89E5D","#FCBB6D","#FFD990"],posColors:["#CCD4EC","#A1C1E6","#6BB0E1","#009BDB","#0073AE"]},{negColors:["#B7274C","#DB4140","#F3704B","#F89E5D","#FCBB6D","#FFD990"],posColors:["#CCD4EC","#A1C1E6","#6BB0E1","#009EDB","#0089CF","#00689E"]},{negColors:["#C0264B","#DB4140","#F3704B","#F89E5D","#FCBB6D","#FFD990","#FFEAB1"],posColors:["#CCD4EC","#A1C1E6","#6BB0E1","#009EDB","#0089CF","#00689E","#083858"]}]}},function(t,e,n){"use strict";function r(){this.url=!1,this.payload=!1,this.callback=!1,this.errorCallback=!1,this.destroy=function(){setTimeout((function(){removeRequest()}),700)},this.call=function(){fetch("https://localfocus.nl",{method:"POST",body:this.payload}).then((function(t){return t.text()})).then((function(t){return console.log(t)})),console.log(null)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{x:function(t,e,n,o){var i=Date.now(),a=new r;a.url="services.php?c="+t+"&timestamp="+i,a.payload=e,a.callback=n,a.errorCallback=o,console.log(a.url),a.call()}}}},function(t,e,n){n(3),t.exports=n(41)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Unfold=void 0;var r=n(4),o=0,i=function(t,e){var i={lang:"en"},a=[],s=!1,l=!1,u=function(){for(var t=a.length-1;t>=0;t--)a[t]||a.splice(t,1);a.sort((function(t,e){var n=-1,r=-1;return t&&(n=t.services.priority()),e&&(r=e.services.priority()),r-n}))},c={attach:function(e,r,i,s){var l=t[e]();l.name=e;var u=function(t,e,r,i,a){var s=[],l=null;a&&(l=a);var u=[],c=[],g=0,d={attach:function(e,n,o){"string"==typeof n&&(n=r.select(n));var i=t.attach(e,n,o,f);return s.push(i),d},detach:function(t){var e=!1;return s.forEach((function(n,r){n.services.element().node()===t.node()&&(n.destroy(),s.splice(r,1),e=!0)})),e||console.warn("trying to detach element that has no component attached",t),d},digest:function(){return t.digest(),d},broadcast:function(e,n){return t.broadcast(e,n),d},localDigest:function(){var t="digest "+o+" ("+e.name+" and children)";return o++,console.time(t),f.localDigest(),console.timeEnd(t),d},watch:function(t,e){var n=function(t,e){var n;return{digest:function(){e?(n=t(),e(n)):t(n)}}}(t,e);return u.push(n),n.digest(),d},listen:function(t,e){var n=function(t,e){return{digest:function(n,r){n===t&&e(r)}}}(t,e);return c.push(n),d},parent:function(){return l.services},keyGen:function(){return g++},merge:function(t){return r.merge({items:t.data,key:function(e){return e[t.key]},append:t.append,enter:function(e,n){d.attach(t.attach,e,n)},update:function(){},exit:function(t){d.detach(t),t.remove()}}),d},data:function(){return i},element:function(){return r},priority:function(){return"number"==typeof e.priority?e.priority:1}};t.attachServices(d);var f={digest:function(){for(var t=0,e=u.length;t<e;t++){var n=u[t];try{n.digest()}catch(t){(console.error||console.log).call(console,t.stack||t)}}},broadcast:function(t,e){for(var n=0,r=c.length;n<r;n++){var o=c[n];try{o.digest(t,e)}catch(t){(console.error||console.log).call(console,t.stack||t)}}},localDigest:function(){f.digest(),s.forEach((function(t,e){t.localDigest()}))},services:d,destroy:function(){"function"==typeof e.destroy&&e.destroy(d,r,i),s.forEach((function(t){t.destroy()})),u=[],c=[],s=[],t.detach(r)}};return e.template&&(r.html(n(10)("./"+e.template+".html")),r.selectAll("[unfold-translate]").each((function(t){var e=t.attr("unfold-translate");"text"===t.attr("type")&&"input"===t.node().tagName.toLowerCase()?t.attr("placeholder",d.EditTranslations.translate(e)):t.text(d.EditTranslations.translate(e))}))),e.sass&&r.classed(""+e.sass,!0),e.create(d,r,i),f}(c,l,r,i,s),g=Object.prototype.toString.call(i);return"[object Array]"!==g&&"[object Object]"!==g&&console.error("Data passed for new component "+e+" is not object or array. This will break two way binding. Element: ",r),a.push(u),u},detach:function(t){for(var e=!1,n=0,r=a.length;n<r;n++){var o=a[n];o&&o.services.element().node()===t.node()&&(a[n]=!1,e=!0)}return e||console.warn("trying to detach element that has no component attached",t),c},digest:function(){if(!l){l=!0,s&&console.time("digest "+o),u();for(var t=0,e=a.length;t<e;t++){var n=a[t];n&&n.digest()}return s&&console.timeEnd("digest "+o),o++,l=!1,c}console.warn("Unfold is already digesting")},broadcast:function(t,e){u();for(var n=0,r=a.length;n<r;n++){var o=a[n];o&&o.broadcast(t,e)}return c},attachServices:function(t){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n](t,s,i));return t}};return{init:function(t,e,n,o,a){if(!0===o&&(s=o),a)for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);s&&console.time("start up digest");var u=(0,r.UnfoldElements)().transform(e),g=c.attach(t,u,n);return s&&console.timeEnd("start up digest"),g.services}}};e.Unfold=function(){var t={},e={},n={component:function(e,r){return t[e]=r,n},service:function(t,r){return e[t]=r,n},init:function(n,r,o,a,s){return i(t,e).init(n,r,o,a,s)}};return n}},function(t,e,n){var r={"./EditColumn.html":11,"./EditGeoSelect.html":12,"./EditMarker.html":13,"./EditOverlay.html":14,"./EditOverlayClusters.html":15,"./EditOverlayEmpty.html":16,"./EditOverlayEmptyPopup.html":17,"./EditOverlayEmptyTooltip.html":18,"./EditOverlayLegend.html":19,"./EditOverlayMap.html":20,"./EditOverlayMarkerclusters.html":21,"./EditOverlayPopup.html":22,"./EditOverlayRemove.html":23,"./EditOverlayScale.html":24,"./EditOverlaySpreadsheet.html":25,"./EditOverlayStylesCircles.html":26,"./EditOverlayStylesCustomLegendItem.html":27,"./EditOverlayStylesLabels.html":28,"./EditOverlayStylesMarkers.html":29,"./EditOverlayStylesMarkersIconPicker.html":30,"./EditOverlayStylesShapesLinear.html":31,"./EditOverlayStylesShapesOrdinal.html":32,"./EditOverlayTitles.html":33,"./EditOverlayTooltip.html":34,"./EditOverlayUnpivot.html":35,"./EditPanelLayers.html":36,"./EditPanelOptions.html":37,"./EditRoot.html":38,"./app.html":39,"./listItem.html":40};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=10},function(t,e){t.exports='\n<div class="types types-important"></div>\n<div class="types types-less-important"></div>\n<div class="extras">\n\t<div class="extras-geo-only extras-geo-add" unfold-translate="spreadsheet-addgeo"></div>\n\t<div class="extras-geo-only extras-geo-change" unfold-translate="spreadsheet-changegeo"></div>\n\t<div class="extras-clear" unfold-translate="spreadsheet-clearcolumn"></div>\n</div>\n'},function(t,e){t.exports='<div unfold-translate="spreadsheet-choosegeo"></div> \n<div class="geo-select"></div>\n<div class="custom-geo" unfold-translate="spreadsheet-customgeo"></div>\n'},function(t,e){t.exports='<p>\n\t<strong></strong>\n</p>\n<input class="fill"/>\n<input class="color"/>\n<input class="size"/>\n<input class="strokeColor"/>\n<input class="labelPosition"/>\n<input class="labelSize"/>\n\n<div class="icons">\n\t\x3c!-- placeholder for icons --\x3e\n</div>\n'},function(t,e){t.exports="\n"},function(t,e){t.exports='<div class="clusters"></div>\n'},function(t,e){t.exports='<div>\n\t<p unfold-translate="spreadsheet-empty-question"></p>\n\t<button unfold-translate="spreadsheet-empty-ok"></button>\n</div>\n'},function(t,e){t.exports='<div>\n\t<p unfold-translate="spreadsheet-empty-popup-question"></p>\n\t<button unfold-translate="spreadsheet-empty-popup-ok"></button>\n</div>\n'},function(t,e){t.exports='<div>\n\t<p unfold-translate="spreadsheet-empty-tooltip-question"></p>\n\t<button unfold-translate="spreadsheet-empty-tooltip-ok"></button>\n</div>\n'},function(t,e){t.exports='<div>\n\t<button class="add-legend-item" unfold-translate="add-legend"></button>\n</div>\n\n<div class="all-layers"></div>\n'},function(t,e){t.exports='<div class="edit-row">\n\t<div>\n\t\t<label>\n\t\t\t<input class="edit-overlay-map-layer" type="checkbox" />\n\t\t\t<span unfold-translate="global-map-showbasemap"></span>\n\t\t</label>\n\t</div>\n\t<div class="hide-no-basemap">\n\t\t<label>\n\t\t\t<input class="edit-overlay-map-labels" type="checkbox" />\n\t\t\t<span unfold-translate="global-map-showlabels"></span>\n\t\t</label>\n\t</div>\n</div>\n<br/>\n<div class="edit-row">\n\t<div>\n\t\t<label>\n\t\t\t<input class="edit-overlay-map-fitbounds" type="checkbox" />\n\t\t\t<span unfold-translate="global-map-fitscreen"></span>\n\t\t</label>\n\t</div>\n\t<div>\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="global-map-minzoom"></h4>\n\t\t<input class="edit-overlay-map-zoom-min" type="number" min="1" max="17" />\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="global-map-maxzoom"></h4>\n\t\t<input class="edit-overlay-map-zoom-max" type="number" min="1" max="17" />\n\t</div>\n</div>\n\n<div class="edit-row show-no-basemap">\n\t<div>\n\t\t<h4 unfold-translate="global-map-mapbackground"></h4>\n\t\t<div class="edit-overlay-map-background"></div>\n\t</div>\n\t<div>\n\t</div>\n</div>\n'},function(t,e){t.exports='<div>\n\t<h4 unfold-translate="clusters+"></h4>\n\t<label>\n\t\t<input type="checkbox" class="edit-clusters"> <span unfold-translate="scale-customactive"></span>\n\t</label>\n\t\x3c!-- Style the clusters --\x3e\n\t<h4 unfold-translate="configure-icon"></h4>\n\t<div class="icon-picker"></div>\n\t\n\t<div class="edit-row">\n\t\t<div>\n\t\t\t<h4 unfold-translate="configure-color"></h4>\n\t\t\t<div class="edit-fill"></div>\n\t\t</div>\n\t\t<div>\n\t\t\t<h4 unfold-translate="configure-strokecolor"></h4>\n\t\t\t<div class="edit-stroke"></div>\n\t\t</div>\n\t</div>\n\t\n\t<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-size"></h4>\n\t\t<input class="edit-size" type="number">\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-strokewidth"></h4>\n\t\t<input class="edit-stroke-width" type="number">\n\t</div>\n</div>\n</div>\n'},function(t,e){t.exports='<div>\n\t\x3c!-- Button for emptying the popup or tooltip --\x3e\n\t<div class="top-menu">\n\t\t<span class="edit-overlay-empty" unfold-translate="popup-empty"></span>\n\t\t<span class="edit-overlay-modus">\n\t\t\t<span class="edit-overlay-modus-html" unfold-translate="edit-mode-html"></span>\n\t\t\t<span class="edit-overlay-modus-text" unfold-translate="edit-mode-text"></span>\n\t\t</span>\n\t</div>\n\t\x3c!-- Styling buttons come here --\x3e\n\t<div class="styling-buttons"></div>\n\t\n\t\x3c!-- Template buttons come here --\x3e\n\t<div class="template-buttons"></div>\n\t\n\t\n\t\n\t<div class="edit-fields"></div>\n\t\n\t<div class="edit-row">\n\t\t<div class="image-upload" style="display: none">\n\t\t\t<h4 unfold-translate="add-image"></h4>\n\t\t\t<input type="file" class="edit-style-custom-image">\n\t\t\t<div class="image-upload-preview"></div>\n\t\t</div>\n\n\t\t<div class="youtube-video" style="display: none">\n\t\t\t<h4 unfold-translate="add-youtube"></h4>\n\t\t\t<input type="text">\n\t\t</div>\n\t</div>\n</div>\n'},function(t,e){t.exports='<p unfold-translate="remove-popup-question"></p>\n<button unfold-translate="remove-popup-ok"></button>\n'},function(t,e){t.exports='<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="scale-prefix"></h4>\n\t\t<input class="prefix" />\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="scale-suffix"></h4>\n\t\t<input class="suffix" />\n\t</div>\n</div>\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="scale-unit"></h4>\n\t\t<input class="unit" />\n\t</div>\n\t<div>\n\t</div>\n</div>\n\n<h4 unfold-translate="scale-custom"></h4>\n<div>\n\t<label>\n\t\t<input type="checkbox" class="edit-custom-scale"> <span unfold-translate="scale-customactive"></span>\n\t</label>\n</div>\n<div class="reversed">\n\t<label>\n\t\t<input type="checkbox" class="edit-scale-reversed"> <span unfold-translate="scale-customreverse">\n\t</label>\n</div>\n\n<div class="customScaleEditor">\n\n\t<h4 unfold-translate="scale-customticks"></h4>\n  <div class="select-holder">\n    <select class="bucketCount"></select>\n  </div>\n\n\t<div class="edit-scale-tick-holder"></div>\n\t<div class="edit-scale-color-holder"></div>\n\n</div>\n'},function(t,e){t.exports='<div>\n\t<div class="top-menu">\n\t\t<span class="top-menu-download-spreadsheet" unfold-translate="spreadsheet-download"></span>\n\t\t<span class="top-menu-empty-spreadsheet" unfold-translate="spreadsheet-empty"></span>\n\t\t<span class="top-menu-drive" unfold-translate="spreadsheet-drive-add"></span>\n\t\t<span class="top-menu-unpivot" unfold-translate="spreadsheet-unpivot"></span>\n\t\t<div class="external">\n\t\t\t<p class="status"><span class="status-text"></span> <a unfold-translate="spreadsheet-drive-helper" href="" target="_blank" class="status-helper"></a></p>\n\t\t\t<input class="edit-external" type="text" >\n\t\t</div>\n\t</div>\n\t<div class="geo"></div>\n\t\n\t<div class="table">\n\t\t\n\t\t\n\t\t\n\t\t<div class="search-bar">\n\t\t\t<input class="search" type="text" unfold-translate="spreadsheet-find">\n\t\t\t<input class="replace" type="text" unfold-translate="spreadsheet-replace">\n\t\t\t<button class="replace-all" unfold-translate="spreadsheet-replaceall"></button>\n\t\t</div>\n\t\t<div class="pagination-bar">\n\t\t\t<input class="set-prev" type="number" min="2" step="1">\n\t\t\t<button class="prev">&lt;</button><button class="next">&gt;</button>\n\t\t</div>\n\t\t<div class="table-wrapper">\n\t\t\t<div class="table-wrapper-tooltip">\n\t\t\t\t<div></div>\n\t\t\t\t<i>\n\t\t\t\t\t<span><svg style="width: 1em; height: 1em;" viewBox="0 0 24 24"><path fill="currentColor" d="M11,1.07C7.05,1.56 4,4.92 4,9H11M4,15A8,8 0 0,0 12,23A8,8 0 0,0 20,15V11H4M13,1.07V9H20C20,4.92 16.94,1.56 13,1.07Z" /></svg></span>\n\t\t\t\t\t<span unfold-translate="spreadsheet-tooltip-rightclick"></span>\n\t\t\t\t</i>\n\t\t\t</div>\n\t\t\t<button class="next-error"></button>\n\t\t\t<div class="tutorials"></div>\n\t\t\t<table></table>\n\t\t</div>\n\t\t<div class="pagination" style="display: none"></div>\n\t</div>\n</div>\n'},function(t,e){t.exports='<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-color"></h4>\n\t\t<div class="edit-fill"></div>\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-strokecolor"></h4>\n\t\t<div class="edit-stroke"></div>\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-size"></h4>\n\t\t<input class="edit-size">\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-strokewidth"></h4>\n\t\t<input class="edit-stroke-width">\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<label>\n\t\t\t<input type="checkbox" class="edit-dash-array"> <small unfold-translate="configure-dash"></small>\n\t\t</label>\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-opacity"></h4>\n\t\t<input class="edit-opacity" type="number">\n\t</div>\n</div>\n'},function(t,e){t.exports='<div class="icon-picker"></div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4>Marker color</h4>\n\t\t<div class="edit-fill"></div>\n\t</div>\n\t<div>\n\t\t<h4>Marker stroke color</h4>\n\t\t<div class="edit-stroke"></div>\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4>Stroke width</h4>\n\t\t<input class="edit-stroke-width">\n\t</div>\n\t<div>\n\t\t<h4>Dash array</h4>\n\t\t<label>\n\t\t\t<input type="checkbox" class="edit-dash-array"> <span>Activate</span>\n\t\t</label>\n\t</div>\n</div>\n'},function(t,e){t.exports='<div class="edit-row-label">\n\t<div>\n\t\t<h4 unfold-translate="configure-label"></h4>\n\t\t<input type="text" class="edit-label-value">\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-color"></h4>\n\t\t<div class="edit-color"></div>\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-backgroundcolor"></h4>\n\t\t<div class="edit-labelBackground"></div>\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-size"></h4>\n\t\t<input type="number" class="edit-label-size">\n\t</div>\n\t<div class="edit-label-position">\n\t\t<h4 unfold-translate="configure-position"></h4>\n\t\t<div>\x3c!-- Direction buttons will go here --\x3e</div>\n\t</div>\n</div>\n\t\t\n\n<h4 unfold-translate="configure-opacity"></h4>\n<input class="edit-opacity">\n'},function(t,e){t.exports='\n<h4 unfold-translate="configure-icon"></h4>\n<div class="icon-picker"></div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-color"></h4>\n\t\t<div class="edit-fill"></div>\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-strokecolor"></h4>\n\t\t<div class="edit-stroke"></div>\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-size"></h4>\n\t\t<input class="edit-size" type="number">\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-strokewidth"></h4>\n\t\t<input class="edit-stroke-width" type="number">\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<label>\n\t\t\t<input type="checkbox" class="edit-dash-array"> <small unfold-translate="configure-dash"></small>\n\t\t</label>\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-opacity"></h4>\n\t\t<input class="edit-opacity" type="number">\n\t</div>\n</div>\n'},function(t,e){t.exports="\n"},function(t,e){t.exports='\n<div class="custom-scale"></div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-color"></h4>\n\t\t<div class="default-color"></div>\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-opacity"></h4>\n\t\t<input class="edit-opacity" type="number">\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-strokecolor"></h4>\n\t\t<div class="edit-stroke"></div>\n\t</div>\n\t<div>\n\t\t<h4 unfold-translate="configure-strokewidth"></h4>\n\t\t<input class="edit-stroke-width" type="number">\n\t</div>\n</div>\n\n<div class="edit-row">\n\t<div>\n\t\t<label>\n\t\t\t<input type="checkbox" class="edit-dash-array"> <small unfold-translate="configure-dash"></small>\n\t\t</label>\n\t</div>\n\t<div></div>\n</div>\n'},function(t,e){t.exports='\n<div class="edit-row">\n\t<div>\n\t\t<h4 unfold-translate="configure-color"></h4>\n\t\t<div class="edit-fill"></div>\n\t</div>\n\t<div class="edit-layer-only">\n\t\t<h4 unfold-translate="configure-strokecolor"></h4>\n\t\t<div class="edit-stroke"></div>\n\t</div>\n</div>\n\n<div class="edit-row edit-layer-only">\n\t<div>\n\t\t<h4 unfold-translate="configure-strokewidth"></h4>\n\t\t<input class="edit-stroke-width">\n\t</div>\n\t<div>\n\t\t<label>\n\t\t\t<input type="checkbox" class="edit-dash-array"> <small unfold-translate="configure-dash"></small>\n\t\t</label>\n\t</div>\n</div>\n\n<div class="edit-layer-only">\n\t<h4 unfold-translate="configure-opacity"></h4>\n\t<input class="edit-opacity" type="number">\n</div>\n'},function(t,e){t.exports='<div>\n\t<h4 unfold-translate="global-text-title"></h4>\n\t<input class="edit-overlay-titles-title" type="text" >\n</div>\n<div>\n\t<h4 unfold-translate="global-text-description"></h4>\n\t<textarea class="edit-overlay-titles-description"></textarea>\n</div>\n<div>\n\t<h4 unfold-translate="global-text-source"></h4>\n\t<input class="edit-overlay-titles-source-label" type="text" >\n</div>\n<div>\n\t<h4 unfold-translate="global-text-sourceurl"></h4>\n\t<input class="edit-overlay-titles-source-url" type="text" >\n</div>\n<div>\n\t<h4 unfold-translate="global-text-searchlabel"></h4>\n\t<input class="edit-overlay-titles-search-label" type="text" >\n</div>\n'},function(t,e){t.exports='<div>\n\t\x3c!-- Button for emptying the popup or tooltip --\x3e\n\t<div class="top-menu">\n\t\t<span class="edit-overlay-empty" unfold-translate="tooltip-empty"></span>\n\t\t<span class="edit-overlay-modus">\n\t\t\t<span class="edit-overlay-modus-html" unfold-translate="edit-mode-html"></span>\n\t\t\t<span class="edit-overlay-modus-text" unfold-translate="edit-mode-text"></span>\n\t\t</span>\n\t</div>\n\t\x3c!-- Styling buttons come here --\x3e\n\t<div class="styling-buttons"></div>\n\t\n\t\x3c!-- Template buttons come here --\x3e\n\t<div class="template-buttons"></div>\n\t\n\t\n\t\n\t<div class="edit-fields"></div>\n</div>\n'},function(t,e){t.exports='<div>\n\t<h4 unfold-translate="spreadsheet-unpivot"></h4>\n\t<p><small unfold-translate="spreadsheet-unpivot-info"></small></p>\n\t\x3c!-- Column buttons come here --\x3e\n\t<div class="unpivot-columns"></div>\n\t<p>\n\t\t<button class="unpivot-apply" unfold-translate="spreadsheet-unpivot-apply"></button>\n\t</p>\n\t\n\t<div class="table">\n\t\t<div class="pagination-bar">\n\t\t\t<input class="set-prev" type="number" min="2" step="1">\n\t\t\t<button class="prev">&lt;</button><button class="next">&gt;</button>\n\t\t</div>\n\t\t<div class="table-wrapper">\n\t\t\t<table></table>\n\t\t</div>\n\t</div>\n</div>\n'},function(t,e){t.exports='<div class="new-layer">\n\t<button unfold-translate="add-layer" type="button"></button>\n\t<div class="new-layer-dropdown" style="display: none">\n\t\t<div class="new-layer-title" unfold-translate="add-layer-single"></div>\n\t\t<div class="new-layers-manual"></div>\n\t\t<div class="new-layer-title" unfold-translate="add-layer-sheet"></div>\n\t\t<div class="new-layers-sheet"></div>\n\t</div>\n\t\n</div>\n<div class="all-layers">\n\t\n</div>\n'},function(t,e){t.exports='<button unfold-translate="global-text-options" class="edit-titles"></button>\n<button unfold-translate="global-map-options" class="edit-map"></button>\n<button unfold-translate="global-legend-options" class="edit-legend"></button>\n'},function(t,e){t.exports='\n\x3c!-- Container for map clusters --\x3e\n<div class="map-clusters"></div>\n<br/>\n\x3c!-- Container for the edit overlay --\x3e\n<div class="edit-overlay"></div>\n\n<div class="edit-tabs">\n\t<div class="edit-tab edit-tab-layers">\n\t\t<span unfold-translate="map-layers"></span>\n\t</div>\n\t<div class="edit-tab edit-tab-options">\n\t\t<span unfold-translate="map-options"></span>\n\t</div>\n</div>\n\n<div class="edit-tab-panel">\n\t\x3c!-- Here comes the component that is activated by the tab --\x3e\n</div>\n'},function(t,e){t.exports='<div class="addItem">\n\t<input type="text">\n\t<button>Add</button>\n</div>\n<br/>\n<div class="listItems"></div>\n<br/>\n<div class="removeItem">\n\t<button>Remove selected</button>\n</div>\n'},function(t,e){t.exports='<input type="text">\n<button>Remove</button>\n<input type="checkbox">\n<small></small>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0,n(42);var r=n(3),o=C(n(51)),i=C(n(52)),a=C(n(53)),s=C(n(2)),l=C(n(69)),u=C(n(70)),c=C(n(71)),g=C(n(72)),d=C(n(74)),f=C(n(85)),p=C(n(86)),h=C(n(87)),m=C(n(89)),y=C(n(90)),v=C(n(91)),b=C(n(92)),x=C(n(93)),w=C(n(95)),M=C(n(96)),Y=C(n(97)),k=C(n(98)),S=C(n(99));function C(t){return t&&t.__esModule?t:{default:t}}r.baseApp.component("AppRoot",o.default),r.baseApp.service("AppLibraries",i.default),r.baseApp.service("AppUtils",s.default),r.baseApp.service("AppSanitize",l.default),r.baseApp.service("AppDataFactory",a.default),r.baseApp.service("EditBehaviours",u.default),r.baseApp.service("EditDraggable",c.default),r.baseApp.service("EditTranslations",g.default),r.baseApp.component("MapRoot",d.default),r.baseApp.component("MapPopupRoot",f.default),r.baseApp.component("MapPopupOverlay",p.default),r.baseApp.component("MapLayer",h.default),r.baseApp.component("MapTouchWarning",m.default),r.baseApp.component("MapLegendGroup",y.default),r.baseApp.component("MapLegendItem",v.default),r.baseApp.component("MapSearch",x.default),r.baseApp.component("MapSearchItem",w.default),r.baseApp.component("MapOptions",b.default),r.baseApp.component("MapOptionsDropdown",M.default),r.baseApp.component("MapOptionsListItem",Y.default),r.baseApp.component("MapScale",k.default),r.baseApp.component("MapScaleGroup",S.default);var D=r.baseApp.init;e.init=D},function(t,e,n){var r=n(43);"string"==typeof r&&(r=[[t.i,r,""]]),n(49)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(44)(!1);var r=n(45),o=r(n(46)),i=r(n(47)),a=r(n(48));e.push([t.i,".LocalFocusMap .leaflet-container{font-family:inherit}.LocalFocusMap .MapLayer .lf-tooltip{background-color:#4A4A4A;border-color:#4A4A4A;color:white}.LocalFocusMap .MapLayer .leaflet-tooltip-pane{z-index:9999999}.LocalFocusMap .MapLayer .leaflet-tooltip-left.lf-tooltip::before{border-left-color:#4a4a4a}.LocalFocusMap .MapLayer .leaflet-tooltip-right.lf-tooltip::before{border-right-color:#4a4a4a}.LocalFocusMap .MapLayer svg g{pointer-events:all}.LocalFocusMap .MapLayer .temp-buttons>button>span{width:1.5em;height:1.5em;display:block;background-size:contain;background-repeat:no-repeat;background-position:center}.LocalFocusMap .MapLayer .temp-buttons>button>span.temp-buttons-undo{background-image:url("+o+")}.LocalFocusMap .MapLayer .temp-buttons>button>span.temp-buttons-done{background-image:url("+i+")}.LocalFocusMap .MapPopupOverlay{z-index:1000;position:absolute;top:0;left:0;bottom:0;right:0;overflow:hidden}.LocalFocusMap .MapPopupOverlay .backdrop{width:100%;height:100%;opacity:.85}.LocalFocusMap .MapPopupOverlay .media-item{position:absolute;top:2.4em;left:2.4em;right:2.4em;bottom:2.4em}.LocalFocusMap .MapPopupOverlay .media-image{background-size:contain;background-repeat:no-repeat;background-position:center center;pointer-events:none}.LocalFocusMap .MapPopupOverlay iframe{border:none;top:0%;left:0%;width:100%;height:100%}.LocalFocusMap .MapPopupOverlay .MapOverlay-close{position:absolute;right:.3em;top:.3em;cursor:pointer;width:1.5em;height:1.5em}.LocalFocusMap .MapPopupRoot{position:absolute;overflow-y:hidden;padding:1em;z-index:150}.LocalFocusMap .MapPopupRoot .popup-content-wrapper{height:100%;overflow-y:auto}.LocalFocusMap .MapPopupRoot .content{width:95%}.LocalFocusMap .MapPopupRoot .content img{max-width:100%}.LocalFocusMap .MapPopupRoot .content table{width:100%;max-width:100%}.LocalFocusMap .MapPopupRoot .content hr{border:none;height:1px;color:currentColor;background-color:currentColor}.LocalFocusMap .MapPopupRoot .content ol,.LocalFocusMap .MapPopupRoot .content ul{padding:0.5em 0.5em 0.5em 1.5em}.LocalFocusMap .MapPopupRoot .media{padding-top:1.25em}.LocalFocusMap .MapPopupRoot .media-wrapper{position:relative;max-width:fit-content}.LocalFocusMap .MapPopupRoot .media-wrapper img{max-width:100%;cursor:pointer;margin-bottom:15px}.LocalFocusMap .MapPopupRoot .media-wrapper .MapPopup-play{background-image:url("+a+');background-position:center;background-repeat:no-repeat;background-size:contain;width:3em;height:3em;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none}.LocalFocusMap .MapPopupRoot .MapPopup-close{position:absolute;top:.5em;right:.5em;cursor:pointer;width:1.5em;height:1.5em;margin-left:95%;z-index:9999}.LocalFocusMap .MapPopupRoot::-webkit-scrollbar{display:none !important}.LocalFocusMap .scale-wrapper{position:absolute;z-index:999}.LocalFocusMap .scale-wrapper.hidden{position:relative;left:-1000px;top:-1000px;z-index:-1;opacity:0}.LocalFocusMap .MapSearch input[type="text"]{padding:.45em .5em .45em .5em}.LocalFocusMap .MapSearch .search-dropdown{position:absolute;margin-top:3px;padding:0;z-index:155;max-height:150px;overflow:auto;cursor:pointer}.LocalFocusMap .MapSearch .search-dropdown span{display:block;padding:6px 12px}.LocalFocusMap .placeholder-test{position:absolute;top:-9999;left:-9999;opacity:0;pointer-events:none}\n',""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r=t[1]||"",o=t[3];if(!o)return r;if(e&&"function"==typeof btoa){var i=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=o.sources.map((function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"}));return[r].concat(a).concat([i]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyLjUgOGMtMi42NSAwLTUuMDUuOTktNi45IDIuNkwyIDd2OWg5bC0zLjYyLTMuNjJjMS4zOS0xLjE2IDMuMTYtMS44OCA1LjEyLTEuODggMy41NCAwIDYuNTUgMi4zMSA3LjYgNS41bDIuMzctLjc4QzIxLjA4IDExLjAzIDE3LjE1IDggMTIuNSA4eiIvPjwvc3ZnPg=="},function(t,e){t.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDB6Ii8+PHBhdGggZD0iTTkgMTYuMkw0LjggMTJsLTEuNCAxLjRMOSAxOSAyMSA3bC0xLjQtMS40TDkgMTYuMnoiLz48L3N2Zz4="},function(t,e){t.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMTIsMjAuMTRDNy41OSwyMC4xNCA0LDE2LjU1IDQsMTIuMTRDNCw3LjczIDcuNTksNC4xNCAxMiw0LjE0QzE2LjQxLDQuMTQgMjAsNy43MyAyMCwxMi4xNEMyMCwxNi41NSAxNi40MSwyMC4xNCAxMiwyMC4xNE0xMiwyLjE0QTEwLDEwIDAgMCwwIDIsMTIuMTRBMTAsMTAgMCAwLDAgMTIsMjIuMTRBMTAsMTAgMCAwLDAgMjIsMTIuMTRDMjIsNi42MSAxNy41LDIuMTQgMTIsMi4xNE0xMCwxNi42NEwxNiwxMi4xNEwxMCw3LjY0VjE2LjY0WiI+PC9wYXRoPgo8L3N2Zz4K"},function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,c=0,g=[],d=n(50);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(b(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=g[g.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(t.insertAt.before,n);n.insertBefore(e,o)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function y(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=n.nc;r&&(t.attrs.nonce=r)}return v(e,t.attrs),h(t,e),e}function v(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var a=c++;n=u||(u=y(e)),r=M.bind(null,n,a,!1),o=M.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),h(t,e),e}(e),r=k.bind(null,n,e),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(e),r=Y.bind(null,n),o=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}for(t&&f(p(t,e),e),o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var x,w=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join("\n")});function M(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function Y(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function k(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{sass:"AppRoot",create:function(t,e,n){e.classed("LocalFocusMap",!0),n.data&&n.data.layers&&n.data.layers.forEach((function(t){if(Array.isArray(t.sheet)&&(t.sheet={}),Array.isArray(t.settings)&&(t.settings={}),Array.isArray(t.settingsClusters)&&(t.settingsClusters={}),Array.isArray(t.indexes)&&(t.indexes={}),t.indexes)for(var e in t.indexes)t.indexes.hasOwnProperty(e)&&Array.isArray(t.indexes[e])&&delete t.indexes[e]})),n.hooks.svgExport=function(e){t.broadcast("svg-export",e)},n.hooks.generateThumbnail=function(e){t.broadcast("generate-thumbnail",e)},n.hooks.resize=function(){t.digest()},n.hooks.getData=function(t){t(r.getRaw())},n.hooks.getStyle=function(t){t(r.style)},n.hooks.getUser=function(t){t(r.user)},n.hooks.mapSetView=function(e){e&&"number"==typeof e.lat&&"number"==typeof e.lng&&"number"==typeof e.zoom&&t.broadcast("map-set-view",e)},n.hooks.digest=function(){t.digest()},n.hooks.getDrive||(n.hooks.getDrive=function(){}),n.hooks.uploadImage||(n.hooks.uploadImage=function(){}),n.hooks.getTiles||(n.hooks.getTiles=function(){}),n.hooks.getGeocode||(n.hooks.getGeocode=function(){});var r=t.AppDataFactory.init(n);"function"==typeof n.onBoot&&n.onBoot(),e.select("[unfold-edit-root]").width()&&t.attach("EditRoot","[unfold-edit-root]",r),e.select("[unfold-map-root]").node()&&t.attach("MapRoot","[unfold-map-root]",r),n.hooks.startUnitTest=function(){console.log(t.AppUnitTest.init(t))},t.watch((function(){r.getLayers().forEach((function(t){t.geo.geocode(),t.geo.includePolygon()}))})),document.addEventListener("click",(function(e){var n=t.AppLibraries.get("elements")();t.broadcast("global-click",{event:e,target:n.transform(e.target)})}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={elements:r.UnfoldElements};return o(t),{get:function(t){return e[t]}}};var r=n(4),o=function(t){return{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{init:function(e){return l(t,e.data,e.hooks,{})}}};var r=n(54),o=n(67),i=n(68),a=function(t,e,n){for(var r=e.split("."),o=r.pop(),i=t,a=0;a<r.length;a++){var s=r[a];void 0!==i[s]&&(i=i[s])}return void 0===i[o]?n:i[o]},s=function(t,e,n){for(var r=e.split("."),o=r.pop(),i=t,a=0;a<r.length;a++){var s=r[a];void 0===i[s]&&(i[s]={}),i=i[s]}i[o]=n},l=function(t,e,n,l){var u={},c=[],g=[],d=function(){c=[],a(e,"layers",[]).forEach((function(e,n){c.push((0,r.Layer)(t,e,h,n))}))},f=function(){g=[],a(e,"legends",[]).forEach((function(e,n){g.push((0,r.Layer)(t,e,h,n))}))},p=["water-color","nature-color","land-color","roadstroke-color","roadfill-color","rail-color","urban-color","buildingstroke-color","buildingfill-color","label-color","halo-color","border-color"],h={settings:{getTitle:function(){return a(e,"settings.title","")},setTitle:function(t){return s(e,"settings.title",t)},getDescription:function(){return a(e,"settings.description","")},setDescription:function(t){return s(e,"settings.description",t)},getSource:function(){return a(e,"settings.source","")},setSource:function(t){return s(e,"settings.source",t)},getSourceUrl:function(){return a(e,"settings.sourceUrl","")},setSourceUrl:function(t){return s(e,"settings.sourceUrl",t)},getMapBackground:function(){return a(e,"settings.mapBackground","")},setMapBackground:function(t){return s(e,"settings.mapBackground",t)},getSearchLabel:function(){return a(e,"settings.searchLabel","")},setSearchLabel:function(t){return s(e,"settings.searchLabel",t)},setBasemapProp:function(t,n){return-1===p.indexOf(t)?(console.error("setBasemapProp: invalid prop",t),null):s(e,"settings.basemap."+t,n)},getBasemapProp:function(t){return-1===p.indexOf(t)?(console.error("setBasemapProp: invalid prop",t),null):a(e,"settings.basemap."+t,null)},getValidBasemapProps:function(){return p},getLat:function(){return a(e,"settings.lat",0)},setLat:function(t){return s(e,"settings.lat",t)},getLng:function(){return a(e,"settings.lng",0)},setLng:function(t){return s(e,"settings.lng",t)},getZoom:function(){return a(e,"settings.zoom",10)},setZoom:function(t){return s(e,"settings.zoom",t)},getMinZoom:function(){return a(e,"settings.zoomMin",1)},setMinZoom:function(t){return s(e,"settings.zoomMin",parseInt(t,10))},getMaxZoom:function(){return a(e,"settings.zoomMax",17)},setMaxZoom:function(t){return s(e,"settings.zoomMax",parseInt(t,10))},getBasemapLabels:function(){return a(e,"settings.basemapLabels",!0)},setBasemapLabels:function(t){return s(e,"settings.basemapLabels",!!t)},getBasemapLayer:function(){return a(e,"settings.basemapLayer",!0)},setBasemapLayer:function(t){return s(e,"settings.basemapLayer",!!t)},getFitBounds:function(){return a(e,"settings.fitBounds",!0)},setFitBounds:function(t){return s(e,"settings.fitBounds",!!t)},getTempStorage:function(t){if(u.hasOwnProperty(t))return u[t]},setTempStorage:function(t,e){u[t]=e}},getLayers:function(){return c},setLayerOrder:function(t,n){var r=a(e,"layers",[]);r.splice(t.to,0,r.splice(t.from,1)[0]),d(),n.digest()},setLegendOrder:function(t,n){var r=a(e,"legends",[]);r.splice(t.to,0,r.splice(t.from,1)[0]),r.forEach((function(t,e){t.order.normal=e+1,t.order.reversed=r.length-e})),f(),n.digest()},addLayer:function(t,n){var r=a(e,"layers",[]),o={key:(+new Date).toString(),settings:{},sheet:{},output:t,input:n,inputUrl:null,cols:[],indexes:{},geo:null};return r.unshift(o),d(),h.getLayers()[0]},removeLayer:function(t){var n=a(e,"layers",[]),r=null;return h.getLayers().forEach((function(e,n){e.getKey()===t.getKey()&&(r=n)})),null!==r&&n.splice(r,1),d(),h},getOutputTypes:function(){return["markers","circles","shapes-linear","shapes-ordinal","labels"]},getSingleOutputTypes:function(){return["markers","shapes-ordinal","shapes-ordinal-line","labels"]},setCustomLegendItem:function(){var t=a(e,"legends",[]),n={key:+new Date,settings:{},sheet:{},order:{normal:!1,reversed:!1},output:"legendItem",input:"single",inputUrl:null,cols:[],indexes:{},geo:null};t.push(n),f();var r=h.getCustomLegendItems();return r[r.length-1]},getCustomLegendItems:function(t){return g},deleteCustomLegendItem:function(t){var n=a(e,"legends",[]),r=null;return h.getCustomLegendItems().forEach((function(e,n){e.getKey()===t.getKey()&&(r=n)})),null!==r&&n.splice(r,1),f(),h},getRaw:function(){return e},getRawJSON:function(){return JSON.stringify(h.getRaw())},setRaw:function(t){return t&&(e=t),h},setRawJSON:function(t){return h.setRaw(JSON.parse(t)),h},getHooks:function(){return n}};return h.style=(0,o.Style)(t,l,h),h.user=(0,i.User)(t,h),d(),f(),h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=void 0;var r=n(55),o=n(59),i=(n(6),n(60)),a=n(62),s=n(63),l=n(64),u=n(65),c=n(66);e.Layer=function(t,e,n,g){var d=t.AppUtils,f={},p={markers:{size:24,opacity:10,labelSize:12,dashArray:!1,labelPosition:0,strokeWidth:1},markerClusters:{size:36,opacity:10,labelSize:12,dashArray:!1,labelPosition:0,strokeWidth:1},circles:{size:30,opacity:10,labelSize:12,dashArray:!1,labelPosition:0,strokeWidth:1},"shapes-linear":{size:0,opacity:10,labelSize:12,dashArray:!1,labelPosition:0,strokeWidth:1},"shapes-ordinal":{size:0,opacity:10,labelSize:12,dashArray:!1,labelPosition:0,strokeWidth:1},"shapes-ordinal-line":{size:0,opacity:10,labelSize:12,dashArray:!1,labelPosition:0,strokeWidth:3},labels:{size:24,opacity:10,labelSize:12,dashArray:!1,labelPosition:0,strokeWidth:1},legendItem:{size:24,opacity:10,labelSize:12,dashArray:!1,strokeWidth:1}},h=function(t,e,r){var o=function(e,o,i){var a=null;if(t.hasOwnProperty(e)&&(a=t[e],!i))return a;var s=d.isValidColor(a);return!1!==s?s:"strokeColor"!==e||"shapes-ordinal"!==r.getOutputType()&&"shapes-linear"!==r.getOutputType()?"fill"===e&&"shapes-linear"===r.getOutputType()?"#CCCCCC":"strokeColor"===e?"#000000":"labelBackground"!==e||"labels"!==r.getOutputType()&&"markers"!==r.getOutputType()?"color"!==e||"labels"!==r.getOutputType()&&"markers"!==r.getOutputType()?n.style.getColor(o):"#000000":"none":"#FFFFFF"};return{getFill:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return o("fill",0,t)},setFill:function(e){t.fill=e},getColor:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return o("color",0,t)},setColor:function(e){t.color=e},getSize:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=null;if(t.hasOwnProperty("size")&&(r=t.size,!n))return r;var o=d.isValidPositiveNumber(r);return!1!==o?o:m("size",e)},setSize:function(e){t.size=e},getStrokeColor:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return o("strokeColor",0,t)},setStrokeColor:function(e){t.strokeColor=e},getLabelPosition:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=null;if(t.hasOwnProperty("labelPosition")&&(r=t.labelPosition,!n))return r;var o=d.isValidPositiveNumber(r);return!1===o||0!==o&&1!==o&&2!==o&&3!==o?m("labelPosition",e):o},setLabelPosition:function(e){t.labelPosition=e},getLabelBackground:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return o("labelBackground",1,t)},setLabelBackground:function(e){t.labelBackground=e},getDashArray:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=null;return t.hasOwnProperty("dashArray")&&(r=t.dashArray),"boolean"==typeof r?r:null===r||n?m("dashArray",e):r},setDashArray:function(e){t.dashArray=e},getStrokeWidth:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=null;if(t.hasOwnProperty("strokeWidth")&&(r=t.strokeWidth,!n))return r;var o=d.isValidPositiveNumber(r);return!1!==o?o:m("strokeWidth",e)},setStrokeWidth:function(e){t.strokeWidth=e},getLabelSize:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=null;if(t.hasOwnProperty("labelSize")&&(r=t.labelSize,!n))return r;var o=d.isValidPositiveNumber(r);return!1!==o?o:m("labelSize",e)},setLabelSize:function(e){t.labelSize=e},getIcon:function(){var n=null;return t.hasOwnProperty("icon")&&(n=t.icon),n&&n.content&&n.content.innerNodes&&"number"==typeof n.content.width&&"number"==typeof n.content.height&&"number"==typeof n.content.x&&"number"==typeof n.content.y?n:"clusters"===e?{key:"default-cluster",content:{width:24,height:24,x:0,y:0,anchorX:12,anchorY:12,type:"g",innerNodes:[{type:"path",attrs:{d:"M21,16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V7.5C3,7.12 3.21,6.79 3.53,6.62L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.79,6.79 21,7.12 21,7.5V16.5Z"}}]},tags:"cluster"}:{key:"default-marker",content:{width:24,height:24,x:0,y:0,anchorX:12,anchorY:12,type:"g",innerNodes:[{type:"path",attrs:{d:"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"}}]},tags:"marker"}},setIcon:function(e){t.icon=e},getOpacity:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=null;if(t.hasOwnProperty("opacity")&&(r=t.opacity,!n))return r;var o=d.isValidPositiveNumber(r);return!1!==o&&o>=0&&o<=10?o:m("opacity",e)},setOpacity:function(e){t.opacity=e},getPopup:function(){return t.hasOwnProperty("popup")?t.popup:""},setPopup:function(e){t.popup=e},getTooltip:function(){return t.hasOwnProperty("tooltip")?t.tooltip:""},setTooltip:function(e){t.tooltip=e},getCluster:function(){return t.hasOwnProperty("cluster")&&t.cluster?t.cluster:{id:null,features:[]}},setCluster:function(e){r.getSheet().clearCache(),t.cluster=e},getMarkerCluster:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=null;return!!L.markerClusterGroup&&(t.hasOwnProperty("markerCluster")&&(n=t.markerCluster),("boolean"==typeof n||null!==n&&!e)&&n)},setMarkerCluster:function(e){t.markerCluster=e}}},m=function(t,e){return"clusters"===e?p.markerClusters[t]:p[y.getOutputType()][t]},y={getKey:function(){return e.key},getLabel:function(){return y.getSheet().countRows()-1+" "+y.getOutputType()},getPaneKey:function(){return y.getKey().toString()+"-"+(new Date).getTime().toString()},getIndexData:function(t){return t&&console.warn("getIndexData(): argument SheetColumn is removed"),void 0===e.indexes&&(e.indexes={}),e.indexes},sheet:e.sheet,getOutputType:function(){return e.output},getInputType:function(){return e.input},getInputUrl:function(){return e.inputUrl},setInputUrl:function(t){e.inputUrl=t},getOrder:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=y.parentDataFactory().getLayers(),n=0,r=e.length;n<r;n++){var o=e[n];if(o.getKey()===y.getKey())return t?e.length-n:n}return console.warn("Could not found order of layer",y.getLabel()),null},getItems:function(){for(var t=[],e=y.getSheet().getActiveRows(),n=0,r=e.length;n<r;n++){var o=e[n],i=y.getItem(o);i&&i.isValid()&&t.push(i)}return t},getItem:function(e){var r=null,o=y.getOutputType();return"markers"===o?r=(0,s.Marker)(t,e,n,!0):"shapes-linear"===o||"shapes-ordinal"===o||"shapes-ordinal-line"===o?r=(0,l.Polygon)(t,e,n,y.geo,!1):"circles"===o?r=(0,u.Circle)(t,e,n):"labels"===o&&(r=(0,c.Label)(t,e,n)),r},getDomain:function(){if(f.hasOwnProperty("domain"))return f.domain;var t,e=y.getSheet().getColumn("size");return t=e?e.getDomain():[0,1],f.domain=t,t},clearCache:function(){for(var t in f)f.hasOwnProperty(t)&&delete f[t]},getData:function(){return e},parentDataFactory:function(){return n}};y.settings=h(e.settings,"default",y),y.geo=(0,o.Geo)(t,e,y);var v=(0,r.Sheet)(t,e.sheet,y);return y.getSheet=function(){return v},"shapes-linear"===y.getOutputType()?y.scale=(0,i.ColorScale)(t,y):"circles"===y.getOutputType()&&(y.scale=(0,a.CircleScale)(t,y)),"markers"===y.getOutputType()&&(void 0===e.settingsClusters&&(e.settingsClusters={}),Array.isArray(e.settingsClusters)&&!e.settingsClusters.length&&(e.settingsClusters={}),y.settingsClusters=h(e.settingsClusters,"clusters",y)),y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sheet=void 0;var r=n(56),o=n(58),i=n(1),a=n(5);e.Sheet=function(t,e,n){var s=function(e){"string"==typeof e&&e.length&&!u.hasOwnProperty(e)&&(u[e]=null,n.parentDataFactory().getHooks().getDrive(e,(function(n){if(n){for(var r={},o=0;o<n.length;o++)for(var i=n[o],a=0;a<i.length;a++){var s=i[a];r[o+","+a]=s}u[e]=r}else u[e]=!1;d.update(),t.digest()})))},l=function(){var t=0,e=n.getData().cols.length-1,r=d.getData();for(var o in r)if(r.hasOwnProperty(o)){for(var i="",a="",s=!1,l=0,u=o.length;l<u;l++){var g=o[l];","===g?s=!0:s?a+=g:i+=g}var f=parseInt(i,10);f>t&&(t=f);var p=parseInt(a,10);p>e&&(e=p)}return t++,e++,c.countRows=t,c.countColumns=e,{rows:t,columns:e}},u={},c={},g=null,d={getHeaders:function(){},getRows:function(){for(var e=[],n=(d.getData(),d.countRows()),o=0;o<n;o++)e.push((0,r.SheetRow)(t,d,o));return e},getActiveRows:function(){d.clearCache();var t=d.getRows();t.shift();var e=d.getColumns("dropdown"),n=d.getColumn("geo");return e.forEach((function(e){t=function(t,e){for(var n=[],r=[],o=[],i=e.getKey(),a=0;a<t.length;a++){var s=t[a],l=s.getCell(i),u=l.getValue(),c=!0;-1!==r.indexOf(u)?c=!1:-1===o.indexOf(u)&&(l.getIndex().getActive()?o.push(u):(r.push(u),c=!1)),c&&n.push(s)}return n}(t,e)})),t=function(t,e){if(!e)return t;for(var n=[],r=e.getKey(),o=[],i=0;i<t.length;i++){var a=t[i],s=a.getCell(r).getValue();-1===o.indexOf(s)&&(n.push(a),o.push(s))}return n}(t=function(t,e){if(!e)return t;var n=d.parentLayer().geo.getCluster();if(!n||!n.features||!n.features.length)return t;for(var r=[],o=e.getKey(),i=0;i<t.length;i++){var a=t[i],s=a.getCell(o),l=d.parentLayer().geo.getGeoJSONIndex(s),u=!0;-1===n.features.indexOf(l)&&(u=!1),u&&r.push(a)}return r}(t,n),n)},getRow:function(e){return"number"==typeof e?(0,r.SheetRow)(t,d,e):null},getCell:function(e,n){return(0,i.SheetCell)(t,d,e,n)},getColumns:function(e){for(var n=[],r=d.countColumns(),i=0;i<r;i++){var a=(0,o.SheetColumn)(t,d,i);e&&!a.isType(e)||n.push(a)}return n},getColumn:function(e){if("number"==typeof e)return(0,o.SheetColumn)(t,d,e);if("string"==typeof e)for(var n=d.countColumns(),r=0;r<n;r++){var i=(0,o.SheetColumn)(t,d,r);if(i.isType(e))return i}return null},countRows:function(){return c.hasOwnProperty("countRows")?c.countRows:l().rows},countColumns:function(){return c.hasOwnProperty("countColumns")?c.countColumns:l().columns},isEmpty:function(){return d.countRows()*d.countColumns()==0},getData:function(){var t=d.parentLayer().getInputUrl();s(t);var r=d.getExternalStatus();return void 0!==r?(t!==g&&(g=t,d.update()),!0===r?u[t]:{}):"string"==typeof t&&t.length?!0===d.getExternalStatus()?u[t]:(s(t),{}):void 0===e?(console.warn("Data is undefined in layer "+n.getKey()),{}):e},getExternalStatus:function(){var t=d.parentLayer().getInputUrl();if("string"==typeof t&&t.length&&u.hasOwnProperty(t))return null===u[t]?null:!1!==u[t]},parentLayer:function(){return n},clearCache:function(){for(var t in c)c.hasOwnProperty(t)&&delete c[t];d.parentLayer().clearCache()},update:function(){d.clearCache(),d.updateAutodetect(),d.rebuildIndex()},asTsv:function(){var t=[];return d.getRows().forEach((function(e){var n=[];e.getCells().forEach((function(t){n.push(t.getValue())})),t.push(n.join("\t"))})),t.join("\n")},rebuildIndex:function(){for(var t=d.getColumns(),e=0,n=t.length;e<n;e++)t[e].rebuildIndex()},updateAutodetect:function(){for(var e=!1,n=d.getColumns(),r=0,o=n.length;r<o;r++)if(n[r].getTypes().length){e=!0;break}if(e)return d;d.getColumns().forEach((function(e){(0,a.Tester)(t).test(e)}))}};return d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SheetRow=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(1);e.SheetRow=function(t,e,n){var i=function(t){if("string"!=typeof t||0===t.length||"<div></div>"===t)return"";var e=new RegExp("({{.*?::([0-9]+?)}})","g"),n=new RegExp("{{if::([0-9]+?)}}([^]*?){{endif}}","g");return(t=t.replace(n,(function(t,e,n){var r=a.getCell(parseInt(e,10)).getValue();return"string"==typeof r&&r.length?n:""}))).replace(e,(function(t,e,n){var r,o=a.getCell(parseInt(n,10)).getValue();return"string"!=typeof(r=o=function(t){if("string"!=typeof t)return"";var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return t.replace(/[&<>\"\']/g,(function(t){return e.hasOwnProperty(t)?e[t]:t}))}(o))?"":r.split("\n").join("<br/>")}))},a={getKey:function(){return n},getCells:function(r){for(var i=[],a=0,s=e.countColumns();a<s;a++){var l=(0,o.SheetCell)(t,e,n,a);r&&!l.parentColumn().isType(r)||i.push(l)}return i},getCell:function(i){if("number"==typeof i)return(0,o.SheetCell)(t,e,n,i);if("string"==typeof i){var a=e.getColumn(i);if(a)return(0,o.SheetCell)(t,e,n,a.getKey())}else if(i&&"object"===(void 0===i?"undefined":r(i))&&"function"==typeof i.getKey)return(0,o.SheetCell)(t,e,n,i.getKey());return null},parentSheet:function(){return e},isActive:function(){for(var t=a.getCells("dropdown"),e=0,n=t.length;e<n;e++)if(!t[e].getIndex().getActive())return!1;return!0},getPopupContent:function(){var e=a.parentSheet().parentLayer().settings.getPopup();return e=i(e),t.AppSanitize.sanitize(e)},getTooltipContent:function(){var e=a.parentSheet().parentLayer().settings.getTooltip();return e=i(e),t.AppSanitize.sanitize(e).html()}};return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SheetIndex=function(t,e,n,r){var o=function(t){null!==t&&"string"!=typeof t&&console.warn("shouldBeStringOrNull",t)},i=function(t){"boolean"!=typeof t&&console.warn("shouldBeBoolean",t)},a=t.AppUtils,s={setRaw:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=e.parentLayer().getIndexData(),r=s.parentCell(),o=r.getKey(),i=r.getValue(),a=o+"|"+i;return n.hasOwnProperty(a)?n[a]:t&&r.isInBounds()?(r.parentColumn().rebuildIndex(),s.setRaw(!1)):null},getActive:function(){var t=s.setRaw();return!t||!t.hasOwnProperty("active")||t.active},setActive:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i(t);var r=s.setRaw();if(e.clearCache(),r){var o=s.parentCell().parentColumn();!n&&o.isType("dropdown")&&o.isTypeMeta("single")?o.getUniqueCells().forEach((function(t){t.getValue()===s.parentCell().getValue()?r.active=!0:t.getIndex().setActive(!1,!0)})):t?delete r.active:r.active=!1}return s},getFill:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=s.setRaw();return e&&e.hasOwnProperty("fill")&&(!t||a.isValidColor(e.fill))?e.fill:t?s.parentLayer().settings.getFill():null},setFill:function(t){o(t);var e=s.setRaw();return e&&(e.fill=t),s},getColor:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=s.setRaw();return e&&e.hasOwnProperty("color")&&(!t||a.isValidColor(e.color))?e.color:t?s.parentLayer().settings.getColor():null},setColor:function(t){o(t);var e=s.setRaw();return e&&(e.color=t),s},getSize:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=s.setRaw();return e&&e.hasOwnProperty("size")&&(!t||a.isValidPositiveNumber(e.size))?e.size:t?s.parentLayer().settings.getSize():null},setSize:function(t){var e;null!==(e=t)&&"number"!=typeof e&&console.warn("shouldBeNumberOrNull",e);var n=s.setRaw();return n&&(n.size=t),s},getStrokeColor:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=s.setRaw();return e&&e.hasOwnProperty("strokeColor")&&(!t||a.isValidColor(e.strokeColor))?e.strokeColor:t?s.parentLayer().settings.getStrokeColor():null},setStrokeColor:function(t){o(t);var e=s.setRaw();return e&&(e.strokeColor=t),s},getLabelBackground:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=s.setRaw();return e&&e.hasOwnProperty("labelBackground")&&(!t||a.isValidColor(e.labelBackground))?e.labelBackground:t?s.parentLayer().settings.getLabelBackground():null},setLabelBackground:function(t){o(t);var e=s.setRaw();return e&&(e.labelBackground=t),s},getDashArray:function(){return s.parentLayer().settings.getDashArray()},getStrokeWidth:function(){return s.parentLayer().settings.getStrokeWidth()},getIcon:function(){var t=s.setRaw();if(t&&t.hasOwnProperty("icon"))return t.icon;s.parentLayer().settings.getIcon()},setIcon:function(t){var e=s.setRaw();return e&&(e.icon=t),s},parentColumn:function(){return e.getColumn(r)},parentRow:function(){return e.getRow(n)},parentCell:function(){return s.parentRow().getCell(r)},parentSheet:function(){return e},parentLayer:function(){return e.parentLayer()}};return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SheetColumn=void 0,n(1);var r,o=((r=n(2))&&r.__esModule,n(5));e.SheetColumn=function(t,e,n){var r={getKey:function(){return n},getCells:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[],i=[],a=r.parentSheet(),s=a.countRows(),l=1;l<s;l++){var u=a.getCell(l,n);if(!e||u.parentRow().isActive())if(t){var c=u.getValue();-1===o.indexOf(c)&&(i.push(u),o.push(c))}else i.push(u)}return i},getUniqueCells:function(){return r.getCells(!0,!1)},getActiveUniqueCells:function(){return r.getCells(!0,!0)},isInBounds:function(){return n<e.countColumns()},getDomain:function(){for(var t=e.getActiveRows(),n=r.getKey(),o=null,i=null,a=0,s=t.length;a<s;a++){var l=t[a].getCell(n).getValueSize();!1!==l&&((null===o||l<o)&&(o=l),(null===i||l>i)&&(i=l))}return null===o||null===i?[0,1]:[o,i]},getLabel:function(){var t=r.parentSheet().getRow(0).getCell(r.getKey());if(t){var e=t.getValue();if(e&&e.length)return e}return"?"},getColumnData:function(){var t=e.parentLayer().getData(),n=r.getKey();return t.cols||(t.cols=[]),t.cols[n]||(t.cols[n]={settings:{types:[],typesMeta:[]}}),t.cols[n]},getTypes:function(){var t=r.getColumnData(),e=[];return t.settings&&t.settings.types&&(e=t.settings.types),e},hasTypes:function(){var t=e.parentLayer().getOutputType(),n=["lat","lng","size","geo","category","label","geocode"],o=[];"markers"===t&&(o=["lng","lat"]),"labels"===t&&(o=["lng","lat","label"]),"circles"===t&&(o=["lng","lat","size"]),"shapes-linear"===t&&(o=["geo","size"]),"shapes-ordinal"===t&&(o=["geo","category"]);var i=[];"markers"===t&&(i=["lng","lat","category","dropdown","search","media","label","geocode"]),"labels"===t&&(i=["lng","lat","label","dropdown","search","media","geocode"]),"circles"===t&&(i=["lng","lat","size","category","dropdown","search","media","geocode"]),"shapes-linear"===t&&(i=["geo","size","dropdown","search","media"]),"shapes-ordinal"===t&&(i=["geo","category","dropdown","search","media"]);var a=[];return i.forEach((function(e){var i=r.isType(e),s=[];"dropdown"===e&&i&&s.push({key:"single",active:r.isTypeMeta("single")}),"category"===e&&i&&s.push({key:"noLegend",active:r.isTypeMeta("noLegend")}),"size"===e&&i&&(s.push({key:"decimalDot",active:r.isTypeMeta("decimalDot")}),s.push({key:"decimalComma",active:r.isTypeMeta("decimalComma")}),"circles"===t&&s.push({key:"domainScale",active:r.isTypeMeta("domainScale")})),a.push({key:e,oneOnly:-1!==n.indexOf(e),isImportant:-1!==o.indexOf(e),active:r.isType(e),typesMeta:s})})),a},hasType:function(){for(var t=r.hasTypes(),e=0;e<t.length;e++)if(t[e].active)return!0;return!1},setType:function(e,n){var i=r.getTypes();if(r.isType(e)&&!1===n&&i.splice(i.indexOf(e),1),!r.isType(e)&&!0===n&&(i.push(e),"size"===e)){var a=(0,o.detectSeperator)(t,r);null!==a&&r.setTypeMeta(a,!0)}return r},isType:function(t){return-1!==r.getTypes().indexOf(t)},getTypesMeta:function(){var t=r.getColumnData(),e=[];return t.settings&&t.settings.typesMeta&&(e=t.settings.typesMeta),e},setTypeMeta:function(t,e){var n=r.getTypesMeta();return r.isTypeMeta(t)&&!1===e&&n.splice(n.indexOf(t),1),r.isTypeMeta(t)||!0!==e||(n.push(t),"decimalDot"===t&&r.setTypeMeta("decimalComma",!1),"decimalComma"===t&&r.setTypeMeta("decimalDot",!1)),r},isTypeMeta:function(t){return-1!==r.getTypesMeta().indexOf(t)},needsIndex:function(){for(var t=["category","dropdown"],e=r.getTypes(),n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},rebuildIndex:function(){var t=r.parentSheet().parentLayer().getIndexData();if(r.needsIndex())r.getUniqueCells().forEach((function(e){var r=e.getValue(),o=n+"|"+r;t.hasOwnProperty(o)||(t[o]={})}));else for(var e in t)t.hasOwnProperty(e)&&parseInt(e.split("|")[0],10)===n&&delete t[e]},parentSheet:function(){return e}};return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Geo=function(t,e,n){var r=function(t){var e=[],n=null,r={job:function(t,r){var o=t.parentRow().getKey();(function(t){for(var n=0,r=e.length;n<r;n++)if(e[n].key===t)return!0;return!1})(o)||(e.push({cell:t,callback:r,key:o}),n.wakeUp())}};return n=function(){var n=!1,r={wakeUp:function(){var o=null;if(!n)if(n=!0,e.length){if(!(o=e.shift()).cell.parentColumn().isType("geocode"))return n=!1,void r.wakeUp();console.log(t,o.cell.parentSheet().parentLayer().parentDataFactory().getHooks()),o.cell.parentSheet().parentLayer().parentDataFactory().getHooks().getGeocode(o.cell.getValue(),(function(t){o.callback(t),n=!1,r.wakeUp()}))}else n=!1}};return r}(),r}(t),o={id:null,geo:null,geoMeta:null,geoClusters:null},i=!1,a={isCustom:function(){return"custom"===e.settings.geoID},isLoaded:function(){if(a.isCustom())return!0;if(e.settings.geoID){if(o.id!==e.settings.geoID)return!1;if(!o.geo)return!1;if(!o.geoMeta)return!1;if(!o.geoClusters)return!1}return!0},includePolygon:function(){if(!a.isCustom()){if(e.settings.geoID&&o.id!==e.settings.geoID){o.id=e.settings.geoID,e.settings.geoID,e.settings.geoID,e.settings.geoID,e.settings.geoID,e.settings.geoID,e.settings.geoID;var r=e.settings.geoID,i=n.parentDataFactory().getHooks().getGeoJson;i(r,"geojson",(function(e){o.geo=e,i(r,"json",(function(e){for(var n=0,a=e.features.length;n<a;n++){var s=e.features[n];for(var l in s.label)if(s.label.hasOwnProperty(l)){var u=s.label[l],c=t.AppUtils.normalizeString(u);s.alias.push(c)}}o.geoMeta=e,i(r,"clusters.json",(function(e){o.geoClusters=e,t.digest()}),(function(){}))}),(function(){}))}),(function(){}))}return a}},getGeo:function(){return o.geo},getGeoFeatures:function(){return o.geo&&o.geo.features&&o.geo.features.length?o.geo.features:[]},getGeoMeta:function(){return o.geoMeta&&o.geoMeta.length?o.geoMeta:[]},getGeoMetaFeatures:function(){return o.geoMeta&&o.geoMeta.features&&o.geoMeta.features.length?o.geoMeta.features:[]},getGeoMetaClusters:function(){return o.geoClusters&&o.geoClusters.clusters&&o.geoClusters.clusters.length?o.geoClusters.clusters:[]},getGeoLabel:function(){for(var t=a.getGeoIds(),e=a.getGeoId(),n=0,r=t.length;n<r;n++){var o=t[n];if(o.id===e)return o.labels.default}return"?"},getGeoId:function(){return"string"==typeof e.settings.geoID?e.settings.geoID:null},setGeoId:function(t){return t?(i=!0,t!==e.settings.geoID&&(e.settings.geoID=t)):(e.settings.geoID=null,o.id=null,o.geo=null,o.geoMeta=null,o.geoClusters=null),a},mustAddGeoToSheet:function(){return!(!i||!a.isLoaded()||"string"!=typeof a.getGeoId()||a.isCustom()||(i=!1,0))},getGeoIds:function(){return"shapes-linear"!==n.getOutputType()&&"shapes-ordinal"!==n.getOutputType()?[]:(0,n.parentDataFactory().getHooks().listGeoJson)().features},getGeoIndex:function(){return"shapes-linear"!==n.getOutputType()&&"shapes-ordinal"!==n.getOutputType()?{}:(0,n.parentDataFactory().getHooks().listGeoJson)()},getGeoJSON:function(t){var e=t.getValue();if(!e.length)return null;if("{"===e[0]&&'"'===e[1])try{return JSON.parse(e)}catch(t){}var n=a.getGeoFeatures(),r=a.getGeoJSONIndex(t);return null!==r?n[r]:null},getGeoJSONIndex:function(e){var n=e.getValue();if(!n.length)return null;a.getGeoFeatures();for(var r=a.getGeoMetaFeatures(),o=t.AppUtils.normalizeString(n),i=0,s=r.length;i<s;i++)for(var l=r[i].alias,u=0,c=l.length;u<c;u++)if(o===l[u])return i;return null},getClusters:function(){var t=a.getGeoMetaClusters(),e=[];return t.forEach((function(t){t.clusters.forEach((function(n){var r=null;e.forEach((function(t){t.getKey()===n.id&&(r=t)})),r?r.addData(n,t):e.push(function(t,e,n,r){var o={},i={getKey:function(){return n.id},addData:function(t,e){o.hasOwnProperty(t.labels.default)||(o[t.labels.default]=[]),o[t.labels.default].push(e.index)},isPrivate:function(){return n.isPrivate},getLabel:function(t){return n.category.default},getItems:function(){var t=[];return Object.keys(o).forEach((function(e){t.push({clusterKey:i.getKey(),itemKey:e,items:o[e]})})),t}};return i.addData(n,r),i}(0,0,n,t))}))})),e},setCluster:function(t){return n.settings.setCluster(t),a},getCluster:function(){return n.settings.getCluster()},hasSuggestion:function(t){return!!a.getSuggestions(t,!0).length},getSuggestions:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e||!e.length)return[];for(var o=n.parentDataFactory().user,i=a.getGeoMetaFeatures(),s=t.AppUtils.normalizeString(e),l=[],u=0,c=i.length;u<c;u++)for(var g=i[u],d=g.alias,f=0,p=d.length;f<p;f++)if(-1!==d[f].indexOf(s)&&(l.push(o.parseLocale(g.label)),r||l.length>=10))return l;return l},geocode:function(){for(var e=n.getSheet().getRows(),o=0,i=e.length;o<i;o++){var a=e[o];if(0!==a.getKey()){var s=a.getCell("geocode");if(s){var l=a.getCell("lat"),u=a.getCell("lng");if(l&&u){if(l.getValue().length||u.getValue().length)continue;!function(e,n,o){r.job(e,(function(e){n.isValidLatLng()||o.isValidLatLng()||(e&&"string"==typeof e.lat&&"string"==typeof e.lng?(n.setValue(e.lat),o.setValue(e.lng)):(n.setValue("?"),o.setValue("?")),t.digest())}))}(s,l,u)}}}}}};return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScale=void 0;var r=n(61),o=function(t,e){var n=t.getServices().AppUtils,r=function(e){var n=e.toString();if(t.getCustom()){var r=o.getSettings();return r.hasOwnProperty("scaleTicks")&&"string"==typeof r.scaleTicks[n]?r.scaleTicks[n]:""}return t.getGenerator().getTicks()[n]},o={getKey:function(){return e.toString()},getSettings:function(){return t.getSettings()},valueWithinDomainLeft:function(){var e=t.getDomain();return!(o.isFirst()&&e[0]<o.getFrom())},valueWithinDomainRight:function(){var e=t.getDomain();return!(o.isLast()&&e[1]>o.getTo())},getColor:function(){var t=o.getColorRaw(),e=n.isValidColor(t);return!1!==e?e:"#ababab"},getColorRaw:function(){var e=o.getKey();if(!t.getCustom()){var n=t.getGenerator();return(!0===t.getReversed()?n.getColorsReversed():n.getColors())[e]}var r=o.getSettings();return r.hasOwnProperty("scaleColors")&&"string"==typeof r.scaleColors[e]?r.scaleColors[e]:""},setColor:function(t){var e=o.getKey(),n=o.getSettings();n.hasOwnProperty("scaleColors")||(n.scaleColors={}),""===t?n.scaleColors.hasOwnProperty(e)&&delete n.scaleColors[e]:n.scaleColors[e]=t},getFromRaw:function(){return r(e)},getFromAsString:function(){var e=o.getFrom();return t.floatingPointFix(e).toString()},getFrom:function(){var e=o.getFromRaw(),r=n.isValidNumber(e);return!1!==r?r:t.getDefaultResponse()},setFrom:function(t){var e=o.getKey(),n=o.getSettings();n.hasOwnProperty("scaleTicks")||(n.scaleTicks={}),""===t?n.scaleTicks.hasOwnProperty(e)&&delete n.scaleTicks[e]:n.scaleTicks[e]=t},getToRaw:function(){return o.getSettings(),o.isLast()?r(e+1):o.getParent().getBucket(e+1).getFromRaw()},getToAsString:function(){var e=o.getTo();return t.floatingPointFix(e).toString()},getTo:function(){var e=o.getToRaw(),r=n.isValidNumber(e);return!1!==r?r:t.getDefaultResponse()},setTo:function(t){var n=o.getSettings(),r=(e+1).toString();n.hasOwnProperty("scaleTicks")||(n.scaleTicks={}),""===t?n.scaleTicks.hasOwnProperty(r)&&delete n.scaleTicks[r]:n.scaleTicks[r]=t},isLast:function(){var n=t.getBucketCount()-1;return e===n},isFirst:function(){return 0===e},getParent:function(){return t}};return o};e.ColorScale=function(t,e){var n,i,a={floatingPointFix:function(t){return"number"==typeof t?parseFloat(t.toFixed(15)).toString():"?"},getDefaultResponse:function(){return"?"},getGenerator:function(){return i},getDomain:function(){return e.getDomain()},getSettings:function(){var t=e.getData();return t.hasOwnProperty("settings")||(t.settings={}),t.settings},getBucketCount:function(){if(a.getCustom()){var t=a.getSettings();return t.hasOwnProperty("bucketCount")&&"number"==typeof t.bucketCount?t.bucketCount:4}return i.getBucketCount()},setBucketCount:function(t){var e=a.getSettings();if(e.bucketCount=t,a.getCustom()){var n=a.getReversed();e.scaleColors=i.getRawColors(t,n)}},getBuckets:function(){for(var t=[],e=a.getBucketCount(),n=0;n<e;n++)t.push(o(a,n));return t},getBucket:function(t){return o(a,t)},isOnlyNegative:function(){return a.getDomain()[1]<=0},isOnlyPositive:function(){return a.getDomain()[0]>=0},getBucketByNumber:function(t){var e=a.getBuckets();if(a.isOnlyNegative()){for(var n=e.length-1;n>=0;n--)if(t>=(r=e[n]).getFrom()||r.isFirst())return r}else{if(!a.isOnlyPositive()){if(t>=0)for(n=e.length-1;n>=0;n--){if(r=e[n],0===t&&r.getFrom()===t)return r;if(t>r.getFrom()||r.isFirst())return r}else if(t<0)for(n=e.length-1;n>=0;n--)if(t>=(r=e[n]).getFrom()||r.isFirst())return r;return{getColor:function(){return console.warn("Default bucket returned. Something is wrong."),"#DDD"}}}for(n=e.length-1;n>=0;n--){var r;if(t>(r=e[n]).getFrom()||r.isFirst())return r}}},getCustom:function(){var t=a.getSettings();return!(!t.hasOwnProperty("scaleCustom")||"boolean"!=typeof t.scaleCustom)&&t.scaleCustom},setCustom:function(t){var e=a.getSettings();if(e.scaleCustom=t,!0===t){e.scaleTicks={};var r=i.getTicks();for(var o in r)if(r.hasOwnProperty(o)){var s=r[o],l=n.isValidNumber(s);if(!1!==l){var u=a.floatingPointFix(l);e.scaleTicks[o]=u}else e.scaleTicks[o]="?"}a.setBucketCount(i.getBucketCount())}},getReversed:function(){var t=a.getSettings();return!(!t.hasOwnProperty("scaleReversed")||"boolean"!=typeof t.scaleReversed)&&t.scaleReversed},setReversed:function(t){a.getSettings().scaleReversed=t},getParent:function(){return e},getServices:function(){return t},getUnit:function(){var t=a.getSettings();return t.hasOwnProperty("scaleUnit")&&"string"==typeof t.scaleUnit?t.scaleUnit:""},setUnit:function(t){a.getSettings().scaleUnit=t},setSuffix:function(t){a.getSettings().suffix=t},getSuffix:function(){var t=a.getSettings();return t&&t.hasOwnProperty("suffix")&&"string"==typeof t.suffix?t.suffix:""},setPrefix:function(t){a.getSettings().prefix=t},getPrefix:function(){var t=a.getSettings();return t&&t.hasOwnProperty("prefix")&&"string"==typeof t.prefix?t.prefix:""}};return n=a.getServices().AppUtils,i=(0,r.ScaleGenerator)(a),a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(t===e)return[t,t+1];for(var n=function(t,e){var n=e-t,r=n/5,o=Math.pow(10,Math.floor(Math.log(r)*Math.LOG10E));return 5*o*5<n&&(o*=10),o>=r?o:2*o>=r?2*o:5*o}(t,e),r=0===t?0:Math.floor(t/n)*n,o=[r];r<e;)r+=n,o.push(r);return o},o=function(t,e,n,o){for(var a=r(t,e),s=0,l=0,u=0,c=a.length-1;u<c;u++)a[u]>=0?l++:s++;var g;e=Math.max(s,l),g=!0===n?{posColors:i(o[e].negColors),negColors:i(o[e].posColors)}:o[e];var d=0===s?[]:g.negColors.slice(-1*s),f=g.posColors.slice(0,l);return d.concat(f)},i=function(t){for(var e=[],n=t.length-1;n>=0;n--)e.push(t[n]);return e},a=function(t){for(var e={},n=0,r=t.length;n<r;n++){var o=t[n];"number"==typeof o&&(o=o.toString()),e[n.toString()]=o}return e};e.ScaleGenerator=function(t){var e={getColorScheme:function(){return t.getParent().parentDataFactory().style.getColorScheme()},getRawColors:function(t,n){var r=e.getColorScheme()[t];return!0===n?i(r.negColors):r.posColors},getColors:function(){var n=t.getDomain();return a(o(n[0],n[1],!1,e.getColorScheme()))},getColorsReversed:function(){var n=t.getDomain();return a(o(n[0],n[1],!0,e.getColorScheme()))},getTicks:function(){var e=t.getDomain();return a(r(e[0],e[1]))},getBucketCount:function(){var e=t.getDomain();return r(e[0],e[1]).length-1}};return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CircleScale=function(t,e){var n={getDomain:function(){return e.getDomain()},getRange:function(){return[0,Math.pow(e.settings.getSize(),2)]},getRadius:function(t){var r=function(t){var r=e.getSheet().getColumn("size"),o=n.getDomain(),i=n.getRange(),a=0;r&&r.isTypeMeta("domainScale")&&(a=o[0]);var s=o[1]-a;0===s&&(s=1);var l=(i[1]-i[0])/s;return i[0]+l*(t-a)}(t);if("number"==typeof r&&r>=0){var o=Math.pow(r/Math.PI,.5);return Math.max(o,3)}return 3}};return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Marker=void 0;var r=n(0);e.Marker=function(t,e,n,o){var i,a,s,l,u=t.AppUtils,c=e.parentSheet().parentLayer(),g={},d=function(t,e){return!(g.hasOwnProperty(t)&&g[t]===e||(g[t]=e,0))},f=function(r){p.isClustered()&&p.getTooltip()&&(r.unbindTooltip(),d("tooltip-content",!0));var o=p.getMedia();(c.settings.getPopup().length>0||o.length>0)&&(n.settings.setTempStorage("popup",e),t.digest())},p={enter:function(t,e,n,o){l=n,e().create("div");var u=(i=e().create("svg","svg")).append("g"),g=u.append("g").attr("class","unfold-icon-label");g.append("rect").attr("class","unfold-icon-background"),g.append("text"),a=(0,r.Icon)(u,c,!1);var h=p.getLat(),m=p.getLng();d("lat",h),d("lng",m),s=new L.SvgIcon([h,m],{icon:i,size:p.getSize(),pane:o}).on("click",(function(){f(this)})).on("keypress",(function(t){var e=t.originalEvent.charCode;13!==e&&32!==e||f(this)})).on("add",(function(){p.update()})),i=e().transform(s._iconClone)},exit:function(t,e,n){return n.removeLayer(s),s},update:function(t,r,o){if(s._map){var f=p.getLat(),h=p.getLng();l=o;var m=a.update(e.getCell("category"),p.getSize()),y=function(t,e){var r=0,o=0,a=i.select("g.unfold-icon-label"),s=i.select("rect.unfold-icon-background"),l=e.width,c=e.height,f=p.getLabelProps(),h=u.isValidColor(p.getLabelBackground())||"transparent";!1===h&&(h="transparent"),d("label-background",h)&&s.attr("fill",h),d("label-color",f.color)&&a.attr("fill",f.color);var m=a.select("text");d("label-text",t)&&m.text(t);var y=f.position,v=n.style.fontFamilies.regular,b=n.style.fontWeights.regular,x={width:0,height:0};d("font-size",f.size)&&a.select("text").attr("font-size",f.size),d("font-family",v)&&a.select("text").attr("font-family",v),d("font-weight",b)&&a.select("text").attr("font-weight",b);var w,M="",Y=e.width,k=e.svgHeight;t&&t.length>0&&(x.width=8,x.height=4),(w="string"==typeof t&&t.length?m.getBBox():{width:0,height:0}).hasOwnProperty("width")&&w.hasOwnProperty("height")&&g.hasOwnProperty("labelBoundary")&&(0===w.width||0===w.height)&&t&&t.length>0?(0===w.width||w.height,w=g.labelBoundary):g.labelBoundary=w;var S=w.height+x.height,C=w.width+x.width;(d("label-width",C)||d("label-height",S))&&(d("label-height",S),s.attr("height",S).attr("width",C).attr("transform","translate("+x.width/2*-1+", "+-1*(w.height-x.height/2)+")")),(w={width:C,height:S}).hasOwnProperty("width")&&w.hasOwnProperty("height")&&g.hasOwnProperty("rectBoundary")&&(0===w.width||0===w.height)&&t&&t.length>0?w=g.rectBoundary:g.rectBoundary=w,0===y?(M="translate("+(.5*w.width*-1+x.width/2+.5*l)+", "+-1*(x.height+x.height/2+2)+")",r=Math.max(0,.5*(w.width-l)),o=w.height+2,Y=Math.max(l,w.width),k=c+w.height+2):1===y?(M="translate("+(l+2)+" "+(.5*w.height+.5*c-c/10-2)+")",o=Math.max(0,.5*(w.height-c)),r-=2,Y=l+w.width,k=Math.max(c,w.height)):2===y?(M="translate("+(.5*w.width*-1+x.width/2+.5*l)+" "+(c+w.height/2+x.height+2)+")",r=Math.max(0,.5*(w.width-l)),o+=2,Y=Math.max(l,w.width),k=c+w.height+4):3===y&&(M="translate("+(-1*w.width+x.width-1)+" "+(.5*w.height+.5*c-c/10-2)+")",r=w.width,o=Math.max(0,.5*(w.height-c)),Y=l+w.width,k=Math.max(c,w.height)),d("label-transform",M)&&a.attr("transform",M),(d("shift-x",r)||d("shift-y",o))&&(d("shift-y",o),a.parent().attr("transform","translate("+r+" "+o+")")),(d("svg-width",Y)||d("svg-height",k))&&(d("svg-height",k),i.attr("width",Y),i.attr("height",k)),!t||i.attr("width")!=e.width&&i.attr("height")!=e.height||d("label-el",null);var D=.5*l,L=.5*c;return!0!==e.anchorMiddle&&(L=o+c),{anchorX:D,anchorY:L}}(p.getLabel(),m);s.setAnchor(y);var v=p.getTooltip();v&&v.length&&d("tooltip-content",v)&&s.bindTooltip(v,{sticky:!0,className:"lf-tooltip"});var b=p.getOpacity();(d("lat",f)||d("lng",h))&&(d("lng",h),s.setLatLng([f,h])),d("opacity",b)&&i.style("opacity",b),function(t){return t||c.settings.getPopup().length>0||p.getMedia().length>0}(v)?s._iconClone&&(i.style("pointer-events","bounding-box"),i.style("cursor","pointer"),i.selectAll("path").forEach((function(t){t.style("pointer-events","auto")}))):s._iconClone&&(i.style("pointer-events","none"),i.style("cursor","grab"),i.selectAll("path").forEach((function(t){t.style("pointer-events","none")})))}},getMapFeature:function(){return s},isValid:function(){return!(!p.getLat()||!p.getLng())},getInvalidCells:function(){var t,n=[];return(t=e.getCell("lat"))&&!1===u.isValidLatLng(t.getValue())&&n.push(t),(t=e.getCell("lng"))&&!1===u.isValidLatLng(t.getValue())&&n.push(t),n},getKey:function(){return e.getKey()+"-"+c.getOrder()+"-"+c.getKey()},getLat:function(){var t=e.getCell("lat");return!!t&&u.isValidLatLng(t.getValue())},getLng:function(){var t=e.getCell("lng");return!!t&&u.isValidLatLng(t.getValue())},getMedia:function(){for(var t=[],n=e.getCells("media"),r=0,o=n.length;r<o;r++){var i=n[r].getValue();i.length>0&&t.push(i)}return t},getOpacity:function(){return c.settings.getOpacity()/10},getTooltip:function(){return e.getTooltipContent()},getLabel:function(){var t=e.getCell("label");return t?t.getValue():null},getLabelProps:function(){var t={color:c.settings.getColor(),size:12,position:0},n=e.getCell("category");if(n){var r=n.getIndex(),o=u.isValidColor(r.getColor());!1!==o&&(t.color=o)}var i=c.settings.getLabelSize(),a=c.settings.getLabelPosition();return i&&(t.size=i),a&&(t.position=a),t},getSize:function(){var t=e.getCell("category");if(t){var n=t.getIndex().getSize();if(n)return n}return c.settings.getSize()},getLabelBackground:function(){var t=e.getCell("category");if(t){var n=t.getIndex().getLabelBackground(!1);if(n)return n}return c.settings.getLabelBackground(!1)},getOutputType:function(){return c.getOutputType()},getBounds:function(){var t=L.latLng(p.getLat(),p.getLng()),e=L.latLng(p.getLat(),p.getLng());return L.latLngBounds(t,e)},getLayerKey:function(){return c.getKey()},getVisibleParent:function(){return l.getVisibleParent(s)},isClustered:function(){return c.settings.getMarkerCluster()},isActive:function(){return e.isActive()},getRow:function(){return e}};return p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.Polygon=function(t,e,n,o){var i,a=e.parentSheet().parentLayer(),s={},l=t.AppUtils,u=function(t,e){return!(s.hasOwnProperty(t)&&s[t]===e||(s[t]=e,0))},c={enter:function(r,o,s,l){var u=c.getGeo();(i=L.geoJSON(u,{style:function(t){return{color:c.getStrokeColor(),fillColor:c.getFill(),dashArray:c.getDashArray(),fillOpacity:c.getOpacity(),opacity:c.getOpacity(),stroke:!0,weight:c.getStrokeWidth(),pane:l,smoothFactor:.9}},pointToLayer:function(t,e){return L.circle(e)}})).addTo(s),i.on("click",(function(){var r;r=c.getMedia(),(a.settings.getPopup().length>0||r.length>0)&&(n.settings.setTempStorage("popup",e),t.digest())}))},exit:function(t,e,n){n.removeLayer(i)},update:function(t,e){var n=c.getGeo(),r=i.getBounds(),o=r._southWest,s=r._northEast,l="";n.hasOwnProperty("properties")?l+=n.properties.index+"-":n.coordinates[0].forEach((function(t,e){e<=15&&(l+=t[0]+"-"+t[1]+"-")})),o&&o.hasOwnProperty("lat")&&(l+=o.lat.toString()+"-"+o.lng.toString()),s&&s.hasOwnProperty("lat")&&(l+="-"+s.lat.toString()+"-"+s.lng.toString()),u("string",l)&&(i.clearLayers(),i.addData(n));var g=function(t){if(t){if("MultiLineString"===t.type||"LineString"===t.type)return!0;if(t.geometry&&("MultiLineString"===t.geometry.type||"LineString"===t.geometry.type))return!0}return!1}(n)?c.getFill():c.getStrokeColor(),d=c.getDashArray(),f=c.getStrokeWidth(),p=c.getOpacity(),h=c.getTooltip(),m=c.getFill(),y=null;for(var v in i._layers)i._layers.hasOwnProperty(v)&&(y=e().transform(i._layers[v]._path));if(h||a.settings.getPopup().length>0||c.getMedia().length>0?y&&y.style("cursor","pointer"):y&&y.style("cursor","grab"),function(t){for(var e=!1,n=0,r=t.length;n<r;n++){var o=t[n];u(o[0],o[1])&&(e=!0)}return e}([["color",g],["dashArray",d],["strokeWidth",f],["fillOpacity",p],["opacity",p],["tooltip",h],["fill",m]])){i.setStyle({color:g,dashArray:d,fillColor:m,fillOpacity:p,opacity:p,weight:f});var b=c.getTooltip();b.length>0&&i.eachLayer((function(t){t.bindTooltip(b,{sticky:!0,className:"lf-tooltip"})}))}},getMapFeature:function(){return i},isValid:function(){return!!c.getGeo()},getInvalidCells:function(){var t=[];return c.getGeo()||e.getCell("geo")&&t.push(e.getCell("geo")),!1===c.getSize()&&e.getCell("size")&&t.push(e.getCell("size")),t},getSize:function(){var t=e.getCell("size");return!!t&&t.getValueSize()},getKey:function(){return e.getKey()+"-"+a.getOrder()+"-"+a.getKey()},getMedia:function(){for(var t=[],n=e.getCells("media"),r=0,o=n.length;r<o;r++){var i=n[r].getValue();i.length>0&&t.push(i)}return t},getFill:function(){var t=a.settings.getFill();if("shapes-ordinal"===c.getOutputType())t="#d55f24",(n=e.getCell("category"))?(t=n.getIndex().getFill(),t=l.isValidColor(t)):t=a.settings.getFill();else if("shapes-linear"===c.getOutputType()){var n;if(n=e.getCell("size")){var r=c.getSize();!1!==r&&(t=a.scale.getBucketByNumber(r).getColor())}}return t},getStrokeColor:function(){return a.settings.getStrokeColor()},getStrokeWidth:function(){return a.settings.getStrokeWidth()},getOpacity:function(){return a.settings.getOpacity()/10},getDashArray:function(){return a.settings.getDashArray()?"1,"+(2*c.getStrokeWidth()).toString():null},getTooltip:function(){return e.getTooltipContent()},getLabel:function(){return"Label"},getOutputType:function(){return a.getOutputType()},getGeo:function(){var t=e.getCell("geo");if(t){var n=o.getGeoJSON(t);if(n&&"object"===(void 0===n?"undefined":r(n)))try{return L.geoJSON(n),n}catch(t){console.warn("Invalid geoJSON detected")}}return null},getGeoId:function(){return e.getCell("geo")?o.getGeoId():null},getBounds:function(){return L.geoJSON(c.getGeo()).getBounds()},getRow:function(){return e}};return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=function(t,e,n){var r,o=t.AppUtils,i=e.parentSheet().parentLayer(),a={},s={enter:function(o,a,l,u){var c=s.getOpacity();(r=L.circleMarker([s.getLat(),s.getLng()],{radius:s.getSize(),dashArray:s.getDashArray(),fillColor:s.getFill(),color:s.getStrokeColor(),opacity:c,fillOpacity:c,weight:s.getStrokeWidth(),pane:u})).on("click",(function(r){var o;o=s.getMedia(),(i.settings.getPopup().length>0||o.length>0)&&(n.settings.setTempStorage("popup",e),t.digest())})),l.addLayer(r)},exit:function(t,e,n){n.removeLayer(r)},update:function(t,e,n){var o,l,u=s.getOpacity(),c=s.getTooltip();c.length>0&&(!c||(o=c,a.hasOwnProperty(o)&&a[o]===l||(a[o]=l,0))||r.bindTooltip(c,{sticky:!0,className:"lf-tooltip"})),r.setLatLng([s.getLat(),s.getLng()]),r.setRadius(s.getSize()),r.setStyle({radius:s.getSize(),dashArray:s.getDashArray(),fillColor:s.getFill(),color:s.getStrokeColor(),opacity:u,fillOpacity:u,weight:s.getStrokeWidth()}),c||i.settings.getPopup().length>0||s.getMedia().length>0?r._path&&e().transform(r._path).style("cursor","pointer"):r._path&&e().transform(r._path).style("cursor","grab")},getMapFeature:function(){return r},isValid:function(){return!(!s.getLat()||!s.getLng())},getInvalidCells:function(){var t,n=[],r=s.getLat(),o=s.getLng(),i=s.getSize(!1);return!1===r&&(t=e.getCell("lat"))&&n.push(t),!1===o&&(t=e.getCell("lng"))&&n.push(t),!1===i&&(t=e.getCell("size"))&&n.push(t),n},getKey:function(){return e.getKey()+"-"+i.getOrder()+"-"+i.getKey()},getLat:function(){var t=e.getCell("lat");return!!t&&o.isValidLatLng(t.getValue())},getLng:function(){var t=e.getCell("lng");return!!t&&o.isValidLatLng(t.getValue())},getMedia:function(){for(var t=[],n=e.getCells("media"),r=0,o=n.length;r<o;r++){var i=n[r].getValue();i.length>0&&t.push(i)}return t},getSize:function(t){var n=e.getCell("size");if(n){var r=n.getValueSize();if(!1!==r)return i.scale.getRadius(r)}return!1!==t&&2},getFill:function(){var t=i.settings.getFill(),n=e.getCell("category");if(n){var r=n.getIndex().getFill();r&&(t=r)}return t},getStrokeColor:function(){var t=i.settings.getStrokeColor(),n=e.getCell("category");if(n){var r=n.getIndex().getStrokeColor();r&&(t=r)}return t},getStrokeWidth:function(){return i.settings.getStrokeWidth()},getDashArray:function(){return i.settings.getDashArray()?"1,"+(2*s.getStrokeWidth()).toString():null},getOpacity:function(){return i.settings.getOpacity()/10},getTooltip:function(){return e.getTooltipContent()},getLabel:function(){return"Label"},getOutputType:function(){return i.getOutputType()},getBounds:function(){var t=L.latLng(s.getLat(),s.getLng()),e=L.latLng(s.getLat(),s.getLng());return L.latLngBounds(t,e)},getRow:function(){return e}};return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Label=void 0,n(0),e.Label=function(t,e,n){var r,o,i,a,s=t.AppUtils,l=e.parentSheet().parentLayer(),u={},c=function(t,e){return!(u.hasOwnProperty(t)&&u[t]===e||(u[t]=e,0))},g={enter:function(s,u,c,d){var f=(r=u().create("svg","svg")).append("g").append("g").attr("class","unfold-icon-label");return f.append("rect").attr("class","unfold-icon-background"),a=u().create("div"),f.append("text"),i=L.divIcon({className:"map-icon",html:""}),(o=L.marker([g.getLat(),g.getLng()],{icon:i,opacity:g.getOpacity(),pane:d})).addTo(c),o.on("click",(function(){var r;r=g.getMedia(),(l.settings.getPopup().length>0||r.length>0)&&(n.settings.setTempStorage("popup",e),t.digest())})),o},exit:function(t,e,n){n.removeLayer(o)},update:function(t,e){var s=null;if(o.getElement()&&(s=e().transform(o.getElement()).append(r)),s){var u=g.getBackground();!1===u&&(u="transparent");var d=g.getLabel(),f=g.getLabelProps(),p=n.style,h=r.select("text").text(d);h.attr("font-size",f.size).attr("fill",f.color).attr("font-family",p.fontFamilies.regular).attr("font-weight",p.fontWeights.regular);var m=h.getBBox(),y=r.select("rect.unfold-icon-background"),v={width:0,height:0};y.attr("fill",u).attr("height",m.height+m.height/4).attr("width",m.width+m.height/2),v.height=m.height/4,v.width=m.height/2;var b=(y.getBBox().height+h.getBBox().height/2)/2;h.attr("transform","translate("+v.width/2+", "+b+")");var x=m.height,w=g.getTooltip();w.length>0&&w&&c("tooltip-content",w)&&o.bindTooltip(w,{sticky:!0,className:"lf-tooltip"});var M=g.getLat(),Y=g.getLng();(c("lat",M)||c("lng",Y))&&(c("lng",Y),o.setLatLng([M,Y])),c("shift-y",x+d)&&(i=L.divIcon({className:"map-icon",html:"",iconAnchor:[m.width/2,m.height/2]}),a.append(r),o.setIcon(i),o.getElement()&&e().transform(o.getElement()).append(r)),r.attr("width",m.width+v.width).attr("height",m.height+v.height);var k=g.getOpacity();s.attr("opacity",k),w.length>0||l.settings.getPopup().length>0||g.getMedia().length>0?e().transform(o.getElement()).style("cursor","pointer"):e().transform(o.getElement()).style("cursor","grab")}},getMapFeature:function(){return o},isValid:function(){return!(!g.getLat()||!g.getLng())},getInvalidCells:function(){var t,n=[];return(t=e.getCell("lat"))&&!1===s.isValidLatLng(t.getValue())&&n.push(t),(t=e.getCell("lng"))&&!1===s.isValidLatLng(t.getValue())&&n.push(t),n},getKey:function(){return l.getOrder()+"-"+e.getKey()+"-"+l.getKey()},getLat:function(){var t=e.getCell("lat");return!!t&&s.isValidLatLng(t.getValue())},getLng:function(){var t=e.getCell("lng");return!!t&&s.isValidLatLng(t.getValue())},getMedia:function(){for(var t=[],n=e.getCells("media"),r=0,o=n.length;r<o;r++){var i=n[r].getValue();i.length>0&&t.push(i)}return t},getOpacity:function(){return l.settings.getOpacity()/10},getTooltip:function(){return e.getTooltipContent()},getLabel:function(){var t="",n=e.getCell("label");return n&&(t=n.getValue()),t},getLabelProps:function(){var t={color:"#dbff00",size:12},e=l.settings.getColor();e&&s.isValidColor(e)&&(t.color=e);var n=l.settings.getLabelSize();return n&&(t.size=n),t},getBackground:function(){var t=e.getCell("label"),n=null;return t&&(n=t.getIndex().getLabelBackground())&&s.isValidColor(n)&&(n=n),s.isValidColor(n)},getOutputType:function(){return l.getOutputType()},getBounds:function(){var t=L.latLng(g.getLat(),g.getLng()),e=L.latLng(g.getLat(),g.getLng());return L.latLngBounds(t,e)},getMapElement:function(){return o},getRow:function(){return e}};return g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Style=void 0;var r=n(6),o={default:[{hierarchy:9,content:{width:24,height:24,x:0,y:0,anchorX:12,anchorY:12,type:"g",innerNodes:[{type:"path",attrs:{d:"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"}}]},tags:"marker"}]},i=0;o.default.sort((function(t,e){return e.hierarchy-t.hierarchy})).forEach((function(t){t.key=i,i++})),e.Style=function(t,e,n){function i(t,e){var n=parseInt(t.slice(1),16),r=e<0?0:255,o=e<0?-1*e:e,i=n>>16,a=n>>8&255,s=255&n;return"#"+(16777216+65536*(Math.round((r-i)*o)+i)+256*(Math.round((r-a)*o)+a)+(Math.round((r-s)*o)+s)).toString(16).slice(1)}var a={page:{background:"#FFFFFF",border:"0px solid #FFFFFF",margins:{top:"4px",right:"4px",bottom:"4px",left:"4px"},extra:{fontSmooth:!1}},disableLeftAndRightMargin:!1,getPageMargins:function(){var t={top:a.page.margins.top,right:a.page.margins.right,bottom:a.page.margins.bottom,left:a.page.margins.left};return!0!==a.disableLeftAndRightMargin||function(){if(n.settings.getTitle())return!0;if(n.settings.getDescription())return!0;if(n.getCustomLegendItems().length)return!0;for(var t=n.getLayers(),e=0;e<t.length;e++){var r=t[e];if("labels"!==r.getOutputType()){var o=r.getSheet().getColumn("category");if(o&&!o.isTypeMeta("noLegend"))return!0}}return!1}()||(t.left="0px",t.right="0px",t.top="0px",t.bottom="0px"),t},basemap:{},icons:o.default,colors:["#2F8DCA","#FEAE37","#FF8F24","#61473A","#51B4D4","#000000","#FFFFFF"],colorsExtra:["#CCCCCC"],colorsPalettes:[{label:"Testpalet",colors:["#95eb60","#eb6c60"]}],getColor:function(t){"number"!=typeof t&&(t=0);for(var e=a.colors,n=t%e.length,r=Math.floor(t/e.length),o=e[n],s=0;s<r;s++)o=i(o,.1);return o},getColorScheme:function(){return null===a.colorScheme?(0,r.ColorArray)():a.colorScheme},colorScheme:null,fontColors:{emphasized:"#222222",regular:"#222222",faded:"#777777"},fontFamilies:{emphasized:"Georgia",regular:"Helvetica"},fontSizes:{large:"22px",regular:"14px",controls:"13px",small:"12px"},fontWeights:{emphasized:"bold",regular:"normal"},fontStyles:{emphasized:"normal",regular:"normal"},controls:{button:{text:"#222222",background:"#FFFFFF",border:"1px solid #777777"},menu:{text:"#222222",background:"#FFFFFF",border:"1px solid #777777"},input:{text:"#222222",background:"#FFFFFF",border:"1px solid #777777"}},credits:{byLabel:"",byLink:"",lfLabel:"",lfLink:"",sourceLabel:"",settings:{source:"left",by:"right",lf:"left"}},locals:{touchWarning:"Scroll with two fingers"},borderRadius:"0px",parse:{border:function(e){var n,r={strokeWidth:0,strokeFill:"#FFFFFF",strokeType:"solid"};return"string"!=typeof e||((n=e.match(/([0-9]+?)px/))&&(r.strokeWidth=parseInt(n[1],10)),(n=e.match(/(#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3})/))&&t.AppUtils.isValidColor(n[1])&&(r.strokeFill=n[1])),r},pixels:function(t){var e=0;if("string"!=typeof t)return e;var n=t.match(/([0-9]+?)px/);return n&&(e=parseInt(n[1],10)),e}},getMagicMarginSmall:function(){return.5*a.getMagicMarginRegular()},getMagicMarginRegular:function(){return a.parse.pixels(a.fontSizes.regular)},getTileServerProps:function(){var e={"label-switch":n.settings.getBasemapLabels()?"on":"off"};n.style.basemap.hasOwnProperty("font")&&"string"==typeof n.style.basemap.font&&(e.font=n.style.basemap.font);for(var r=n.settings.getValidBasemapProps(),o=0,i=r.length;o<i;o++){var a=r[o];if(n.style.basemap&&n.style.basemap.hasOwnProperty(a)){var s=n.style.basemap[a];t.AppUtils.isValidColor(s,!0)&&(e[a]=s)}var l=n.settings.getBasemapProp(a);t.AppUtils.isValidColor(l,!0)&&(e[a]=l)}return e}};return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.User=function(t,e){var n="default",r=!0,o=null,i={getLocale:function(){return n},setLocale:function(t){return n=t.toLowerCase(),i},parseLocale:function(t){return"string"==typeof t[n]?t[n]:t.default},isEditor:function(){return!!r},setEditor:function(t){return r=t,i},getGroup:function(){return o},setGroup:function(t){return o=t,i}};return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=["p","span","small","div","h1","h2","h3","h4","h5","h6","ul","ol","li","strong","b","i","br","a","img","table","tr","td","hr","center"],n=["br","img","hr"],r=function(t){return!("string"!=typeof t||!t.length)&&((t=t.trim()).match(/^http:\/\//)?"https://"+t.substring(7):t.match(/^https:\/\//)?t:t.match(/^\/\//)?"https:"+t:"https://"+t)},o=function(t){return!("string"!=typeof t||!t.length)&&(t.match(/^[0-9]{1,4}$/)||!!t.match(/^[0-9]{1,4}(px|%)$/))&&t},i={a:{href:{test:function(t,e){return e&&!1===e.validate&&"string"==typeof t&&(t=t.trim()).match(/^{{.*?::([0-9]+?)}}$/)?t:r(t)},extra:function(t){t.attr("target","_blank")}}},img:{width:{test:function(t){return o(t)}},height:{test:function(t){return o(t)}},src:{test:function(t,e){return e&&!1===e.validate&&"string"==typeof t&&(t=t.trim()).match(/^{{.*?::([0-9]+?)}}$/)?t:r(t)}}},table:{width:{test:function(t){return o(t)}}}},a=function(t){var e=t.charCodeAt(0);return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57},s=function t(r,o){var s=[],l="",u=0,c=0,g="",d="",f=[];null===r&&(u=2);var p={feed:function(e,n){if(0===u&&"<"===e)return p;if(0===u&&" "===e)return u=1,p;if((0===u||1===u)&&"/"===e&&0===c)return p;if((0===u||1===u)&&">"===e)return p.isSelfClosing()?(u=3,r):(u=2,p);if(2===u&&"<"===e&&"/"===n)return u=3,p;if(2===u&&"<"===e&&"/"!==n){var i=t(p,o);return s.push(i),i}if(3===u&&">"===e)return r;if(0===u&&a(e)&&(l+=e),1===u){if(0===c&&a(e)&&(c=1),1===c&&"="===e)return c=2,p;if(2===c&&'"'===e)return c=3,p;if(3===c&&'"'===e)return f.push([g,d]),g="",d="",c=0,p;1===c&&(g+=e),3===c&&(d+=e)}return 2===u&&("string"!=typeof s[s.length-1]&&s.push(""),s[s.length-1]=s[s.length-1]+e),p},parse:function(t){p.attrs().forEach((function(e){var n=e[0],r=e[1];t.attr(n,r),"function"==typeof i[p.tag()][n].extra&&i[p.tag()][n].extra(t)})),s.forEach((function(e){if("string"==typeof e){var n=document.createTextNode(function(t){return"string"!=typeof t?"":([["&amp;","&"],["&apos;","'"],["&#x27;","'"],["&#x2F;","/"],["&#39;","'"],["&#47;","/"],["&lt;","<"],["&gt;",">"],["&nbsp;"," "],["&quot;",'"'],["&#160;"," "],["&nbsp;"," "]].forEach((function(e){t=t.split(e[0]).join(e[1])})),t)}(e));t.node().appendChild(n)}else{var r=t.append(e.tag());e.validTag()&&e.parse(r)}}))},tag:function(){return p.validTag()?l:"div"},attrs:function(){var t=[];return f.forEach((function(e){var n=p.tag(),r=e[0],a=e[1];if(i.hasOwnProperty(n)){var s=i[n];if(s.hasOwnProperty(r)){var l=(0,s[r].test)(a,o);"string"==typeof l&&t.push([r,l])}}})),t},isSelfClosing:function(){return-1!==n.indexOf(l)},validTag:function(){return-1!==e.indexOf(l)},children:function(){return s},parent:function(){return r}};return p};return{sanitize:function(e,n){void 0!==n&&n||(n={});for(var r=s(null,n),o=r,i=0,a=e.length;i<a;i++){var l=e[i],u=e[i+1];if(null===(r=r.feed(l,u)))break}var c=t.AppLibraries.get("elements")().create(o.tag());return o.parse(c),c},getValidTags:function(){return e},getSelfClosing:function(){return n},test:function(t,e){void 0!==e&&e||(e={});for(var n=s(null,e),r=n,o=0,i=t.length;o<i;o++){var a=t[o],l=t[o+1];if(null===(n=n.feed(a,l)))break}return r},isValidUrl:function(t){return r(t)},isValidWidthHeight:function(t){return o(t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){return{model:function(e,n,r){var o=t.AppUtils.debounce((function(){t.digest()}),750);r.on("input",(function(e){n(this.value()),e.inputType&&"insertFromPaste"===e.inputType?t.digest():o()})),t.watch((function(){r.value(e())}))},imageUpload:function(e,n,o,i){var a=i.select(".edit-style-custom-image");console.log(e.getHooks()),a.on("change",(function(){var n=a.node().files[0],r=new FileReader;r.onloadend=function(){e.getHooks().uploadImage(r.result,(function(e){o(e),t.digest()}))},n&&r.readAsDataURL(n)})),t.watch((function(){var t=n();(void 0===t||r(t))&&t.length?i.select(".image-upload-preview").classed("image-upload-preview-active",!0).style("background-image","url("+t+")"):i.select(".image-upload-preview").classed("image-upload-preview-active",!1).style("background-image",null)}))},checkbox:function(e,n,r){r.on("click",(function(){var e=this.checked();n(e),t.digest()})),t.watch((function(){r.checked(e())}))},toggleButton:function(e,n,r){r.on("click",(function(){n(!Boolean(e())),t.digest()})),t.watch((function(){r.style("opacity",e()?"1":"0.5")}))},colorPicker:function(e,n,r,o){o.style("position","relative");var i=o.append("div").style("position","absolute").style("z-index","1").style("top","102%").style("border","1px solid #EEE").style("padding","0.5em").style("background-color","#FFF"),a=o.append("input"),s=t.AppUtils.debounce((function(){t.digest()}),750),l=!1;a.on("input",(function(e){r(this.value()),e.inputType&&"insertFromPaste"===e.inputType?t.digest():s()})).on("focus",(function(){l||(l=!0,t.localDigest())})).on("blur",(function(e){l&&(l=!1,t.localDigest())})).on("click",(function(e){l||(l=!0,t.localDigest())}));var u=function(t,e,n){for(var r=[],o=0;o<n.length;o++)r.push(n[o]);var i={getKey:function(){return t},getLabel:function(){return"string"==typeof e&&e.length?e:null},getColors:function(){return r},addColor:function(t){return r.push(t),i}};return i};t.watch((function(){var o=[];l&&(o.push(u("regular",null,e.style.colors).addColor("none")),e.style.colorsExtra&&e.style.colorsExtra.length&&o.push(u("extra",null,e.style.colorsExtra)),e.style.colorsPalettes&&e.style.colorsPalettes.length&&e.style.colorsPalettes.forEach((function(t,e){o.push(u("palette"+e,t.label,t.colors))})));var s=n();if(a.value(s),t.AppUtils.isValidColor(s)){var c=t.AppUtils.isDarkColor(s)?"#FFFFFF":"#000000",g="none"===s?"#FFFFFF":s;a.style("background-color",g).style("border-color","#222222").style("color",c)}else a.style("background-color","#FFFFFF").style("border-color","#FF0000").style("color","#FF0000");o.length?i.style("display",null):i.style("display","none"),i.merge({items:o,key:function(t){return t.getKey()},append:"div",enter:function(t,e){t.append("div").attr("class","edit-palette-label").style("font-size","0.85em"),t.append("div").attr("class","edit-palette-colors"),"regular"===e.getKey()&&t.style("margin-bottom","0.5em")},exit:function(t){t.remove()},update:function(e,n){e.select("div.edit-palette-label").text(n.getLabel()),e.select("div.edit-palette-colors").merge({items:n.getColors(),key:function(t){return t},append:"div",enter:function(e,n){e.style("display","inline-block").style("position","relative").style("width","1em").style("height","1em").style("margin","1px").style("border","1px solid #FFFFFF").style("background-color","transparent"===n||"none"===n?"#FFF":n).style("cursor","pointer").on("mousedown",(function(e){e.preventDefault(),l=!1,r(n),t.digest()})),"transparent"!==n&&"none"!==n||e.append("svg").style("position","absolute").attr("viewBox","0 0 10 10").style("top","0").style("left","0").style("width","100%").style("height","100%").append("line").attr("x1","0").attr("y1","10").attr("x2","10").attr("y2","0").attr("fill","none").attr("stroke-width","2").attr("stroke","red")},exit:function(t){t.remove()},update:function(t,e){s===e?t.style("border-color","#000"):t.style("border-color","#DDDDDD")}})}})}))},iconPicker:function(e,n,r,o,i,a){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=(e.parentDataFactory(),"layer"),u=function(t){return"cell"===t.type?t.type+"|"+t.label:t.type},c=function(){for(var t=g(),e=0;e<t.length;e++){var n=t[e];if(u(n)===l)return n}return t[0]},g=function(){var t=[],n=e.getSheet();t.push({label:"Default",type:"layer",layer:e,obj:e.settings}),s&&t.push({label:"Clusters",type:"cluster",layer:e,obj:e.settingsClusters});var r=n.getColumn("category");return r&&r.getUniqueCells().forEach((function(n){t.push({label:n.getValue(),type:"cell",layer:e,obj:n.getIndex()})})),t};"clusters"===n?l=u({label:"Clusters",type:"cluster",layer:e,obj:e.settingsClusters}):n&&(l=u({label:n.getValue(),type:"cell",layer:e,obj:n.getIndex()}));var d=i.append("select").on("change",(function(e){var n=this.node().selectedIndex,r=g();"number"==typeof n&&r[n]&&(l=u(r[n])),t.digest()})),f=i.append("div");t.watch((function(){var n=c();d.merge({items:g(),key:function(t){return u(t)},append:"option",enter:function(t,e){t.attr("data-key",u(e))},exit:function(t){t.remove()},update:function(t,e){t.text(e.label),u(e)===u(n)?t.attr("selected",""):t.attr("selected",null)}}),"single"===e.getInputType()?d.style("display","none"):d.style("display",null),d.style("display","none"),f.merge({items:[n],key:function(t){return u(t)},append:"div",enter:function(e,n){t.attach(a,e,n)},exit:function(e){t.detach(e),e.remove()},update:function(){}})}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{init:function(t,e,n,o){return r(t,e,n,o)}}};var r=function(t,e,n,r){var o=null,i=[],a={dragStart:function(t){o=this,t.dataTransfer.effectAllowed="move";var e=o.node().outerHTML;t.dataTransfer.setData("Text",e),this.classed("draggingElement",!0)},dragOver:function(t){return t.preventDefault&&t.preventDefault(),this.classed("over",!0),t.dataTransfer.dropEffect="move",!1},dragEnter:function(t){},dragLeave:function(t){this.classed("over",!1)},dragDrop:function(t){if(t.stopPropagation&&t.preventDefault(),o!=this){var i=o.attr("data-key"),a=this.attr("data-key"),s={from:null,to:null},l=n.getLayers();"legends"===r&&(l=n.getCustomLegendItems()),l.forEach((function(t,e){t.getKey().toString().indexOf(a)>=0&&(s.to=e),t.getKey().toString().indexOf(i)>=0&&(s.from=e)})),"layers"===r?n.setLayerOrder(s,e):n.setLegendOrder(s,e)}this.classed("over",!1)},dragEnd:function(){this.classed("over",!1)},setListeners:function(){t.children().forEach((function(t){i.indexOf(t.node())<0&&(t.on("dragstart",a.dragStart).on("dragover",a.dragOver).on("dragenter",a.dragOver).on("dragleave",a.dragLeave).on("drop",a.dragDrop).on("dragend",a.dragEnd),i.push(t.node()))}))}};return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return{translate:function(t,e){var r;r="nl"===n.lang?2:1;for(var i=0,a=o.default.length;i<a;i++){var s=o.default[i];if(t===s[0]&&"string"==typeof s[r]&&s[r].length)return"string"==typeof e?s[r].replace("{}",e):"number"==typeof e?s[r].replace("{}",e.toString()):s[r]}return console.warn("Unable to find "+t+" in the translations table"),"?"}}};var r,o=(r=n(73))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[["map-layers","Map layers","Kaartlagen"],["map-options","Map options","Kaartopties"],["add-layer","Add map layer","Voeg kaartlaag toe"],["add-layer-single","Draw seperate elements","Losse elementen tekenen"],["add-layer-sheet","Elements from table","Elementen uit tabel"],["styling","Design","Opmaak"],["new-layer-markers","Icon","Icoon"],["new-layer-shapes-ordinal","Shape","Vlak"],["new-layer-shapes-ordinal-line","Line","Lijn"],["new-layer-labels","Text label","Tekstlabel"],["new-layer-markers+","Icons","Iconen"],["new-layer-circles+","Proportional circles","Proportionele cirkels"],["new-layer-shapes-ordinal+","Area map (categories)","Vlakkenkaart (categorieën)"],["new-layer-shapes-linear+","Area map (numbers)","Vlakkenkaart (cijfers)"],["new-layer-labels+","Text labels","Tekstlabels"],["markers","Icon","Icoon"],["markers+","Icons","Iconen"],["circles","Circle","Cirkel"],["circles+","Circles","Cirkels"],["labels","Text label","Tekstlabel"],["labels+","Text labels","Tekstlabels"],["clusters","Cluster","Clusters"],["clusters+","Clusters","Clusters"],["shapes-ordinal","Area","Gebied"],["shapes-ordinal+","Areas","Gebieden"],["shapes-linear","Area","Gebied"],["shapes-linear+","Areas","Gebieden"],["shapes-ordinal-line","Line","Lijn"],["shapes-ordinal-line+","Lines","Lijnen"],["from-spreadsheet","From table","Uit tabel"],["edit-spreadsheet","Edit table","Bewerk tabel"],["edit-popup","Edit popup","Bewerk pop-up"],["edit-tooltip","Edit tooltip","Bewerk tooltip"],["remove-layer","Delete layer","Verwijder kaartlaag"],["edit-mode-html","HTML mode","HTML-modus"],["edit-mode-text","Text mode","Tekstmodus"],["global-text-options","Edit title and other labels","Bewerk titel en andere labels"],["global-map-options","Map options","Kaartopties"],["global-legend-options","Legend","Legenda"],["global-text-title","Title","Titel"],["global-text-description","Description","Beschrijving"],["global-text-source","Source","Bron"],["global-text-sourceurl","Source URL","Link naar bron"],["global-text-searchlabel","Text in search field","Tekst in zoekveld"],["global-map-showbasemap","Show basemap","Toon basiskaart"],["global-map-mapbackground","Background color","Kleur achtergrond"],["global-map-fitscreen","Resize area map to fit screen","Maak vlakkenkaart passend binnen scherm"],["global-map-showlabels","Show labels basemap","Toon labels op de basiskaart"],["global-map-minzoom","Minimum zoom level","Minimaal zoomniveau"],["global-map-maxzoom","Maximum zoom level","Maximaal zoomniveau"],["global-map-water","Water","Water"],["global-map-nature","Nature","Natuur"],["global-map-land","Land","Land"],["global-map-roadstroke","Roads (stroke)","Wegen (randen)"],["global-map-roadfill","Roads (fill)","Wegen (vulling)"],["global-map-rail","Rails","Rails"],["global-map-urban","Urban areas","Bewoond gebied"],["global-map-buildingstroke","Buildings (stroke)","Gebouwen (randen)"],["global-map-buildingfill","Buildings (fill)","Gebouwen (vulling)"],["global-map-label","Labels (text)","Labels (tekst)"],["global-map-halo","Labels (halo)","Labels (halo)"],["global-map-border","Borders","Borders"],["add-legend","Add legend item","Voeg legenda-item toe"],["remove-popup-question","Are you sure you want to delete this?","Weet je zeker dat je dit wilt verwijderen"],["remove-popup-ok","Yes, delete","Ja, verwijder"],["clusters-show-all","Show all","Toon alles"],["spreadsheet-find","Search","Zoek"],["spreadsheet-replace","Replace","Vervang voor"],["spreadsheet-replaceall","Replace all","Vervang alles"],["spreadsheet-selectgeo","Which map do you want to use?","Welke kaart wil je gebruiken?"],["spreadsheet-changegeo","Choose different area map","Kies andere gebiedsindeling"],["spreadsheet-addgeo","Add {} to column","Voeg {} toe aan kolom"],["spreadsheet-choosegeo","Which area map do you want to use?","Welke gebiedsindeling wil je gebruiken?"],["spreadsheet-customgeo","Add custom shapes and lines","Voeg eigen vlakken of lijnen toe"],["spreadsheet-drive-add","Connect Google Drive spreadsheet","Koppel Google Drive-spreadsheet"],["spreadsheet-drive-paste","Paste URL to spreadsheet:","Plak de link naar de spreadsheet:"],["spreadsheet-drive-helper","Read about preperation steps","Lees hoe je dit voorbereidt"],["spreadsheet-drive-helper-link","https://tutorials.localfocus.nl/en/connect-to-google-drive.html","https://tutorials.localfocus.nl/nl/koppel-google-drive.html"],["spreadsheet-drive-error","Spreadsheet is not available","De spreadsheet is niet beschikbaar"],["spreadsheet-drive-loading","Loading...","Bezig met laden..."],["spreadsheet-drive-loaded","Spreadsheet is imported. Number of rows: {}","Spreadsheet is geïmporteerd. Aantal rijen: {}"],["spreadsheet-clearcolumn","Empty column","Wis kolom"],["spreadsheet-download","Download tabel","Download tabel"],["spreadsheet-unpivot","Unpivot","Unpivot"],["spreadsheet-unpivot-info","Unpivot allows you to merge multiple columns into one. This is necessary to be able switch between these columns in a dropdown.","Met unpivot kun je verschillende kolommen samenvoegen in één kolom. Dit is nodig om te kunnen switchen tussen de kolommen in een dropdown."],["spreadsheet-unpivot-apply","Apply","Doorvoeren"],["spreadsheet-tooltip-rightclick","Set with right mouse button","Instellen met rechtermuisknop"],["spreadsheet-testdata","Add an example dataset","Voeg een voorbeeld-dataset toe"],["spreadsheet-empty","Empty table","Maak tabel leeg"],["spreadsheet-empty-question","Are you sure you want to empty this table?","Weet je zeker dat je deze tabel wilt leegmaken?"],["spreadsheet-empty-ok","Yes, empty table","Ja, maak leeg"],["spreadsheet-empty-popup-question","Are you sure you want to remove this popup?","Weet je zeker dat je deze pop-up wilt verwijderen?"],["spreadsheet-empty-popup-ok","Yes, remove popup","Ja, verwijder pop-up"],["spreadsheet-empty-tooltip-question","Are you sure you want to remove this tooltip?","Weet je zeker dat je deze tooltip wilt verwijderen?"],["spreadsheet-empty-tooltip-ok","Yes, remove tooltip","Ja, verwijder tooltip"],["spreadsheet-column-geo","Location name","Locatienaam"],["spreadsheet-column-dropdown","Dropdown","Dropdown"],["spreadsheet-column-search","Search for","Zoeken op"],["spreadsheet-column-media","URL to image/YouTube","Link naar afbeelding/YouTube"],["spreadsheet-column-category","Design {}","Opmaak {}"],["spreadsheet-column-size","Value","Waarde"],["spreadsheet-column-size-circles","Size circles","Grootte cirkels"],["spreadsheet-column-size-shapes-linear","Color areas","Kleur gebieden"],["spreadsheet-column-lng","Longitude/X","Longitude/X"],["spreadsheet-column-lat","Latitude/Y","Latitude/Y"],["spreadsheet-column-label","Label","Label"],["spreadsheet-column-geocode","Geocode address","Geocode adres"],["spreadsheet-column-single","Single select","Eén keuze"],["spreadsheet-column-noLegend","Hide in legend","Verberg in legenda"],["spreadsheet-column-decimalDot","Decimal dot","Decimalen door punten"],["spreadsheet-column-decimalComma","Decimal comma","Decimalen door komma's"],["spreadsheet-column-domainScale","Relative circles","Relatieve cirkels"],["configure-color","Color","Kleur"],["configure-size","Size","Afmeting"],["configure-strokecolor","Line color","Lijnkleur"],["configure-strokewidth","Line width","Lijndikte"],["configure-icon","Icon","Icoon"],["configure-label","Label","Tekstlabel"],["configure-dash","Dash","Gestippeld"],["configure-opacity","Opacity","Zichtbaarheid"],["configure-backgroundcolor","Background color","Achtergrondkleur"],["configure-position","Position","Positie"],["configure-searchicon","Search an icon","Zoek een icoon"],["add-image","Add image","Afbeelding toevoegen"],["add-youtube","Add url to Youtube video","Link naar Youtube-video toevoegen"],["scale-custom","Custom buckets","Eigen schaalverdeling"],["scale-customactive","Activate","Activeren"],["scale-customreverse","Reverse colors","Kleuren omdraaien"],["scale-customticks","Number of buckets","Aantal kleuren"],["scale-unit","Units","Eenheid"],["scale-prefix","Prefix","Voorvoegsel"],["scale-suffix","Suffix","Achtervoegsel"],["popup-empty","Remove popup","Pop-up verwijderen"],["tooltip-empty","Remove tooltip","Tooltip verwijderen"]]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){var r=n.style;e.style("position","absolute"),e.style("font-family",r.fontFamilies.regular),e.style("top","0"),e.style("right","0"),e.style("bottom","0"),e.style("left","0"),e.style("overflow","hidden");var l=e.append("div").style("position","relative"),u=l.append("svg").attr("class","svg-wrapper"),c=(t.AppLibraries.get("elements"),u.append("rect")),g=u.append("g").attr("class","map-header"),d=(u.append("g").attr("class","map-svg-wrapper"),l.append("div").attr("class","map")),f=u.append("g").attr("class","map-footer"),p=l.append("div").attr("class","touch-warning"),h=l.append("div"),m=(0,o.default)(l,n),y={mapUtilities:m,dataFactory:n},v=(0,a.Header)(t,g,n,m),b=(0,s.Footer)(t,f,n,m);v.enter(),b.enter(),t.watch((function(){var o=m.getMarginsAsInt(),i=r.parse.border(r.page.border),a=r.parse.pixels(r.borderRadius),s=i.strokeWidth,g=i.strokeFill,f=r.getMagicMarginSmall(),p=r.getMagicMarginRegular();l.style("width",e.width()+"px").style("height",e.height()+"px").style("font-family",r.fontFamilies.regular),!0===r.page.extra.fontSmooth?l.style("-webkit-font-smoothing","antialiased"):l.style("-webkit-font-smoothing",null),u.attr("width",e.width()).attr("height",e.height()).attr("font-family",r.fontFamilies.regular).attr("font-weight",r.fontWeights.regular),u.select("rect").attr("rx",a).attr("ry",a).attr("stroke",g).attr("stroke-width",s);var y=t.AppUtils.isValidColor(n.style.page.background);!1===y&&(y="#FFF"),c.attr("width",l.width()-s).attr("height",l.height()-s).attr("fill",y).attr("transform","translate("+s/2+", "+s/2+")"),v.update(),b.update();var x=o.top+v.getTotalHeight();x-o.top>r.parse.pixels(r.borderRadius)&&(x+=p);var w=b.getTotalHeight(),M=e.height()-o.bottom-x-b.getTotalHeight(),Y=e.width()-o.left-o.right;w>0&&(M-=f),d.style("position","absolute").style("top",x+"px").style("left",o.left+"px").style("height",M+"px").style("width",Y+"px");var k=[],S=n.settings.getTempStorage("popup");S&&k.push({component:"MapPopupRoot",row:S,dataFactory:n});var C=n.settings.getTempStorage("active-popup-media");C&&k.push({component:"MapPopupOverlay",cell:C,dataFactory:n}),h.merge({items:k,key:function(t){if(t.hasOwnProperty("cell")){var e=t.cell.getYoutubeId()?t.cell.getYoutubeId():"image";return t.cell.getKey()+"-"+t.component+"-"+e}return t.row.getKey()+"-"+t.component},append:"div",enter:function(e,n){t.attach(n.component,e,n)},exit:function(e){t.detach(e),e.remove()},update:function(t,e){}})})),t.attach("MapLayer",d,y),t.attach("MapScale",d.append("svg"),y),t.attach("MapTouchWarning",p,y);var x=(0,i.default)(l,y.dataFactory,m,t);t.listen("svg-export",(function(t){t(x.exportSVG(v,b))})),t.listen("generate-thumbnail",(function(t){x.createThumbnail(v,b,t)}))}}};var r=n(75),o=l(n(76)),i=l(n(77)),a=n(79),s=n(84);function l(t){return t&&t.__esModule?t:{default:t}}(0,r.addSVGIcon)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addSVGIcon=function(){window.L&&(L.SVG.include({_initGroup:function(t){var e=t._group=t._iconClone;L.DomUtil.addClass(e,"map-icon"),t.options.className&&L.DomUtil.addClass(e,t.options.className);var n=L.Util.stamp(t);this._layers[n]=t},_addGroup:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._group),t.addInteractiveTarget(t._group)},_removeGroup:function(t){L.DomUtil.remove(t._group),t.removeInteractiveTarget(t._group);var e=L.Util.stamp(t);delete this._layers[e]},_updateGroup:function(t){t._project(),t._update()},_updateSvgIcon:function(t){if(t._anchor&&t._map){var e=t._point;e&&e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&t._group.setAttribute("transform","translate("+(e.x-t._anchor.anchorX)+", "+(e.y-t._anchor.anchorY)+")")}}}),L.SvgGroup=L.Layer.extend({options:{interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initGroup(this),this._reset(),this._renderer._addGroup(this)},onRemove:function(){this._renderer._removeGroup(this)},redraw:function(){return this._map&&this._renderer._updateGroup(this),this},_reset:function(){this._project(),this._update()}}),L.SvgIcon=L.SvgGroup.extend({options:{},initialize:function(t,e){L.Util.setOptions(this,e),this._latlng=L.latLng(t);var n=this.options.icon.select("g").attr("class","leaflet-interactive");this._iconClone=n.node()},setAnchor:function(t){this._anchor=t,this._map&&this._update()},setLatLng:function(t){var e=this._latlng;return this._latlng=L.latLng(t),this.redraw(),this.fire("move",{oldLatLng:e,latLng:this._latlng})},getLatLng:function(){return this._latlng},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_update:function(){this._map&&this.updateSvgIcon()},updateSvgIcon:function(){this._renderer._updateSvgIcon(this)}}))}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n={getMarginsAsInt:function(){var t=e.style,n=t.getPageMargins(),r=t.parse.pixels(t.page.border);return{top:t.parse.pixels(n.top)+r,right:t.parse.pixels(n.right)+r,bottom:t.parse.pixels(n.bottom)+r,left:t.parse.pixels(n.left)+r}},setTextRows:function(r,o,i){r.selectAll("text").remove();var a=e.style,s=n.getMarginsAsInt(),l=[],u=t.width()-s.left-s.right;i&&(u-=i);var c=o.split(" "),g=r.append("text").text(o),d=s.left+s.right+2*a.parse.pixels(a.page.border);if(g.getBBox().width+d>=u){var f=1,p="",h=0;do{for(var m=3;m>0;m--){f=m;var y=p+c.slice(0,f).join(" ");g.text(y).getBBox().width+d<=u?(p+=c.slice(0,f).join(" ")+" ",c.splice(0,m),m=0):1===m&&(p.length?l.push(p):(l.push(c.slice(0,f).join(" ")+" "),c.splice(0,m)),p="")}++h>1e3&&(c=[])}while(c.length>0);p.length&&l.push(p),g.remove();var v=1;r.merge({items:l,key:function(t){return++v+"-"+r.attr("font-size")},append:"text",enter:function(t,e){t.text(e)},exit:function(t){t.remove()}})}},getParentElement:function(e){return"map"===e?t:t.select(e)}};return n},(r=n(7))&&r.__esModule},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){var a={parseTranslate:function(t){if("string"!=typeof t)return{x:0,y:0};var e=t.match(/translate(3d)?\(\s?(-?\d+.?\d*)(px)?\s?,\s?(-?\d+.?\d*)(px)?/);return e?{x:e[2]?parseFloat(e[2]):0,y:e[4]?parseFloat(e[4]):0}:{x:0,y:0}},parsePaths:function(e,n,r){var o=i.AppLibraries.get("elements")().create("g","svg"),s=t.select(".leaflet-map-pane"),l=a.parseTranslate(s.style("transform")),u=e.getKey().toString(),c=t.select(".leaflet-"+u+"-pane"),g=c.select("g"),d=c.select("svg").style("transform"),f=a.parseTranslate(d),p=(f.x,l.x,f.y,l.y,r.x,f.x,l.x,r.y,f.y,l.y,o.append("g").attr("id",c.style("z-index")));return e.getOutputType().indexOf("shape")>=0?g.children().forEach((function(t){var e=(t=t.clone()).attr("d");p.append(t.attr("d",e))})):"circles"===e.getOutputType()?g.children().forEach((function(t){p.append(t.clone())})):"labels"===e.getOutputType()?c.children().forEach((function(t){var e=a.parseTranslate(t.style("transform")),n={left:0,top:0},r=t.style("margin-left"),o=t.style("margin-top");r&&(n.left+=parseInt(r)),o&&(n.top+=parseInt(o));var i=p.append("g").attr("transform","translate("+(e.x+n.left)+", "+(e.y+n.top)+")");t.select("svg").node()&&t.select("svg").clone().children().forEach((function(t){i.append(t)}))})):"markers"===e.getOutputType()&&c.children().forEach((function(t){t.style("transform");var e=p.append("g");if(t.select("svg").node()){var n=t.select("svg > g").clone(),r=t.style("transform").replace("3d",""),o=(r=r.split("px").join("")).split(","),i=parseFloat(o[0].split("translate(").join("")),a=parseFloat(o[1]),s=parseFloat(t.style("margin-left")),l=parseFloat(t.style("margin-top"));isNaN(s)||(i+=s),isNaN(l)||(a+=l);var u="translate("+i+", "+a+")";e.attr("transform",u),n.children().forEach((function(t){e.append(t)}))}t.select("g").node()&&(n=t.select("g").clone()).children().forEach((function(t){e.append(t)}))})),{overlay:o,globalShift:l}},fixXML:function(t){return-1===(t=(t=t.split("clippath").join("clipPath")).replace('clip-path="url(&quot;#cp&quot;)"','clip-path="url(#cp)"')).indexOf('xmlns:xlink="http://www.w3.org/1999/xlink"')&&(t=t.replace('xmlns="http://www.w3.org/2000/svg"','xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"')),t.replace('<g id="replaceThisGroup" />','<g id="replaceThisGroup"/>')},setClipPath:function(t,e,n){e&&e.length&&e.forEach((function(e){t.append("use").attr("href","#"+e)}))},exportSVG:function(r,s){var l,u=null;i.AppLibraries.get("elements"),i.broadcast("get-map",(function(t){u=t}));var c=e.style,g=n.getMarginsAsInt(),d=t.select(".svg-wrapper"),f=d.clone(),p=f.select(".map-svg-wrapper"),h=c.getMagicMarginRegular(),m=c.getMagicMarginSmall();u.invalidateSize();var y=n.getParentElement("map"),v=r.getTotalHeight()+g.top,b=0,x=0;r.getTotalHeight()>0&&(b+=h),s.getTotalHeight()>0&&(x+=m);var w={width:y.width()-g.left-g.right,height:y.height()-v-g.bottom-s.getTotalHeight()-b-x,x:g.left,y:v+b},M=e.settings.getMapBackground()||"none";p.append("rect").attr("class","basemap").attr("height",w.height).attr("width",w.width).attr("fill",M),p.append("g").attr("id","basemap").attr("height",w.height).attr("width",w.width),!0===e.settings.getBasemapLayer()&&p.select("#basemap").append("g").attr("id","replaceThisGroup"),p.attr("clip-path","url(#cp)"),p.append("defs").append("clipPath").attr("id","cp").append("rect").attr("height",w.height).attr("width",w.width),p.attr("transform","translate("+w.x+", "+w.y+")").attr("width",w.width).attr("height",w.height);var Y=e.getLayers(),k=[];Y.forEach((function(t){var e=t.getOutputType(),n=t.getKey().toString(),r=[];if(e.indexOf("shapes")>=0||e.indexOf("circles")>=0){var o=p.append("g").attr("id",e+"-"+n);(i=a.parsePaths(t,u,w)).overlay.isSVG()&&(i.overlay.children().forEach((function(t){o.append(t.attr("transform","translate("+i.globalShift.x+", "+i.globalShift.y+")"));var e=t.attr("id");e&&r.push(e)})),a.setClipPath(o,r,w),k.push(o.clone()),o.remove())}else if("markers"===e||"labels"===e){var i,s=(i=a.parsePaths(t,u,w)).overlay.select("g").attr("id");o=p.append("g").attr("id",e+"-"+n),i.overlay.isSVG()&&(i.overlay.attr("height",w.height).attr("width",w.width),s&&(r.push(s),i.overlay.attr("id",s),o.append(i.overlay).attr("transform","translate("+i.globalShift.x+", "+i.globalShift.y+")"))),a.setClipPath(o,r,w),k.push(o.clone()),o.remove()}})),k.reverse().forEach((function(t){p.append(t)}));var S=t.select(".scale-wrapper").clone();if(S.children().count()>0){var C=t.select(".scale-wrapper").getBBox(),D=p.append("g").attr("class","scale"),L=c.page.background;"transparent"!==L&&"none"!==L||(L="#FFFFFF"),D.append("rect").attr("fill",L).attr("rx",c.borderRadius).attr("ry",c.borderRadius).attr("width",C.width+h).attr("height",C.height+h),S.children().forEach((function(t){t.attr("font-size",c.fontSizes.small).attr("fill",c.fontColors.faded).attr("font-family",c.fontFamilies.regular),D.append(t)}))}c.parse.pixels(c.page.border);var T=t.select(".leaflet-control-attribution"),F=T.height(),O=(T.width(),e.settings.getBasemapLayer()),A="",P=0;O&&(A="© OpenStreetMap contributors");var _=p.append("g").attr("class","attribution"),I=d.select(".map-header").append("g").attr("fill","rgb(136, 136, 136)").attr("font-size",c.fontSizes.small).attr("font-family",c.fontFamilies.regular).attr("color",c.fontColors.faded);n.setTextRows(I,A);var R=I.clone().selectAll("text");O&&(P=F+g.bottom+m);var z=_.append("rect").attr("height",P).attr("fill","white").attr("opacity",.85),B=0,E=s.getBoundaries().height;E>0&&(B=h),_.attr("transform","translate(0, "+(w.height-F-E+B)+")");var j=_.append("g");D&&D.node()&&D.attr("transform","translate("+m+", "+(w.height-C.height-s.getTotalHeight()-F-h-m)+")");var G=0;R.forEach((function(t){t.attr("fill",c.fontColors.faded).attr("font-size",c.fontSizes.small).attr("font-family",c.fontFamilies.regular).attr("color",c.fontColors.faded),j.append(t);var e=I.select("text").getBBox();t.attr("transform","translate("+m+", "+(e.height+G)+")"),G+=e.height})),I.remove();var V=i.AppUtils.calculateBoundaries(d.parent(),j.clone());z.attr("width",V.width+m),l=(new XMLSerializer).serializeToString(f.node());var U=(0,o.default)().getTiles(y.select(".leaflet-container").node());return{overlay:a.fixXML(l),basemap:e.style.getTileServerProps(),labels:e.settings.getBasemapLabels(),height:w.height,width:w.width,bounds:u.getBounds(),tileshift:U.tileshift,tiles:U.tiles,node:f}},parsePos:function(t){var n=e.style,r={x:0,y:0};if(!t||!t.node())return r;var o=t.style("left"),i=t.style("top"),a=t.attr("style");if(o&&(r.x+=n.parse.pixels(o)),i&&(r.y+=n.parse.pixels(i)),"string"==typeof a){var s=a.match(/transform\:\s?translate(?:3d)?\((.*?),\s?(.*?)\)/);s&&s.length&&("string"==typeof s[1]&&(parseInt(s[1])?r.x+=parseInt(s[1]):r.x+=n.parse.pixels(s[1])),"string"==typeof s[2]&&(parseInt(s[2])?r.y+=parseInt(s[2]):r.y+=n.parse.pixels(s[2])))}return r},cleanString:function(t){if("string"!=typeof t)return"";for(var e="",n=0;n<t.length;n++)t.charCodeAt(n)<=127&&(e+=t.charAt(n));return e},createThumbnail:function(s,l,u){var c=!1,g=((0,r.default)(),i.AppLibraries.get("elements")),d=n.getParentElement("map"),f=function(t){c||(c=!0,clearTimeout(p),u("string"==typeof t?t:null))},p=setTimeout((function(){window.console&&window.console.error("Creating thumbnail takes too much time. Skipping..."),f()}),5e3),h=(0,o.default)().getTilesContainer(d.select(".leaflet-container").node()),m=h?h.style.transform:"",y=a.parseTranslate(m),v=(0,o.default)().parseScale(m),b=d.select(".leaflet-pane"),x=a.parsePos(b),w=[];g().transform(h).children("img").each((function(t){w.push({url:t.attr("src"),pos:a.parsePos(t)})})),e.getHooks().getTiles(w,(function(n){var r=e.settings.getBasemapLayer(),o=a.exportSVG(s,l);if(r){var i=o.node.select(".map-svg-wrapper").append("g"),u=i.append("g");i.attr("transform","translate("+x.x+", "+x.y+")"),u.attr("transform","translate("+y.x+", "+y.y+") scale("+v+")");var c=o.node.select(".map-svg-wrapper").select(".basemap");i.insertBefore(c),c.remove(),n.forEach((function(t,e){"string"==typeof t.image&&t.image.length>100&&u.append("image").attr("href","data:image/png;base64,"+t.image).attr("transform","translate("+t.pos.x+","+t.pos.y+")").attr("width",256).attr("height",256)}))}!function(e){var n=(new XMLSerializer).serializeToString(e.node()),r=a.cleanString(n),o=new Image;o.src="data:image/svg+xml;base64,"+btoa(r),o.onload=function(e){var n=d.width(),r=d.height(),i=g().create("canvas"),a=n>=600||r>=600?.5:1,s=i.raw[0][0].getContext("2d");i.attr("width",n*a),i.attr("height",r*a),s.drawImage(o,0,0,n*a,r*a),s.save();var l=i.raw[0][0].toDataURL("image/png");t.select(".svg-wrapper").append("g").attr("class","map-svg-wrapper"),f(l)}}(o=o.node)}))}};return a};var r=i(n(7)),o=i(n(78));function i(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={getTilesContainer:function(t){var e=t.querySelectorAll(".leaflet-tile-container"),n=Array.prototype.slice.call(e).sort((function(t,e){return e.childElementCount-t.childElementCount}));return!!n.length&&n[0]},getTiles:function(e){var n={tiles:"",tileshift:""},r=null;window.hasOwnProperty("L")&&window.L.hasOwnProperty("version")&&(r=window.L.version);var o=[];if(r&&e&&e.classList.contains("leaflet-container")){var i=t.getTilesContainer(e);if(i){i.querySelectorAll("img").forEach((function(e){if(e.getAttribute("src")){var n=e.getAttribute("src").match(/z=([0-9]+)&x=([0-9]+)&y=([0-9]+)/);if("0.7.7"!==r&&n){var i=t.parseTranslate(e.style.transform),a=[n[1],n[2],n[3],i.x,i.y].join(",");o.push(a)}else if("0.7.7"===r&&n){var s=parseFloat(e.style.left.replace("px","")),l=parseFloat(e.style.top.replace("px",""));a=[n[1],n[2],n[3],s,l].join(","),o.push(a)}}})),n.tiles=o.join("|");var a=e.querySelector(".leaflet-map-pane").style.transform,s=t.parseTranslate(a),l=t.parseScale(i.style.transform);if("0.7.7"!==r){var u=i.style.transform,c=t.parseTranslate(u);c.hasOwnProperty("x")&&c.hasOwnProperty("y")&&s.hasOwnProperty("x")&&s.hasOwnProperty("y")&&(n.tileshift=[[s.x,s.y].join(","),[c.x,c.y,l].join(",")].join("|"))}else"0.7.7"===r&&s.hasOwnProperty("x")&&s.hasOwnProperty("y")&&(n.tileshift=[[0,0].join(","),[s.x,s.y,l].join(",")].join("|"))}else console.error("No tile container has been found")}else console.error("No Leaflet container has been found");return n},parseScale:function(t){if("string"!=typeof t)return 1;var e=t.match(/scale\(\s?(-?\d+.?\d*)(px)?\s?\)/);return e&&e[1]?parseFloat(e[1]):1},parseTranslate:function(t){if("string"!=typeof t)return{x:0,y:0};var e=t.match(/translate(3d)?\(\s?(-?\d+.?\d*)(px)?\s?,\s?(-?\d+.?\d*)(px)?/);return e?{x:e[2]?parseFloat(e[2]):0,y:e[4]?parseFloat(e[4]):0}:{x:0,y:0}}};return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Header=void 0;var r=n(80),o=n(81),i=n(82),a=n(83);e.Header=function(t,e,n,s){var l,u,c,g,d,f,p,h,m={enter:function(){d=e.append("g").attr("class","title"),f=e.append("g").attr("class","description"),p=e.append("g").attr("class","legend"),h=e.parent().parent().append("div").attr("class","controls"),l=(0,r.Title)(t,d,n,s),u=(0,o.Description)(t,f,n,s),c=(0,i.Legend)(t,p,n,s),g=(0,a.Controls)(t,h,n,s),l.enter(),u.enter(),c.enter(),g.enter()},update:function(t){var e=n.style,r=s.getMarginsAsInt(),o=(e.getMagicMarginSmall(),e.getMagicMarginRegular());l.update(),u.update(),c.update(),g.update();var i=r.top;!1===l.isEmpty()&&(d.attr("transform","translate("+r.left+", "+i+")"),i+=l.getBoundaries().height+o),!1===u.isEmpty()&&(f.attr("transform","translate("+r.left+", "+i+")"),i+=u.getBoundaries().height+o),!1===c.isEmpty()&&(p.attr("transform","translate("+r.left+", "+i+")"),i+=c.getBoundaries().height+o),!1===g.isEmpty()&&h.style("position","absolute").style("top",i+"px").style("left",r.left+"px")},getBoundaries:function(t){var n=e.getBBox();return t&&n[t]?n[t]:n},getTotalHeight:function(){n.style.getMagicMarginSmall();var t=m.getBoundaries(),e=g.getBoundaries().height;return t.height+e},isEmpty:function(){return 0===e.children().count()}};return m}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Title=function(t,e,n,r){var o,i={enter:function(){o=e.append("g").attr("class","title-group")},update:function(){var t=n.style;o.attr("font-size",t.fontSizes.large),o.attr("font-family",t.fontFamilies.emphasized),o.attr("font-weight",t.fontWeights.emphasized),o.attr("font-style",t.fontStyles.emphasized),o.attr("fill",t.fontColors.emphasized);var e=n.settings.getTitle();e&&e.length?r.setTextRows(o,e):o.children().forEach((function(t){t.remove()}));var a=i.getBoundaries(),s=0;o.children().forEach((function(t){t.attr("transform","translate(0, "+s+")"),s+=1.1*t.getBBox().height})),o.attr("transform","translate(0, "+a.height+")")},getBoundaries:function(t){var e=o.getBBox();return t&&e[t]?e[t]:e},isEmpty:function(){return 0===o.children().count()}};return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Description=function(t,e,n,r){var o,i={enter:function(){o=e.append("g").attr("class","description-group")},update:function(){var t=n.style;o.attr("font-size",t.fontSizes.regular),o.attr("fill",t.fontColors.regular),o.attr("font-family",t.fontFamilies.regular),o.attr("font-weight",t.fontWeights.regular),o.attr("font-style",t.fontStyles.regular);var e=n.settings.getDescription();e&&e.length?r.setTextRows(o,e):o.children().forEach((function(t){t.remove()}));var a=i.getBoundaries(),s=0;o.children().forEach((function(t){t.attr("transform","translate(0, "+s+")"),s+=1.1*t.getBBox().height})),o.attr("transform","translate(0, "+a.height+")")},getBoundaries:function(t){var e=o.getBBox();return t&&e[t]?e[t]:e},isEmpty:function(){return 0===o.children().count()}};return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Legend=function(t,e,n,r){return{enter:function(){},update:function(){for(var o=n.style.getMagicMarginRegular(),i=[],a=n.getLayers(),s=n.getCustomLegendItems(),l={items:[],getKey:function(){return(new Date).getTime()}},u=0;u<s.length;u++)l.items.push(s[u]);l.items.length&&i.push(l);var c=0;a.forEach((function(t){if("labels"!==t.getOutputType()){var e=t.getSheet().getColumn("category");if(e&&!e.isTypeMeta("noLegend")){var n=t.getItems();c+=n.length,n.length>0&&i.push(t)}}})),e.merge({items:i,key:function(t){return t.getKey()+"-"+c},sort:!0,append:"g",enter:function(e,o,i){t.attach("MapLegendGroup",e,{item:o,utils:{dataFactory:n,mapUtilities:r}})},exit:function(e){t.detach(e),e.remove()}});var g=0;e.children().forEach((function(t){t.attr("transform","translate(0, "+g+")"),g+=t.getBBox().height+o}))},getBoundaries:function(t){var n=e.getBBox();return t&&n[t]?n[t]:n},isEmpty:function(){return 0===e.children().count()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Controls=function(t,e,n,r){var o,i,a={enter:function(){o=e.append("div").style("display","inline-block"),i=e.append("div").style("display","inline-block")},update:function(){var s=n.style,l=s.getMagicMarginSmall();s.parse.pixels(s.page.border),e.style("font-size",s.fontSizes.controls).style("width","auto");var u={search:[],options:[]};n.getLayers().forEach((function(t){var e=t.getSheet().getColumns("search"),n=t.getSheet().getColumns("dropdown");e.length>0&&0===u.search.length&&u.search.push(t),n.length>0&&0===u.options.length&&u.options.push(t)})),o.merge({items:u.search,key:function(t){return t.getKey()},sort:!0,append:"div",enter:function(e,r){t.attach("MapSearch",e,n),e.style("margin-right",l+"px").style("margin-bottom",l+"px")},exit:function(e){t.detach(e),e.remove()},update:function(t,e){}}),i.merge({items:u.options,key:function(t){return t.getKey()},sort:!0,append:"div",enter:function(e,o){e.attr("class","map-options"),t.attach("MapOptions",e,{dataFactory:n,mapUtilities:r})},exit:function(e){t.detach(e),e.remove()},update:function(t,e){}}),u.options.length&&i.select("div").children().forEach((function(t){t.style("margin-right",l+"px"),t.style("margin-bottom",l+"px")})),a.isEmpty()?e.style("display","none"):e.style("display","block")},getBoundaries:function(t){n.style;var r={width:e.width(),height:e.height()+5};return a.isEmpty()&&(r.height=0),t&&r[t]?r[t]:r},getMaxHeight:function(){var t=[];return e.children().forEach((function(e){t.push(e.height())})),Math.max.apply(Math,t)},isEmpty:function(){var t=0;return e.children().forEach((function(e){t+=e.children().count()})),0===t}};return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Footer=function(t,e,n,r){var o,i,a,s,l={enter:function(){s=e.append("g"),o=s.append("a").attr("target","_blank").append("text").attr("class","source"),i=s.append("a").attr("target","_blank").append("text").attr("class","by"),a=s.append("a").attr("target","_blank").append("text").attr("class","lf")},update:function(){var s=r.getMarginsAsInt(),l=n.style,u=r.getParentElement("map"),c=t.AppUtils.isValidUrl(n.settings.getSourceUrl());c&&o.parent().attr("href",c);var g=t.AppUtils.isValidUrl(l.credits.byLink);g&&g.length&&i.parent().attr("href",g);var d=l.credits,f=d.settings,p=n.settings.getSource(),h="",m=[];"string"==typeof p&&p.length>0&&"string"==typeof d.sourceLabel?h=d.sourceLabel.replace("{{source}}",p):m.push("source"),"string"==typeof d.byLabel&&d.byLabel.length<=0&&m.push("by"),"string"==typeof d.lfLabel&&d.lfLabel.length<=0&&m.push("lf"),o.text(h).attr("fill",l.fontColors.faded).attr("font-size",l.fontSizes.small).attr("font-family",l.fontFamilies.regular).attr("font-weight",l.fontWeights.regular),i.text(d.byLabel).attr("fill",l.fontColors.faded).attr("font-size",l.fontSizes.small).attr("font-family",l.fontFamilies.regular).attr("font-weight",l.fontWeights.regular),a.parent().attr("href",d.lfLink),a.text(d.lfLabel).attr("fill",l.fontColors.faded).attr("font-size",l.fontSizes.small).attr("font-family",l.fontFamilies.regular).attr("font-weight",l.fontWeights.regular),e.attr("fill",l.fontColors.faded);var y=!1,v={left:0,right:0,y:0};for(var b in f)if(f.hasOwnProperty(b)&&-1==m.indexOf(b)){u.width();var x=e.select("."+b),w=x.getBBox();"left"===f[b]?(!1===y&&v.y>0&&(v.left+=s.left,y=!0),x.attr("transform","translate("+v.left+","+v.y+")"),v.left+=w.width+l.getMagicMarginSmall()):(x.attr("transform","translate("+(u.width()-w.width-s.right-s.left)+" "+v.y+")"),v.right+=w.width+s.right)}var M=u.height()-s.bottom;e.attr("transform","translate("+s.left+", "+M+")")},getBoundaries:function(t){var n=e.getBBox();return t&&n[t]?n[t]:n},getTotalHeight:function(){n.style.getMagicMarginSmall();var t=l.getBoundaries();return t?t.height:0},isEmpty:function(){return 0===element.children().count()}};return l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:3,sass:"MapPopupRoot",create:function(t,e,n){var r=e.append("svg"),o=e.append("div").attr("class","popup-content-wrapper"),i=o.append("div").attr("class","content"),a=o.append("div").attr("class","media");r.attr("class","MapPopup-close").append("g").append("path").attr("d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),r.on("click",(function(){n.dataFactory.settings.setTempStorage("popup",null),t.digest()}));var s=e.parent().parent().select(".map"),l=n.row,u=function(){var t=n.dataFactory.style.getMagicMarginRegular(),r=s.height()-t,o=i.height()+a.height()+2*t;o<200?o=200:o+=t,o>=r&&(o=r),e.style("height",o+"px")};t.watch((function(){var o,c=n.dataFactory.style.getMagicMarginSmall(),g=s.width();o=g<=550?.9*g:g<=700?.5*g:.45*g;var d=s.node().offsetTop+c,f=n.dataFactory.style.page.background;"none"!==f&&"transparent"!==f||(f="#FFFFFF"),e.style("width",o+"px").style("top",d+"px").style("left",s.node().offsetLeft+c+"px").style("background-color",f).style("color",n.dataFactory.style.fontColors.regular).style("border",n.dataFactory.style.controls.menu.border).style("border-radius",n.dataFactory.style.borderRadius).style("font-family",n.dataFactory.style.fontFamilies.regular).style("font-size",n.dataFactory.style.fontSizes.regular).style("font-weight",n.dataFactory.style.fontWeights.regular),r.style("fill",n.dataFactory.style.fontColors.regular),i.merge({items:[l],key:function(t){return t.getKey()},append:"div",enter:function(t,e){},update:function(t,e){t.html("").append(e.getPopupContent()).selectAll("img").on("load",(function(){u()}))},exit:function(t){t.remove()}}),e.selectAll("b, strong").each((function(t){t.style("font-weight",n.dataFactory.style.fontWeights.emphasized).style("font-family",n.dataFactory.style.fontFamilies.emphasized)}));var p=[];l.getCells().forEach((function(t){t.parentColumn().isType("media")&&t.getValue().length&&p.push(t)})),a.merge({items:p,key:function(t){var e=t.getYoutubeId()?t.getYoutubeId():"image";return t.getKey()+"-"+e},append:"div",sort:!0,enter:function(e,r){e.attr("class","media-wrapper");var o=r.getYoutubeId();e.append("img"),o&&e.append("div").attr("class","MapPopup-play"),e.on("click",(function(){n.dataFactory.settings.setTempStorage("active-popup-media",r),t.digest()})),e.select("img").on("load",(function(){u()}))},update:function(e,n){var r=n.getYoutubeId(),o=e.select("img");if(r)o.attr("src","https://img.youtube.com/vi/"+r+"/hqdefault.jpg"),e.select(".MapPopup-play");else{var i=t.AppUtils.isValidUrl(n.getValue());i?o.attr("src",i):o.attr("src","")}},exit:function(t){t.remove()}}),u()}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:3,sass:"MapPopupOverlay",create:function(t,e,n){var r=n.dataFactory.style,o=e.append("div").attr("class","backdrop"),i=e.append("svg");i.attr("class","MapOverlay-close").append("g").append("path").attr("d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),o.on("click",(function(){n.dataFactory.settings.setTempStorage("active-popup-media",null),t.digest()})),i.on("click",(function(){n.dataFactory.settings.setTempStorage("active-popup-media",null),t.digest()})),e.parent().parent().select(".map"),n.cell.getYoutubeId()?e.append("div").attr("class","media-item").append("iframe"):e.append("div").attr("class","media-image media-item"),t.watch((function(){var a=r.page.background;"none"!==a&&"transparent"!==a||(a="#FFFFFF"),o.style("background-color",a),i.attr("fill",r.fontColors.regular);var s=n.cell.getYoutubeId();if(s)e.select("iframe").attr("src","https://www.youtube.com/embed/"+s+"/");else{var l=t.AppUtils.isValidUrl(n.cell.getValue());l?e.select(".media-image").style("background-image",'url("'+l+'")'):e.select(".media-image").style("background-image","")}}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:5,sass:"MapLayer",create:function(t,e,n){var r=n.dataFactory,o=a(r,e,t);o.enter(),t.watch((function(){o.update()}))}}};var r=n(0),o=n(88),i=function(t){var e={};return{digest:function(n){for(var r={entered:[]},o=[],i=0,a=n.length;i<a;i++){var s=n[i],l=t.key(s);if(o.push(l),!e.hasOwnProperty(l)){var u=t.append(s);e[l]=u,t.enter(u),u.getMapFeature&&r.entered.push(u.getMapFeature())}}for(var l in"function"==typeof t.afterEnter&&t.afterEnter(r.entered),e)e.hasOwnProperty(l)&&(-1===o.indexOf(l)?(t.exit(e[l]),delete e[l]):t.update(e[l]))}}},a=function(t,e,n){var a,s,l,u=n.AppLibraries.get("elements"),c={},g=i({key:function(t){var e=t.settings.getMarkerCluster()?17:0;return t.getKey()+e},sort:!0,append:function(t){return function(t,e,n){var o,a,s,l,u=n.AppLibraries.get("elements"),c={},g=i({key:function(t){return t.getKey()},sort:!0,append:function(t){return t},enter:function(t){t.enter(e.getLeafletMap(),n.AppLibraries.get("elements"),a,l)},afterEnter:function(t){if(a.addLayers)a.addLayers(t);else for(var e=0,n=t.length;e<n;e++)t[e].addTo(a)},exit:function(t){t.exit(e.getLeafletMap(),n.AppLibraries.get("elements"),a),t.getMapFeature().removeFrom(a)},update:function(t){t.update(e.getLeafletMap(),n.AppLibraries.get("elements"),a)}});return{enter:function(){l=t.getPaneKey(),(o=u().transform(e.getLeafletMap().createPane(l))).classed("leaflet-"+t.getKey()+"-pane",!0);var i=t.settingsClusters,c=t.parentDataFactory().style,g=t.getOutputType();s||(s=u().transform(e.getLeafletMap()._container)),"markers"===g&&t.settings.getMarkerCluster()?((a=L.markerClusterGroup({clusterPane:l,removeOutsideVisibleBounds:!0,spiderfyOnMaxZoom:!0,disableClusteringAtZoom:17,showCoverageOnHover:!1,animateAddingMarkers:!0,iconCreateFunction:function(o){var a=i.getIcon(),s=i.getSize(),l=(i.getLabelSize(),o.getChildCount().toString()),g=u().create("div"),d=g.append("svg").attr("class","cluster-icon").append("g"),f=(0,r.Icon)(d,t,!0),p=f.update(null,s,a);d.parent().attr("width",p.width).attr("height",p.height);var h=n.AppUtils.isDarkColor(f.getFill())?"#FFFFFF":"#000000",m=d.append("g").append("text").text(l).attr("fill",h).attr("font-size",Math.min(s/l.length,14)).attr("font-family",c.fontFamilies.regular),y=e.getContainer().parent().parent().parent(),v=m.clone(),b=n.AppUtils.calculateBoundaries(y,v);m.attr("transform","translate("+(p.width/2-b.width/2)+", "+(p.height/2+b.height/3)+")");var x=.5*p.width,w=.5*p.height;return L.divIcon({html:g.html(),className:"cluster",iconAnchor:[x,w],iconSize:L.point(a.content.height*p.scale,a.content.width*p.scale)})}})).on("spiderfied",(function(t){var e=t.cluster;e.hasOwnProperty("_icon")&&(e._icon.style.pointerEvents="none",e._icon.querySelectorAll("g").forEach((function(t){t.style.pointerEvents="none"})))})),a.on("unspiderfied",(function(t){var e=t.cluster;e.hasOwnProperty("_icon")&&(e._icon.style.pointerEvents="",e._icon.querySelectorAll("g").forEach((function(t){t.style.pointerEvents=""})))})),a._getExpandedVisibleBounds=function(){return a._map.getBounds()}):a=L.featureGroup({})},exit:function(){a.removeFrom(e.getLeafletMap()),o.remove()},update:function(){var e=t.settingsClusters;"markers"===t.getOutputType()&&t.settings.getMarkerCluster()&&function(t){for(var e,n,r=!1,o=0,i=t.length;o<i;o++){var a=t[o];e=a[0],n=a[1],c.hasOwnProperty(e)&&c[e]===n||(c[e]=n,0)||(r=!0)}return r}([["fill",e.getFill()],["iconJson",e.getIcon()],["markerSize",e.getSize()],["labelSize",e.getLabelSize()],["strokeColor",e.getStrokeColor()],["dashArray",e.getDashArray()],["strokeWidth",e.getStrokeWidth()]])&&a.refreshClusters(),o.style("zIndex",600+t.getOrder(!0)),g.digest(t.getItems())},getLeafletLayerGroup:function(){return a},getLeafletPane:function(){return o}}}(t,p,n)},enter:function(t){t.enter(),t.getLeafletLayerGroup().addTo(a)},exit:function(t){t.exit()},update:function(t){t.update()}}),d=function(t,e){return!(c.hasOwnProperty(t)&&c[t]===e||(c[t]=e,0))},f=null,p={enter:function(){var r=t.settings,i=L.GridLayer.prototype._initTile;L.GridLayer.include({_initTile:function(t){i.call(this,t);var e=this.getTileSize();t.style.width=e.x+.6+"px",t.style.height=e.y+.6+"px"}}),(a=L.map(e.node(),{boxZoom:!1,scrollWheelZoom:!1,dragging:!L.Browser.mobile,touchZoom:!0,tap:!1,keyboard:!1,attributionControl:!1,zoomSnap:.1})).setView([r.getLat(),r.getLng()],r.getZoom()),a.invalidateSize(),n.listen("map-set-view",(function(t){a.setView([t.lat,t.lng],t.zoom),(0,o.Bling)(a,t)})),L.control.attribution({position:"bottomleft"}).addTo(a);var c=t.settings.getMaxZoom();s=L.tileLayer("",{maxZoom:c,attribution:'<a href="https://www.openstreetmap.org/" target="_blank">© OpenStreetMap contributors</a>'}).addTo(a),a.on("zoomend",(function(){t.settings.setZoom(this.getZoom())})),a.on("moveend",(function(){var e=this.getCenter();t.settings.setLat(e.lat),t.settings.setLng(e.lng)})),a.on("click",(function(t){var e={event:t,map:a};n.broadcast("map-click",e)})),a.on("mousemove",(function(t){var e={event:t,map:a};n.broadcast("map-mouse-move",e)})),a.on("tooltipopen",(function(e){var n=u().transform(e.tooltip._container);n.style("font-weight",t.style.fontWeights.regular),n.selectAll("b, strong").each((function(e){e.style("font-weight",t.style.fontWeights.emphasized).style("font-family",t.style.fontFamilies.emphasized)}))})),e.on("touchstart",(function(t){1===t.touches.length&&e.parent().select(".touch-warning").style("display","block")})).on("touchend",(function(){e.parent().select(".touch-warning").style("display","none")})),e.selectAll(".leaflet-bottom.leaflet-right").select("a").style("display","none"),e.style("position","absolute").style("z-index","98"),l=u().transform(a._container)},update:function(){var r=e.select(".leaflet-control-attribution"),o=(e.parent(),t.style),i=(t.style.getTileServerProps(),t.settings.getBasemapLayer()),c='<a href="https://www.openstreetmap.org/" target="_blank">© OpenStreetMap contributors</a>';i?a.attributionControl.addAttribution(c):a.attributionControl.removeAttribution(c),r.select("a").attr("target","_blank");var p=null,h=function(){var e=t.style.getTileServerProps(),r=t.user.getLocale();"default"===r&&(r="en");var o=L.Browser.retina?"2":"1",i=t.getHooks().getMapServer()+"/tile.png?z={z}&x={x}&y={y}&scale="+o+"&lang="+r,a="";for(var s in e)e.hasOwnProperty(s)&&e[s]&&e[s].length>0&&(e[s].indexOf("#")>=0?n.AppUtils.isValidColor(e[s])&&(a+="&"+s+"="+encodeURIComponent(e[s])):a+="&"+s+"="+encodeURIComponent(e[s]));return i+a}(),m=t.settings.getMaxZoom(),y=t.settings.getMinZoom(),v=!0;m===y&&(v=!1),e.select(".leaflet-control-attribution").style("font-size",o.fontSizes.small).style("font-family",o.fontFamilies.regular).style("font-weight",o.fontWeights.regular).style("color",o.fontColors.faded).style("background",o.page.background).style("padding","0 5px").selectAll("a").style("color",o.fontColors.faded),a.options.maxZoom=m,a.options.minZoom=y,a.zoomControl.setPosition("bottomright");var b=e.select(".leaflet-control-attribution").height(),x=u().transform(a.zoomControl.getContainer());x.style("margin-bottom",b+5+"px"),m===y?v&&(x.style("display","none"),v=!1):!1===v&&(x.style("display","block"),v=!0);var w=t.settings.getMapBackground();(p=n.AppUtils.isValidColor(w))&&"none"!==p&&"transparent"!==p||(p=n.AppUtils.isValidColor(o.page.background)),p&&"none"!==p&&"transparent"!==p||(p="#FFFFFF"),l.style("background-color",p),i?d("map-url",h)&&(d("map-url",h),s.setUrl(h,!1)):""!==h&&(s.setUrl("",!1),d("map-url","")),n.listen("get-map",(function(t){t(a)})),n.listen("fly-to",(function(t){a.flyToBounds(t,{maxZoom:15,padding:[50,50]})})),g.digest(t.getLayers());var M=function(){try{var t=e.parent().select(".scale-wrapper"),n=0;if(t.node()){var r=t.getBBox();r&&"number"==typeof r.height&&(n=36+r.height)}return{paddingTopLeft:L.point(10,10),paddingBottomRight:L.point(10,n)}}catch(t){return{paddingTopLeft:L.point(10,10),paddingBottomRight:L.point(10,10)}}};if(t.settings.getFitBounds()&&function(){for(var e=t.getLayers(),n=0;n<e.length;n++)if(!e[n].geo.isLoaded())return!1;return!0}()){var Y=null;t.getLayers().filter((function(t){return"sheet"===t.getInputType()&&("shapes-ordinal"===t.getOutputType()||"shapes-linear"===t.getOutputType())})).forEach((function(t){t.getItems().forEach((function(t){var e=t.getBounds();null===Y?Y=e:Y.extend(e)}))})),null!==Y&&(null===f?(f=Y,a.fitBounds(Y,M())):f.equals(Y)||(f=Y,a.fitBounds(Y,M())))}a.invalidateSize()},exit:function(){},getLeafletMap:function(){return a},getContainer:function(){return e}};return p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bling=function(t,e){var n=0,r=L.circleMarker([e.lat,e.lng],{radius:15,color:"#333",fillColor:"#333",fillOpacity:.5,weight:3}).addTo(t),o=window.setInterval((function(){var e=++n%2==0?15:30;n<=4&&r.setRadius(e),n>6&&(r.removeFrom(t),clearInterval(o))}),500);return{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:2,sass:"MapTouchWarning",create:function(t,e,n){e.style("z-index","200").style("display","none").style("pointer-events","none").style("position","absolute").style("top","50%").style("transform","translate(0, -50%)").style("text-align","center").style("left","0").style("right","0");var r=n.dataFactory.style,o=e.append("span").style("background-color","rgba(255,255,255, 0.5)").style("padding","0.5em"),i=(o.append("span").html('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" style="display: inline-block; height: 1em; width: 1em" viewBox="0 0 24 24"><path d="M19,15.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V7A1,1 0 0,1 13,6A1,1 0 0,1 14,7V12L18.15,13.84C18.66,14.07 19,14.58 19,15.14M13,3A4,4 0 0,1 17,7C17,8.5 16.2,9.77 15,10.46V9.24C15.61,8.69 16,7.89 16,7A3,3 0 0,0 13,4C11.65,4 10.5,4.9 10.13,6.13C8.9,6.5 8,7.65 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9C7,7.38 7.97,6 9.35,5.35C10,3.97 11.38,3 13,3M13,1A6,6 0 0,1 19,7C19,9.06 17.96,10.88 16.38,11.96L15.26,11.46C16.89,10.64 18,8.95 18,7A5,5 0 0,0 13,2C11.11,2 9.46,3.05 8.61,4.61C7.05,5.46 6,7.11 6,9C6,11.05 7.23,12.81 9,13.58V14.66C6.67,13.83 5,11.61 5,9C5,6.83 6.15,4.93 7.88,3.88C8.93,2.15 10.83,1 13,1Z" /></svg>'),o.append("span").text("Scroll met twee vingers"));t.watch((function(){i.style("font-weight",r.fontWeights.regular),r.locals.hasOwnProperty("touchWarning")&&i.text(r.locals.touchWarning)}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{create:function(t,e,n){var r=o(),i=n.utils.dataFactory,a=n.utils.mapUtilities;t.watch((function(){var o=i.style.getMagicMarginRegular(),s=i.style.getMagicMarginSmall(),l=[];if(i.style,n.item.hasOwnProperty("items"))var u=r.getCustomItems(n.item.items);else u=r.getSingleItems(n.item);u.forEach((function(t,e){t.getCell().getValue().length>0&&l.push(t)})),e.merge({items:l,key:function(t){return t.getKey()},sort:!0,append:"g",enter:function(e,r,o){t.attach("MapLegendItem",e,{item:r,utils:n.utils})},exit:function(e){t.detach(e),e.remove()}});var c=a.getParentElement("map"),g={x:0,y:0,latest:0};e.children().forEach((function(t){var e=t.getBBox();g.x+e.width<=c.width()-o||(g.y+=g.latest,g.x=0),t.attr("transform","translate("+g.x+", "+g.y+")"),g.x+=e.width+o,g.latest=e.height+s}))}))}}};var r=function(t,e){return{getParent:function(){return t},getCell:function(){return e},getKey:function(){var t=e.parentRow(),n=t.parentSheet().parentLayer();return e.getKey()+"-"+t.getKey()+"-"+n.getKey()},getLayer:function(){return e.parentRow().parentSheet().parentLayer()}}},o=function(t){var e={getSingleItems:function(t){var n=[];return t.getSheet().getColumns().forEach((function(t){t.isType("category")&&t.getActiveUniqueCells().forEach((function(t){var o=r(e,t);n.push(o)}))})),n},getCustomItems:function(t){var n=[];return t.forEach((function(t){t.getSheet().getColumns().forEach((function(t){t.isType("category")&&t.getActiveUniqueCells().forEach((function(t){var o=r(e,t);n.push(o)}))}))})),n}};return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{create:function(t,e,n){var o=n.utils.dataFactory,i=n.utils.mapUtilities,a=n.item,s=o.style,l=(a.getKey().toString(),a.getCell().getValue()),u=a.getLayer(),c=(0,r.Icon)(e,u),g=[4,-2],d=e.append("g").attr("class","unfold-icon-label"),f=d.append("g");"markers"!==u.getOutputType()&&"legendItem"!==u.getOutputType()&&"circles"!==u.getOutputType()||(g=[11,0]),f.attr("transform","translate("+g[0]+", "+g[1]+")"),t.watch((function(){var t=1.4*s.parse.pixels(s.fontSizes.regular);"shapes-ordinal"===u.getOutputType()&&(t=1.2*s.parse.pixels(s.fontSizes.regular)),l=a.getCell().getValue(),c.update(a.getCell(),t),i.setTextRows(f,l,t);var n=0;f.children().forEach((function(t,e){var r=t.getBBox();0!==e&&t.attr("transform","translate(0, "+n+")"),n+=r.height}));var r=e.select("g.unfold-icon"),o=d.getBBox(),g=r.getBBox(),p=.5/d.select("g").children().count();d.attr("transform","translate("+g.width+", "+(o.height*p+.5*g.height)+")"),d.select("g").style("fill",s.fontColors.regular).style("font-weight",s.fontWeights.regular).style("font-size",s.fontSizes.regular)}))}}};var r=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{sass:"MapOptions",create:function(t,e,n){var r=n.dataFactory;e.style("display","inline-block"),t.watch((function(){var o=[];r.getLayers().forEach((function(t,e){t.getSheet().getColumns("dropdown").forEach((function(t){o.push(t)}))})),e.merge({sort:!0,items:o,key:function(t){return t.getKey()+"-"+t.parentSheet().parentLayer().getKey()},append:"div",enter:function(e,r,o){e.style("display","inline-block"),t.attach("MapOptionsDropdown",e,{col:r,utils:n})},exit:function(e){t.detach(e),e.remove()}});var i=r.style,a=e.selectAll("button"),s=e.selectAll("li.options-item");a.forEach((function(t){t.style("border",i.controls.button.border),t.style("border-radius",i.borderRadius),t.style("background",i.controls.button.background),t.style("color",i.controls.button.text),t.style("font-weight",i.fontWeights.regular)})),s.forEach((function(t){t.style("background",i.controls.menu.background),t.style("color",i.controls.menu.text),t.style("font-family",i.fontFamilies.regular),t.style("font-weight",i.fontWeights.regular)}))}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{sass:"MapSearch",create:function(t,e,n){var o=n.style,i=(0,r.Search)(t,n),a=[],s=e.append("input").attr("type","text");s.on("input",(function(){t.localDigest()}));var l=e.append("div").attr("class","search-dropdown"),u=e.parent().parent().parent().select(".map"),c=u.parent().append("span").attr("class","placeholder-test");s.on("blur",(function(e){s.value(""),t.localDigest()})),t.watch((function(){var e=o.getMagicMarginRegular();a=[];var r,g=s.value();"string"==typeof g&&g.length>1&&(a=i.getItems(g)),r=a.length?"block":"none",l.style("display",r),l.merge({items:a,key:function(t){return t.getKey()},append:"span",enter:function(e,n){t.attach("MapSearchItem",e,n)},exit:function(e){t.detach(e),e.remove()}}),s.style("border-radius",o.borderRadius).style("border",o.controls.input.border).style("background",o.controls.input.background).style("color",o.controls.input.text).style("font-family",o.fontFamilies.regular).style("font-size",o.fontSizes.controls).style("font-weight",o.fontWeights.regular),l.style("background",o.controls.menu.background).style("border",o.controls.menu.border).style("color",o.controls.menu.text).style("width","250px").style("font-weight",o.fontWeights.regular);var d=o.getPageMargins(),f=o.parse.pixels(d.left),p=o.parse.pixels(d.right),h=u.width()-f-p;h<250&&l.style("width",h+"px");var m="Search",y=n.settings.getSearchLabel();"string"==typeof y&&y.length&&(m=y),s.attr("placeholder",m),c.style("font-family",o.fontFamilies.regular).style("font-size",o.fontSizes.controls);var v=c.text(m).width()+1.2*e,b=Math.max(185,v);b>h&&(b=h),s.style("width",b+"px")})),s.on("keyup",(function(e){if(13===e.keyCode&&l.children().count()){var n=l.children().get(0).node(),r="ontouchstart"in document.documentElement?"touchstart":"mousedown";n.dispatchEvent(new Event(r)),s.value(""),t.localDigest()}}))}}};var r=n(94)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Search=function(t,e){var n={getItems:function(r){var o={};(function(){var t=[];return e.getLayers().forEach((function(e){var n=e.getSheet(),r=n.getColumns("search");n.getActiveRows().forEach((function(e){r.forEach((function(n){var r=e.getCell(n);t.push(r)}))}))})),t})().forEach((function(e){var i=e.getValue();t.AppUtils.searchString(i,r)&&(o.hasOwnProperty(i)||(o[i]=function(t,e,n){var r=[],o={getKey:function(){return n},addCell:function(t){r.push(t)},getMapItem:function(t){return t.parentSheet().parentLayer().getItem(t)},getCell:function(t){return r[t]},getBounds:function(){var t=[];return r.forEach((function(e){var n=e.parentRow(),r=o.getMapItem(n).getBounds();t.push(r)})),t},isSingle:function(){return 1===r.length},getParent:function(){return e}};return o}(0,n,i)),o[i].addCell(e))}));var i=[];for(var a in o)o.hasOwnProperty(a)&&i.push(o[a]);return i},getDataFactory:function(){return e}};return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{create:function(t,e,n){var r=n.getParent().getDataFactory(),o=r.style;e.text(n.getKey()),document.documentElement,e.on("mousedown",(function(e){if(n.isSingle()){var o=n.getCell(0).parentRow(),i=o.parentSheet().parentLayer(),a=n.getMapItem(o).getMedia(),s=i.settings.getPopup();(a.length||s.length)&&(r.settings.setTempStorage("popup",o),t.digest())}var l=n.getBounds();t.broadcast("fly-to",l)})),e.on("mouseover",(function(){this.style("background",o.controls.menu.backgroundHover)})).on("mouseleave",(function(){this.style("background",o.controls.menu.background)}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{create:function(t,e,n){var r=n.utils.dataFactory,o=n.utils.mapUtilities,i=n.col,a=r.style,s=e.append("button").attr("class","dropdown-button"),l=o.getMarginsAsInt();s.style("display","inline-block").style("padding",".45em 1.5em .45em .5em").style("z-index","99").style("position","relative").attr("class","dropdown-button").style("cursor","pointer");var u=s.append("span").style("margin-right","5px").attr("class","dropdown-span"),c=s.append("i").attr("class","arrow left").style("position","absolute").style("top","42.5%").style("display","inline-block").style("transform","rotate(45deg) translate(0, -50%)").style("-webkit-transform","rotate(45deg) translate(0, -50%)").style("border","solid black"),g=e.append("ul").attr("class","options-list").style("display","none").style("position","absolute").style("z-index","99").style("max-height","150px").style("overflow","auto").style("padding","0").style("margin","0").style("white-space","nowrap").style("width","auto"),d=!1,f=function e(r){var o=[];r?(c.style("transform","rotate(-135deg) translate(-50%, 25%)").style("-webkit-transform","rotate(-135deg) translate(-50%, 25%)"),i.getUniqueCells().forEach((function(t){t.getValue().length>0&&o.push(t)}))):c.style("transform","rotate(45deg) translate(0, -50%)").style("-webkit-transform","rotate(45deg) translate(0, -50%)"),g.style("z-index",9999).style("display",o.length?null:"none"),g.merge({items:o,sort:!0,key:function(t){return t.parentRow().getKey()},append:"li",enter:function(e,r,o){e.attr("class","options-item"),e.style("list-style-type","none"),e.style("cursor","pointer"),t.attach("MapOptionsListItem",e,{cell:r,utils:n.utils})},update:function(t,n,r){var o=n.parentColumn().isTypeMeta("single");t.children().forEach((function(t){t.on("click",(function(){o&&e(d=!d)}))})),t.on("click",(function(){o&&e(d=!d)}))},exit:function(e){t.detach(e),e.remove()}})};s.on("click",(function(){f(d=!d)})),t.listen("global-click",(function(t){for(var e=t.target.node(),n=!1,r=0;r<s.children().count();r++){var o=s.children().get(r);if(o.node()===e||s.node()===e||o.select("path").node()===e){n=!0;break}}for(r=0;r<g.children().count();r++){var i=g.children().get(r);if(i.node()===e||i.select("input").node()===e||i.select("span").node()===e||i.select("svg").node()===e||i.select("g").node()===e||i.select("path").node()===e){n=!0;break}}!1===n&&(d=!1),f(d)})),t.watch((function(){if(i.isTypeMeta("single")){var e=[];i.getUniqueCells().forEach((function(t){t.getIndex().getActive()&&e.push(t)})),1===e.length?u.text(t.AppUtils.trim(e[0].getValue())):u.text(t.AppUtils.trim(i.getLabel()))}else u.text(t.AppUtils.trim(i.getLabel()));s.style("font-family",a.fontFamilies.regular).style("font-size",a.fontSizes.controls).style("background",a.controls.button.background).style("color",a.controls.button.text).style("border-radius",a.borderRadius).style("font-weight",a.fontWeights.regular),g.style("width","250px").style("margin-top","3px");var n=a.parse.pixels(a.fontSizes.controls),r=a.controls.button.text;c.style("border-width","0 "+n/6+"px "+n/6+"px 0").style("padding",n/5+"px").style("border-color",r);var d=o.getParentElement("map").width()-l.left-l.right-s.node().offsetLeft;d<=250&&g.style("width",d+"px"),g.style("background-color",a.controls.menu.background).style("color",a.controls.menu.text).style("border",a.controls.menu.border).style("border-radius",a.borderRadius)}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{create:function(t,e,n){var o=t.AppLibraries.get("elements"),i=n.utils.dataFactory,a=(n.utils.mapUtilities,null),s=i.style,l=n.cell,u=(l.getIndex().getActive(),o().create("svg","svg")),c=u.append("g"),g=l.parentSheet().parentLayer();g&&(a=(0,r.Icon)(c,g,!1));var d=l.parentColumn().getTypes().indexOf("category")>=0;e.style("padding","6px 12px");var f="10px";d&&(f="4px");var p=e.append("input").attr("class","options-input").style("margin-right",f);e.on("mouseover",(function(){this.style("background",s.controls.menu.backgroundHover)})).on("mouseleave",(function(){this.style("background",s.controls.menu.background)})),p.on("focus",(function(){e.style("background",s.controls.menu.backgroundHover)})).on("blur",(function(){e.style("background",s.controls.menu.background)})),d&&e.append(u),e.append("span").attr("class","options-text"),t.watch((function(){e.style("font-size",s.fontSizes.regular).style("font-family",s.fontFamilies.regular).style("font-weight",s.fontWeights.regular);var t=18;if("shapes-ordinal"===g.getOutputType()&&(t=14),d){var n=a.update(l.parentRow().getCell("category"),t);u.attr("width",n.width).attr("height",n.height).style("position","relative").style("top",".255em").style("margin-right","2px").style("display","inline-block")}"shapes-ordinal"===g.getOutputType()&&u.style("margin","0 5px"),l.parentColumn().isTypeMeta("single")?p.attr("type","radio"):p.attr("type","checkbox");var r=l.getIndex().getActive();e.select("span").text(l.getValue()),r?p.checked(!0):p.checked(!1)})),e.on("click",(function(){var e=l.getIndex().getActive();l.getIndex().setActive(!e),t.digest()}))}}};var r=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{sass:"MapScale",create:function(t,e,n){var r=n.dataFactory,o=r.style;e.attr("class","scale-wrapper");var i=o.getMagicMarginRegular(),a=o.getMagicMarginSmall(),s=2*i,l=e.parent();t.watch((function(){var t=20,n=.75*l.width()-i;n<300&&(t=15);for(var u=0,c=r.getLayers(),g=[],d=0,f=c.length;d<f;d++){var p=c[d];"shapes-linear"===p.getOutputType()&&g.push(p)}var h=g.length?"block":"none";e.style("display",h),e.merge({items:g,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.append("text").attr("class","unit"),t.append("g").attr("class","buckets")},exit:function(t,e){t.remove()},update:function(e,r,l){var c=r.scale,g=e.select(".unit"),d=e.select(".buckets");e.attr("fill",o.fontColors.faded).attr("font-size",o.fontSizes.small).attr("font-family",o.fontFamilies.regular).attr("font-weight",o.fontWeights.regular),g.text(c.getUnit());var f=c.getBuckets();d.merge({items:f,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.append("rect"),t.append("g").attr("class","from"),t.append("g").attr("class","to")},exit:function(t,e){t.remove()},update:function(t,e){var n=t.select("rect"),r=t.select(".from"),o=t.select(".to"),i=e.getParent().getPrefix(),a=e.getParent().getSuffix();n.attr("fill",e.getColor());var s=[];r.merge({items:["from"],key:function(t){return t+"|"+e.getFrom()},append:"text",enter:function(t){e.valueWithinDomainLeft()&&t.text(i+e.getFromAsString()+a)},exit:function(t){t.remove()},update:function(t){e.valueWithinDomainLeft()?t.text(i+e.getFromAsString()+a):t.text("")}}),e.isLast()&&s.push("to"),o.merge({items:s,key:function(t){return t+"|"+e.getTo()},append:"text",enter:function(t){e.valueWithinDomainRight()&&t.text(i+e.getToAsString()+a)},exit:function(t){t.remove()},update:function(t){e.valueWithinDomainRight()?t.text(i+e.getToAsString()+a):t.text("")}})}});var p=[s];d.children().forEach((function(t,e){var n=i;n+=t.select(".from").getBBox().width/2,n+=t.select(".to").getBBox().width/2;var r=t.parent().selectAll(".from").get(e+1);r&&r.node()&&(n+=r.getBBox().width/2),p.push(n)}));var h=Math.max.apply(null,p),m=h*f.length+.5*h,y=!1;n<=m&&(h=.5*n/f.length,y=!0),d.children().forEach((function(e,n){var r=e.select("rect"),o=e.select(".from"),i=e.select(".to");r.attr("width",h).attr("height",t).attr("transform","translate("+h*n+", 0)");var a=o.getBBox(),s=h*n-a.width/2;if(o.attr("transform","translate("+s+", "+(t+a.height)+")"),!0===y&&0!==n&&o.select("text").text(""),i&&1===i.children().count()){var l=i.getBBox(),u=h*n+(h-l.width/2);i.attr("transform","translate("+u+", "+(t+l.height)+")")}}));var v=g.getBBox();d.attr("transform","translate(0, "+a+")");var b=.5*d.select(".from").getBBox().width+a,x=v.height+.5*a+u;e.attr("transform","translate("+b+", "+x+")"),u+=e.getBBox().height+a}});var m=l.select(".leaflet-control-attribution"),y=e.getBBox(),v=m.height(),b=l.height()-y.height-v-i;e.attr("width",y.width+i).attr("height",y.height+i).style("transform","translate("+a+"px, "+(b-a)+"px)").style("-webkit-transform","translate("+a+"px, "+(b-a)+"px)");var x=o.page.background;"transparent"!==x&&"none"!==x||(x="#FFFFFF"),e.style("background-color",x)}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{create:function(t,e,n){var r=n.dataFactory.style,o=r.getMagicMarginRegular(),i=r.getMagicMarginSmall(),a=n.layer.scale,s=e.append("text").attr("class","unit-text"),l=e.append("g").attr("class","buckets");t.watch((function(){s.text(a.getUnit());var t=a.getBuckets();l.merge({items:t,key:function(t){return t.getKey()},append:"g",enter:function(t,e,r){n.dataFactory,n.bucket,t.append("rect"),t.append("g").attr("class","from-value").append("text"),t.append("g").attr("class","to-value")},update:function(t,e,n){t.select("rect").attr("fill",e.getColor());var r=[],o=e.getParent().getPrefix(),i=e.getParent().getSuffix();e.valueWithinDomainLeft()?t.select(".from-value text").text(o+e.getFromAsString()+i):t.select(".from-value text").text(""),e.isLast()&&e.valueWithinDomainRight()&&r.push("a"),t.select(".to-value").merge({items:r,key:function(t){return t},append:"text",enter:function(t){t.text(o+e.getToAsString()+i)},update:function(t){t.text(o+e.getToAsString()+i)},exit:function(t){t.remove()}})},exit:function(t,e){t.remove()}}),e.attr("fill",r.fontColors.faded).attr("font-size",r.fontSizes.small).attr("font-family",r.fontFamilies.regular).attr("font-weight",r.fontWeights.regular);var u=[];l.children().each((function(t,e){var n=0;n+=t.select(".from-value").getBBox().width/2;var r=t.parent().selectAll(".from-value").get(e+1);r&&r.count()&&(n+=r.getBBox().width/2),n+=t.select(".to-value").getBBox().width/2,u.push(n+i)}));var c=!1,g=Math.max.apply(null,u);g=Math.max(g,35);var d=.75*e.parent().parent().width()-2*o;d<=g*t.length+g/2&&(g=(d-g/2)/t.length,c=!0),l.children().each((function(t,e){var n=t.select("rect"),r=t.select(".from-value"),o=t.select(".to-value");!0===c&&0!==e&&r.select("text").text("");var i=g*e;n.attr("width",g).attr("height",20),n.attr("transform","translate("+i+", 0)");var a=20+r.getBBox().height;r.attr("transform","translate("+(i-r.getBBox().width/2)+", "+a+")"),0!==o.children().count()&&(a=20+o.getBBox().height,o.attr("transform","translate("+(i+g-o.getBBox().width/2)+", "+a+")"))}));var f=s.getBBox();s.attr("transform","translate(0, "+f.height/2+")"),l.attr("transform","translate(0, "+f.height+")")}))}}}}])},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=function(t,e){var n=null,r=null,o=[{getKey:function(){return"line"}},{getKey:function(){return"hoverline"}}],i=function(){return e.wizard3.getSettingsObject().isChartType(["column","stacked"])},a=function(t,n,r){var o=i(),a=[],s={each:function(t){for(var e=0;e<a.length;e++)t(a[e])},getCount:function(){return a.length},getItem:function(t){return a[t]}},l=!1;return t.getDomain().forEach((function(i,u){var c=!1,g=e.wizard3.queryRecord(r,i).parseNumber(),d=t.calculate(i,o),f=n.calculate(g);l||"number"!=typeof g||(l=!0,c=!0),a.push(function(t,e,n,r,o,i){var a={isDefined:function(){return"number"==typeof o},isFirst:function(){return 0===e},isFirstDefined:function(){return i},isLast:function(){return e===t.getCount()-1},getX:function(){return n},getY:function(){return r},getPrevious:function(){return a.isFirst()?(console.error("cannot get previous of first"),null):t.getItem(e-1)},getNext:function(){return a.isLast()?(console.error("cannot get next of last"),null):t.getItem(e+1)}};return a}(s,u,d,f,g,c))})),s},s=function(s){var l=n.getAxis(),u=e.wizard3.getSettingsObject();s.merge({items:o,key:function(t){return t.getKey()},append:"path",sort:!0,enter:function(o,a){o.attr({class:a.getKey(),fill:"none"}).style("transition","d 0.5s"),"hoverline"===a.getKey()&&o.on("mousemove",(function(a){var s=e.style.get("svg.settings.box"),u=o.parent("svg").node().getBoundingClientRect(),c=a.clientX-s["margin-left"]-u.left,g=null,d=1e9,f=null,p=null,h=null;r.getDomain().forEach((function(t){var o=null,a=r.calculate(t,i()),s=Math.abs(c-a);s<d&&(o=e.wizard3.queryRecord(n,t),d=s,g=t,p=l.calculate(o.parseNumber()),f=a,h=o)})),t.broadcast("tooltip",{record:h,legendItem:n,haxisItem:g,top:p,left:f,dot:!0})})).on("mouseleave",(function(e){t.broadcast("tooltip",null)}))},exit:function(t){t.remove()},update:function(t,o,i){"line"===o.getKey()&&(t.style(e.style.get("lineGraph.style.lines")),t.style("stroke-dasharray",n.isDashedLine()?"5, 5":"none")),"hoverline"===o.getKey()&&t.style({cursor:"auto","stroke-width":"30","stroke-dasharray":"none",opacity:"0",stroke:"#FFFFFF"});var s="",c=a(r,l,n);u.getContinueLines()?c.each((function(t){var e;(e=t.isFirstDefined()?"M":t.isDefined()?"L":null)&&(s+=e+t.getX()+","+t.getY())})):c.each((function(t){var e;!t.isDefined()||!t.isFirst()&&t.getPrevious().isDefined()||!t.isLast()&&t.getNext().isDefined()?e=t.isDefined()&&(t.isFirst()||t.getPrevious().isDefined())?t.isFirst()?"M":"L":"M":(e=null,s+="M"+(t.getX()-5)+","+t.getY()+"L"+(t.getX()+5)+","+t.getY()),e&&(s+=e+t.getX()+","+t.getY())})),t.attr({d:s,stroke:n.getColor()})}})},l={setItem:function(t){return n=t,l},getItem:function(){return n},setHaxis:function(t){return r=t,l},getHaxis:function(){return axis},render:function(t){s(t)}};return l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipHoverForBars=function(t){return function(e){t.selectAll("g.group").forEach((function(t){t.selectAll("rect").forEach((function(n){e?e.haxisItem.getKey()===t.getMergeKey()&&e.legendItem.getKey()===n.getMergeKey()?n.style("opacity",1):n.style("opacity",.2):n.style("opacity",null)}))}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipHoverForLegends=function(t){return function(e){t.selectAll(".tooltipelement").forEach((function(t){e&&e.legendItem?e.legendItem.getKey()===t.getMergeKey()?t.style("opacity",1):t.style("opacity",.2):t.style("opacity",null)}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipHoverForLines=function(t){return function(e){t.selectAll(".tooltipelement").forEach((function(t){var n=t.select(".line");e&&e.legendItem?e.legendItem.getKey()===t.getMergeKey()?n.style("opacity",1):n.style("opacity",.2):n.style("opacity",null)}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e,n,r){t.selectAll("text").remove(),r||(r={});for(var o=t.append("text").attr({x:-1e3,y:-1e3}).style(r),i=[],a=e.split(" "),s=[],l=function(){i.push(s),s=[]},u=0;u<a.length;u++){if(s.length)var c=s.join(" ")+" "+a[u];else c=a[u];o.text(c),u>0&&t.getBBox().width>=n&&l(),s.push(a[u])}for(l(),t.selectAll("text").remove(),u=0;u<i.length;u++){var g=i[u];t.append("text").style(r).text(g.join(" "))}t.selectAll("text:first-child").attr({dy:"1em",x:0}),t.selectAll("text:not(:first-child)").forEach((function(t,e){t.attr({dy:1+1.4*(e+1)+"em",x:0})}))};e.UnfoldElements=function(){var t=window,e=document;function n(t){return void 0===t}function i(t){return"string"==typeof t}function a(t){return"number"==typeof t}function s(t){return t&&"object"===(void 0===t?"undefined":r(t))}function l(e){var r,c,g={raw:[(r=e,c=[],e=t.Array.isArray(r)?0===r.length?[]:1===r.length?[r[0]]:(r.forEach((function(t){-1===c.indexOf(t)&&c.push(t)})),c):(t.console.warn("New element should be an array but got ",r),[]))],insertBefore:function(t){return t.parent().node().insertBefore(this.node(),t.node()),g},append:function(n){for(var r=[],o=e.length-1;o>=0;o--){var a,s=e[o];i(n)&&(g.isSVG()||"svg"===n)?a=u.create(n,"svg").node():i(n)?a=u.create(n).node():(g.count()>1&&t.console.warn("appending one element to multiple elements"),a=n.node()),s.appendChild(a),r.push(a)}return new l(r)},remove:function(){return g.each((function(t,e){t.parent().node().removeChild(t.node())})),g},value:function(t){if(n(t))return(o=g.node())?o.value:void 0;for(var r=e.length-1;r>=0;r--){var o;(o=e[r]).value=t}return g},classed:function(t,r){var o=function(t){var e=[],n=g.attr("class");return i(n)&&(e=n.split(" ")),e};if(n(r))return(s=g.node())?-1!==o().indexOf(t):null;for(var a=e.length-1;a>=0;a--){var s=e[a],l=o(),u=l.indexOf(t);r?-1===u&&l.push(t):u>-1&&l.splice(u,1),s.setAttribute("class",l.join(" "))}return g},style:function(t,r){if(s(t)){for(var o in t)t.hasOwnProperty(o)&&g.style(o,t[o]);return g}if(n(r))return(a=g.node())?a.style[t]:null;for(var i=e.length-1;i>=0;i--){var a=e[i];null===r?a.style[t]="":a.style[t]!==r&&(a.style[t]=r)}return g},attr:function(t,r){if(s(t)){for(var o in t)t.hasOwnProperty(o)&&g.attr(o,t[o]);return g}if(n(r))return(l=g.node())?l.getAttribute(t):null;for(var i=g.isSVG(),a=e.length-1;a>=0;a--){var l=e[a];i?null===r?l.hasAttribute(t)&&l.removeAttributeNS(null,t):l.getAttribute(t)!==r&&l.setAttributeNS(null,t,r):null===r?l.hasAttribute(t)&&l.removeAttribute(t):l.getAttribute(t)!==r&&l.setAttribute(t,r)}return g},checked:function(t){if(n(t))return(o=g.node())?!!o.checked:null;for(var r=e.length-1;r>=0;r--){var o;return(o=e[r]).checked=t,g}},height:function(t){if(n(t)){var r=g.node();return r?r.offsetHeight:null}if(a(t)){for(var o=e.length-1;o>=0;o--)e[o].style.offsetHeight=t+"px";return g}throw"height(num): num should be typeof number"},outerHeight:function(){var t=g.node();if(t){var e=t.offsetHeight,n=window.getComputedStyle(t);return e+(parseInt(n.marginTop)+parseInt(n.marginBottom))}return null},width:function(t){if(n(t)){var r=g.node();return r?r.offsetWidth:null}if(a(t)){for(var o=e.length-1;o>=0;o--)e[o].style.offsetWidth=t+"px";return g}throw"width(num): num should be typeof number"},outerWidth:function(){var t=g.node();if(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft)+parseInt(n.marginRight))}return null},getBBox:function(){if(g.isSVG()){if(!(t=g.node()))return null;try{return t.getBBox()}catch(e){return console.warn("Cannot use getBBox on element. Possibly hidden. ",t),{height:0,width:0,x:0,y:0}}}else{var t;if(t=g.node())return console.warn("Cannot use getBBox on non svg elements. Falling back to width and height",t),{height:g.height(),width:g.width(),x:0,y:0}}},count:function(){return e.length},size:function(){return g.count()},node:function(t){if(e.length){if(void 0===t)return e[0];if("number"==typeof t&&e[t])return e[t]}return null},get:function(t){var e=g.node(t);return e?new l([e]):null},clone:function(t){if(!t){var e=g.get();if(e){var n=null;e.isSVG()&&(n="svg"),t=u.create(e.node().tagName,n)}}if(!t)return null;for(var r=g.node().attributes,o=0,i=r.length;o<i;o++){var a=r[o];t.attr(a.nodeName,a.nodeValue)}return g.childNodes().each((function(e){var n=e.node();if(3===n.nodeType)t.node().appendChild(document.createTextNode(n.textContent));else if(1===n.nodeType){var r=t.append(n.tagName);e.clone(r)}})),t},isSVG:function(){var e=g.node();return e?e&&e instanceof t.SVGElement:null},each:function(t){for(var n=e.length,r=0;r<n;r++){var o=new l([e[r]]);t.apply(o,[o,r])}return g},forEach:function(t){return g.each(t)},select:function(t){for(var n=[],r=e.length-1;r>=0;r--){var o=e[r].querySelector(t);o&&0===n.length&&n.push(o)}return new l(n)},selectAll:function(t){for(var n=[],r=e.length-1;r>=0;r--)for(var o=e[r].querySelectorAll(t),i=0;i<o.length;i++){var a=o[i];n.push(a)}return new l(n)},children:function(){var t=[];if(g.isSVG())return g.childNodes(1);for(var n=0,r=e.length;n<r;n++)for(var o=e[n].children,i=0,a=o.length;i<a;i++){var s=o[i];t.push(s)}return new l(t)},childNodes:function(t){for(var n=[],r=0,o=e.length;r<o;r++)for(var i=e[r].childNodes,a=0,s=i.length;a<s;a++){var u=i[a];"number"==typeof t?u.nodeType===t&&n.push(u):n.push(u)}return new l(n)},parent:function(t){for(var n=[],r=e.length-1;r>=0;r--){var o=e[r].parentNode;if("string"==typeof t){for(;o.nodeName!==t&&o.parentNode;)o=o.parentNode;o.nodeName===t&&n.push(o)}else o&&n.push(o)}return new l(n)},text:function(t){if(n(t))return(o=g.node())?o.textContent:null;for(var r=e.length-1;r>=0;r--){var o;(o=e[r]).textContent!==t&&(o.textContent=t)}return g},wrapText:function(t,n,r){for(var i=e.length-1;i>=0;i--){var a=e[i];o(new l([a]),t,n,r)}return g},html:function(t){var r=g.isSVG();if(!n(t)){for(var o=e.length-1;o>=0;o--){var i=e[o];r?console.warn("Cannot set html on svg element"):i.innerHTML=t}return g}return(i=g.node())?r?void console.warn("Cannot get html on svg element"):i.innerHTML:null},on:function(t,n){for(var r=e.length-1;r>=0;r--)e[r].addEventListener(t,(function(t){n.apply(g,[t])}));return g},data:function(t,r){if(e.forEach((function(t){t.__unfoldData__&&s(t.__unfoldData__)||(t.__unfoldData__={})})),n(r)){var o=g.node();return o?o.__unfoldData__[t]:void 0}return e.forEach((function(e){e.__unfoldData__[t]=r})),g},merge:function(t){for(var n=[],r=0,o=(w=e[0].childNodes).length;r<o;r++)if(1===(Y=w[r]).nodeType){if(!1===Y.__mergeKey__)continue;n.push(Y)}var i={},a={},s=[],l=n.length,c=t.items.length;for(r=0;r<l;r++){var d=n[r],f=d.__mergeKey__;void 0!==f?i[f]=d:(console.warn("lost item in merge",w),t.exit(d))}for(r=0;r<c;r++){var p=t.items[r],h=t.key(p);a[h]=p,s.push(h)}for(var m in i)if(i.hasOwnProperty(m)&&!a.hasOwnProperty(m)){var y=u.transform(i[m]);delete i[m],t.animate?function(e,n){e.node().__mergeKey__=!1;var r="y"===t.animateDirection?"Y":"X";e.classed("unfold-merge-animation",!0).style("transform","translate"+r+"(0px)").style("opacity","1"),window.setTimeout((function(){e.style("transform","translate"+r+"(-50px)").style("opacity","0"),window.setTimeout((function(){e.classed("unfold-merge-animation",!1),t.exit(y,n)}),250)}),10)}(y,m):t.exit(y,m)}for(var v="function"==typeof t.update,b=(r=0,s.length);r<b;r++){p=a[m=s[r]];var x=null;i.hasOwnProperty(m)?x=u.transform(i[m]):((x=g.append(t.append)).node().__mergeKey__=m,t.enter(x,p),i[m]=x.node(),t.animate&&function(e){var n="y"===t.animateDirection?"Y":"X";e.classed("unfold-merge-animation",!0).style("transform","translate"+n+"(-50px)").style("opacity","0"),window.setTimeout((function(){e.style("transform","translate"+n+"(0px)").style("opacity","1"),window.setTimeout((function(){e.classed("unfold-merge-animation",!1)}),250)}),10)}(x)),v&&t.update(x,p,r)}if(!0===t.sort){var w,M=!1;for(r=0,o=(w=e[0].childNodes).length;r<o;r++){var Y;if(1===(Y=w[r]).nodeType&&Y.__mergeKey__!==s[r]){M=!0;break}}if(M)for(r=0,b=s.length;r<b;r++)i.hasOwnProperty(s[r])&&(x=u.transform(i[s[r]]),g.append(x))}return g},getMergeKey:function(){var t=g.node();return t?t.__mergeKey__:null}};return g}var u={create:function(t,n){if("svg"===n){var r=new l([e.createElementNS("http://www.w3.org/2000/svg",t)]);return"svg"===t&&(r.node().setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),r.node().setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.attr("version","1.1")),r}return new l([e.createElement(t)])},transform:function(t){if(i(t)){for(var n=[],r=e.querySelectorAll(t),o=0;o<r.length;o++)n.push(r[o]);return new l(n)}return new l([t])}};return u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diff=e.subtract=e.startOfRaw=e.startOf=e.labelToMoment=e.parseOutputInFormat=e.getFormatOutputByKey=e.getFormatByKey=e.Stretch=void 0;var r=n(21),o=n(22),i=n(23),a=n(24),s=n(26),l=n(27),u=n(28),c={formats:[r.StretchFormatYear,o.StretchFormatYearMonth,i.StretchFormatMonthYear,a.StretchFormatDayMonthYear,a.StretchFormatMonthDayYear,a.StretchFormatYearMonthDay,s.StretchFormatWeek,l.StretchFormatQuarter,u.StretchFormatMonthDayYearHourMinute,u.StretchFormatDayMonthYearHourMinute]},g=function(t){for(var e=0;e<c.formats.length;e++){var n=c.formats[e];if(n.key===t)return n}return null},d=function(t,e,n,r){for(var o=null,i=null,a=null,s=0;s<t.output.length;s++){var l=t.output[s];null===l.key&&(o=l),l.key===n&&(i=l)}i||(i=o),a=i.hasOwnProperty(e)?i[e]:i.en;var u=[];if(a.split("&").forEach((function(t){u.push({key:t.split("=")[0],value:t.split("=")[1]})})),!0===r)return u;if("string"==typeof r)for(s=0;s<u.length;s++){var c=u[s];if(c.key===r)return c.value}return u[u.length-1].value},f={nl:"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.",en:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec",de:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.",it:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic",cs:"led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro",es:"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.",pl:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru",pt:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez",ro:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.",gr:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ",hu:"jan._feb._márc._ápr._máj._jún._júl._aug._szept._okt._nov._dec."},p={nl:function(t){return 1===t||8===t||t>=20?"ste":"de"},en:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},de:function(t){return"."},it:function(t){return"º"},cs:function(t){return"."},es:function(t){return"º"},pl:function(t){return"."},pt:function(t){return"º"},ro:function(t){return""},gr:function(t){return"η"},hu:function(t){return"."}},h={default:function(t){return t>=12?"pm":"am"},gr:function(t){return t>=12?"μμ":"πμ"},hu:function(t){return t>=12?"du":"de"}};function m(t){(t=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))).setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),n=Math.ceil(((t-e)/864e5+1)/7);return[t.getUTCFullYear(),n]}function y(t,e){var n=new Date(Date.UTC(e,0,1+7*(t-1))),r=n.getUTCDay(),o=n;return r<=4?o.setUTCDate(n.getUTCDate()-n.getUTCDay()+1):o.setUTCDate(n.getUTCDate()+8-n.getUTCDay()),o}var v=[["YYYY",function(t,e){return t.getUTCFullYear().toString()}],["YY",function(t,e){return t.getUTCFullYear().toString().slice(-2)}],["MMM",function(t,e){return f[e].split("_")[t.getUTCMonth()]}],["MM",function(t,e){var n=(t.getUTCMonth()+1).toString();return 1===n.length?"0"+n:n}],["DD",function(t,e){var n=t.getUTCDate().toString();return 1===n.length?"0"+n:n}],["Do",function(t,e){var n=t.getUTCDate(),r=p[e](n);return n.toString()+r}],["H:",function(t,e){return t.getUTCHours().toString()+":"}],["h:",function(t,e){var n=t.getUTCHours();return(n=(n%=12)||12).toString()+":"}],["00 a",function(t,e){var n=t.getUTCHours(),r=h.default;return h.hasOwnProperty(e)&&(r=h[e]),"00 "+r(n)}],["mm a",function(t,e){var n=t.getUTCHours(),r=h.default;return h.hasOwnProperty(e)&&(r=h[e]),"mm "+r(n)}],[":mm",function(t,e){var n=t.getUTCMinutes().toString();return 1===n.length?":0"+n:":"+n}],["GGGG",function(t,e){return m(t)[0]}],["GG",function(t,e){return m(t)[0].toString().slice(-2)}],[" W ",function(t,e){return" "+m(t)[1]+" "}],["Q ",function(t,e){return(Math.floor(t.getUTCMonth()/3)+1).toString()+" "}],["[']",function(t,e){return"'"}],["[de ']",function(t,e){return"de '"}],["[de]",function(t,e){return"de"}],["[week]",function(t,e){return"week"}],["[Q]",function(t,e){return"Q"}]],b=function(t,e,n){var r=new Date(1e3*parseInt(t,10));return v.forEach((function(t){if(-1!==n.indexOf(t[0])){var o=t[0],i=t[1](r,e);n=n.replace(o,i)}})),n},x=function(t){var e=parseInt(t,10);return e>68?parseInt("19"+e.toString(),10):parseInt("20"+e.toString(),10)},w=function(t){return parseInt(t,10)},M=function(t){return 3*parseInt(t,10)-2-1},Y=function(t){return parseInt(t,10)-1},k=function(t){return parseInt(t,10)},S=function(t){return parseInt(t,10)},C=function(t){return parseInt(t,10)},D={YYYY:function(t){return[w(t[1])]},YY:function(t){return[x(t[1])]},"M-YYYY":function(t){return[w(t[2]),Y(t[1])]},"M-YY":function(t){return[x(t[2]),Y(t[1])]},"MMM YYYY":function(t){return[w(t[2]),Y(t[1])]},"MMM YY":function(t){return[x(t[2]),Y(t[1])]},"MMM-YYYY":function(t){return[w(t[2]),Y(t[1])]},"MMM-YY":function(t){return[x(t[2]),Y(t[1])]},"YYYY-M":function(t){return[w(t[1]),Y(t[2])]},"YY-M":function(t){return[x(t[1]),Y(t[2])]},"YYYY MMM":function(t){return[w(t[1]),Y(t[2])]},"YY MMM":function(t){return[x(t[1]),Y(t[2])]},"YYYY-MMM":function(t){return[w(t[1]),Y(t[2])]},"YY-MMM":function(t){return[x(t[1]),Y(t[2])]},"D-M-YYYY":function(t){return[w(t[3]),Y(t[2]),k(t[1])]},"D-M-YY":function(t){return[x(t[3]),Y(t[2]),k(t[1])]},"D MMM YYYY":function(t){return[w(t[3]),Y(t[2]),k(t[1])]},"D MMM YY":function(t){return[x(t[3]),Y(t[2]),k(t[1])]},"M-D-YYYY":function(t){return[w(t[3]),Y(t[1]),k(t[2])]},"M-D-YY":function(t){return[x(t[3]),Y(t[1]),k(t[2])]},"MMM D YYYY":function(t){return[w(t[3]),Y(t[1]),k(t[2])]},"MMM D YY":function(t){return[x(t[3]),Y(t[1]),k(t[2])]},"YYYY-M-D":function(t){return[w(t[1]),Y(t[2]),k(t[3])]},"YY-M-D":function(t){return[x(t[1]),Y(t[2]),k(t[3])]},"YYYY MMM D":function(t){return[w(t[1]),Y(t[2]),k(t[3])]},"YY MMM D":function(t){return[x(t[1]),Y(t[2]),k(t[3])]},"[w]W GGGG":function(t){var e=y(t[1],t[2]);return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]},"[w]W GG":function(t){var e=y(t[1],x(t[2]));return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]},"[wk]W GGGG":function(t){var e=y(t[1],t[2]);return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]},"[wk]W GG":function(t){var e=y(t[1],x(t[2]));return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]},"Q[e kwartaal] YYYY":function(t){return[w(t[2]),M(t[1])]},"YYYY Q[e kwartaal]":function(t){return[w(t[1]),M(t[2])]},"[q]Q YYYY":function(t){return[w(t[2]),M(t[1])]},"YYYY [q]Q":function(t){return[w(t[1]),M(t[2])]},"M-D-YYYY H:m":function(t){return[w(t[3]),Y(t[1]),k(t[2]),S(t[4]),C(t[5])]},"M-D-YY H:m":function(t){return[x(t[3]),Y(t[1]),k(t[2]),S(t[4]),C(t[5])]},"MMM D YYYY H:m":function(t){return[w(t[3]),Y(t[1]),k(t[2]),S(t[4]),C(t[5])]},"MMM D YY H:m":function(t){return[x(t[3]),Y(t[1]),k(t[2]),S(t[4]),C(t[5])]},"D-M-YYYY H:m":function(t){return[w(t[3]),Y(t[2]),k(t[1]),S(t[4]),C(t[5])]},"D-M-YY H:m":function(t){return[x(t[3]),Y(t[2]),k(t[1]),S(t[4]),C(t[5])]},"D MMM YYYY H:m":function(t){return[w(t[3]),Y(t[2]),k(t[1]),S(t[4]),C(t[5])]},"D MMM YY H:m":function(t){return[x(t[3]),Y(t[2]),k(t[1]),S(t[4]),C(t[5])]}},L=function(t,e){t=t.toLowerCase();for(var n=f[e].split("_"),r=0;r<n.length;r++){var o=n[r].replace(".","");if(o=o.toLowerCase(),-1!==t.indexOf(o+"."))return t.replace(o+".",(r+1).toString());if(-1!==t.indexOf(o))return t.replace(o,(r+1).toString())}return t},T=function(t){var e=[["YYYY","([0-9]{4})"],["GGGG","([0-9]{4})"],["YY","([0-9]{2})"],["GG","([0-9]{2})"],["MMM","([0-9]{1,2})"],["M","([0-9]{1,2})"],["D","([0-9]{1,2})"],["W","([0-9]{1,2})"],["Q","([1-4])"],["H","([0-9]{1,2})"],[":m",":([0-9]{1,2})"],["[wk]","wk"],["[w]","w"],["[q]","q"],["[e kwartaal]","e kwartaal"]];t=t.split("-").join("[\\-\\/\\.]");for(var n=0;n<e.length;n++){var r=e[n];t=t.replace(r[0],r[1])}return"^"+t+"$"},F=function(t,e,n){if(!n||!n.input)return null;if("string"!=typeof e)return null;if("string"!=typeof t)return null;for(var r=n.input,o=0;o<r.length;o++){var i=r[o],a=new RegExp(T(i));-1!==i.indexOf("MMM")&&(t=L(t,e));var s=a.exec(t);if(s){var l=D[i](s);return void 0===l[1]&&(l[1]=0),void 0===l[2]&&(l[2]=1),void 0===l[3]&&(l[3]=0),void 0===l[4]&&(l[4]=0),(Date.UTC(l[0],l[1],l[2],l[3],l[4])/1e3).toString()}}return null},O=function(t,e){var n=new Date(1e3*e);if("year"===t)return Date.UTC(n.getUTCFullYear(),0,1,0,0);if("month"===t)return Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),1,0,0);if("day"===t)return Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0);if("hour"===t)return Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),0);if("minute"===t)return Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes());if("week"===t){var r=m(n);return y(r[1],r[0])}return null},A={year:31536e3,month:2678400,day:86400,hour:3600,minute:60,week:604800};e.Stretch=function(t,e){return{create:function(t){return function(t,e,n){var r=e.locale.getLocale();return{momentToLabel:function(){var t=n.getParent();if(!t.isType("period")||t.isMomentFormat("custom"))return null;var e=t.getMomentFormat(),o=t.getMomentOutputFormat(),i=g(e),a=d(i,r,o);return Date.UTC(1e3*parseInt(n.getMoment(),10)),b(n.getMoment(),r,a)},labelToMoment:function(){var t=n.getParent();if(!t.isType("period")||t.isMomentFormat("custom"))return null;var e=t.getMomentFormat(),o=g(e);return F(n.getLabel(),r,o)}}}(0,e,t)},getFormatsRaw:function(){return c.formats},getMomentOutput:function(t){var n=[],r=e.locale.getLocale(),o=null;if(!t.isType("period")||t.isMomentFormat("custom"))return n;if(t.getItems().forEach((function(t){!o&&t.isValidMoment()&&(o=t)})),o){var i=t.getMomentFormat(),a=g(i);a&&a.output&&a.output.forEach((function(t){var e=d(a,r,t.key),i=b(o.getMoment(),r,e);n.push({key:t.key,label:i})}))}return n},autoDetectMomentInput:function(t,n){var r=e.locale.getLocale(),o=[],i=t.getItems();!function t(e){for(var a=c.formats[e],s=0,l=0;l<i.length;l++){var u=i[l];null!==F(u.getLabel(),r,a)&&(s+=1)}s&&o.push({key:a.key,count:s}),setTimeout((function(){e<c.formats.length-1?t(e+1):(o.sort((function(t,e){return e.count-t.count})),n(o))}),10)}(0)}}},e.getFormatByKey=g,e.getFormatOutputByKey=d,e.parseOutputInFormat=b,e.labelToMoment=F,e.startOf=function(t,e){return O(t,e)/1e3},e.startOfRaw=O,e.subtract=function(t,e,n){var r=new Date(1e3*parseInt(n,10));if("year"===t){var o=r.getUTCFullYear();r.setUTCFullYear(parseInt(o,10)-e)}return"month"===t&&(o=r.getUTCMonth(),r.setUTCMonth(o-e)),(r/1e3).toString()},e.diff=function(t,e,n){return Math.abs(Math.ceil((parseInt(n,10)-parseInt(e,10))/A[t]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.yearMonthOutput=[{key:null,nl:"year=YYYY&month=MM-YYYY",en:"year=YYYY&month=MM/YYYY",de:"year=YYYY&month=MM.YYYY",it:"year=YYYY&month=MM/YYYY",cs:"year=YYYY&month=MM.YYYY",es:"year=YYYY&month=MM/YYYY",pl:"year=YYYY&month=MM.YYYY",pt:"year=YYYY&month=MM/YYYY",ro:"year=YYYY&month=MM.YYYY",gr:"year=YYYY&month=MM/YYYY",hu:"year=YYYY&month=YYYY.MM"},{key:"simple",nl:"year=[']YY&month=MMM [']YY",en:"year=[']YY&month=MMM [']YY",de:"year=[']YY&month=MMM [']YY",it:"year=[']YY&month=MMM [']YY",cs:"year=[']YY&month=MMM [']YY",es:"year=[']YY&month=MMM [de ']YY",pl:"year=[']YY&month=MMM [']YY",pt:"year=[']YY&month=MMM [de ']YY",ro:"year=[']YY&month=MMM [']YY",gr:"year=[']YY&month=MMM [']YY",hu:"year=[']YY&month=[']YY. MMM"},{key:"beauty",nl:"year=YYYY&month=MMM YYYY",en:"year=YYYY&month=MMM YYYY",de:"year=YYYY&month=MMM YYYY",it:"year=YYYY&month=MMM YYYY",cs:"year=YYYY&month=MMM YYYY",es:"year=YYYY&month=MMM [de] YYYY",pl:"year=YYYY&month=MMM YYYY",pt:"year=YYYY&month=MMM [de] YYYY",ro:"year=YYYY&month=MMM YYYY",gr:"year=YYYY&month=MMM YYYY",hu:"year=YYYY&month=YYYY. MMM"}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cell=function(t,e){var n=null,r={getKey:function(){return e},getQueryKey:function(){return n},setQueryKey:function(t){n=t},getValue:function(){var n=t.getParent().getSheet(),r=t.getKey()+","+e;return"string"==typeof n[r]?n[r]:""},setValue:function(e,n){"boolean"!=typeof n&&(n=!0);var o=t.getParent().getSheet(),i=t.getKey()+","+r.getKey();"string"==typeof e&&(e=e.trim()),"string"==typeof e&&e.length?o[i]=e:o.hasOwnProperty(i)&&delete o[i],n&&t.getParent().update()},getRowKey:function(){return t.getKey()},getColumnKey:function(){return e},isValueCell:function(){var n=t.getParent().getSettings();return t.getKey()>=n.row&&e>=n.col},isCornerCell:function(){var n=t.getParent().getSettings();return t.getKey()<n.row&&e<n.col},isGroupCell:function(){return!r.isValueCell()&&!r.isCornerCell()},isBorderCell:function(){return!1},isFirstCell:function(){var n=t.getParent().getSettings(),r=t.getKey();return r<n.row&&e===n.col||e<n.col&&r===n.row},parseNumber:function(){var e=t.getParent().getUtils().parseNumber(r.getValue());return"number"!=typeof e?null:e},isInBounds:function(){var n=t.getParent();return!(e>=n.countColumns()||t.getKey()>=n.countRows())},isValid:function(){var e=t.getParent().getSeperator(),n=t.getParent().getUtils().parseNumber(r.getValue(),e);if(!r.isInBounds())return!0;if(r.isValueCell()&&!1===n)return!1;if(r.isGroupCell()){var o=r.getItem();if(null===o||!o.isValidMoment())return!1}return!0},getGroup:function(){var n=t.getParent().getSettings(),r=t.getKey();return r<n.row?t.getParent().getGroup(r):t.getParent().getGroup(n.row+e)},getItem:function(){var t=r.getGroup(),e=r.getValue();if(t)for(var n=t.getItems(),o=0,i=n.length;o<i;o++){var a=n[o];if(a.getLabel()===e)return a}return null},setAnnotationPosition:function(e,n){t.getParent().setAnnotationPosition(r,e,n)},getParent:function(){return t}};return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Item=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(9);e.Item=function(t,e){var n={getKey:function(){return e.key},getParent:function(){return t},isHorizontal:function(){return t.isHorizontal()},isActive:function(){return e.active},setActive:function(t){e.active=t},isCurrent:function(){return e.current},setCurrent:function(){var e=n.getKey();t.getItems().forEach((function(t){t.getData().current=e===t.getKey()}))},getLabel:function(){return e.label},getDisplayLabel:function(t){var r=n.getParent();if("string"==typeof e.moment&&r.hasValidMoments())return n.getParent().getParent().getDataFactory().stretch.create(n).momentToLabel();var o=n.getLabel();return o.length>20&&t&&t.settings.getEnableShorten()?o.slice(0,17)+"...":o},setLabel:function(t){e.label=t,e.origin=t},updateLabel:function(t){n.getCells().forEach((function(e){e.setValue(t,!1)})),n.setLabel(t),n.getParent().getParent().update()},getOrigin:function(){return e.label},setOrigin:function(t){e.label=t,e.origin=t},getCells:function(){var t=[];return n.getParent().getCells().forEach((function(e){e.getValue()===n.getLabel()&&t.push(e)})),t},setMoment:function(t){e.moment="string"==typeof t?t:null},isValidMoment:function(){var t=n.getParent();return!t.isType("period")||!!t.isMomentFormat("custom")||"string"==typeof e.moment},getMoment:function(){return e.moment},getNaturalOrder:function(){var t=n.getCells();if(!t.length)return-1;var e=t[0];return n.isHorizontal()?e.getColumnKey():e.getRowKey()},isAxisSecondary:function(){var r;return!(!0!==e.axisSecondary||!n.isActive()||!n.getParent().isFirstGroupFromRaw()||"column"!==(r=t.getParent().getSettingsObject().getChartType())&&"line"!==r)},isLine:function(){var n;return!(!e.isLine||"column"!==(n=t.getParent().getSettingsObject().getChartType())&&"stacked"!==n)},getAxis:function(){var t=n.isAxisSecondary(),e=n.getParent().getParent().getDataFactory();return t?e.vaxisRight:e.vaxis},getColor:function(t){"number"!=typeof t&&(t=n.getActiveSiblingOrder());var i=n.getParent().getParent().getDataFactory().getStylingRaw();if("object"===(void 0===e?"undefined":r(e))&&"string"==typeof e.color&&/^\#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e.color))return e.color;if(void 0===i||void 0===i.colors||void 0===i.colors.standard)return"#FFFFFF";var a=i.colors.standard,s=t%a.length,l=Math.floor(t/a.length),u=a[s];return(0,o.LightenDarkenColor)(u,-.3*l)},hasDirectLabel:function(){return"string"==typeof n.getDirectLabel()},getDirectLabel:function(){return"left"===e.directLabel?"left":"right"===e.directLabel&&"right"},getActiveSiblingOrder:function(){for(var e=t.getActiveItems(),r=n.getKey(),o=0;o<e.length;o++)if(e[o].getKey()===r)return o;return null},getFormatAxis:function(){return e.formatAxis},getFormatTooltip:function(){return e.formatTooltip},isDashedLine:function(){return!0===e.dashedLine},getData:function(){return e}};return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightenDarkenColor=function(t,e){if(4===t.length){for(var n="#",r=1;r<t.length;r++)n+=t[r]+t[r];t=n}e<-1&&(e=-1),e>1&&(e=1);var o=parseInt(t.slice(1),16),i=e<0?0:255,a=e<0?-1*e:e,s=o>>16,l=o>>8&255,u=255&o;return"#"+(16777216+65536*(Math.round((i-s)*a)+s)+256*(Math.round((i-l)*a)+l)+(Math.round((i-u)*a)+u)).toString(16).slice(1)}},function(t,e,n){"use strict";n.r(e),n.d(e,"template",(function(){return r}));const r='\n<div lfkickstart lfnext="lfsvg"></div>\n<div lfstory lfnext="lfdescription" lfgetstory="story" lfsettings="settings" lftop="0" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<div lfinteractive lfnext="lflegend" lfdatastore="dataStore" lfconfig="config" lfsettings="settings" lftop="dimensions.lfstory.height + dimensions.lfdescription.height" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<svg lfsvg lfnext="lfstory" lfdatastore="dataStore" lfwidth="dimensions.lfwindow.width" lfheight="dimensions.lfwindow.height" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">\n\t<g class="background">\n\t\t<rect></rect>\n\t</g>\n\t<g class="container">\n\t\t<g lfdescription lfnext="lfinteractive" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height">\n\t\t\t<rect class="background"></rect>\n\t\t\t<image class="lfimage"></image>\n\t\t\t<g class="title"></g>\n\t\t\t<g class="description"></g>\n\t\t</g>\n\t\t<g lflegend lfdoubleaxis="yes" lfnext="lffooter" lfdatastore="dataStore" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height"></g>\n\t\t<g lfdomain lfnext="lfcolumnbars" lfsettings="settings" lfveraxis="vaxis" lfhoraxis="haxis" lfhrange="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" lfvrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lffooter.height - dimensions.lfvaxis.height*0.5]"></g>\n\t\t<g lfhaxis lfnext="lfvaxis" lfdatastore="dataStore" lfsettings="settings" lfaxis="haxis" lftype="bands" lforient="bottom" lfrange="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" lfheight="dimensions.lfsvg.height - dimensions.lffooter.height" lftooltip="tooltip"></g>\n\t\t<g lfvaxis lfdoubleaxis="left" lfaxissettings="scale" lfnextfirst="lfvaxisRight precalculate" lfnextsecond="lfvaxisRight" lfdatastore="dataStore" lfsettings="settings" lfaxis="vaxis" lftype="" lforient="left" lfrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lfvaxis.height*0.5 - dimensions.lffooter.height]" lfsize="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" ></g>\n\t\t<g lfvaxis lfdoubleaxis="right" lfaxissettings="scaleSecondary" lfnextfirst="lfhaxis" lfnextsecond="lfdomain" lfdatastore="dataStore" lfsettings="settings" lfaxis="vaxisRight" lftype="" lforient="right" lfrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lfvaxis.height*0.5 - dimensions.lffooter.height]" lfsize="[dimensions.lfsvg.width - dimensions.lfvaxisRight.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" ></g>\n\t\t<g lfcolumnbars lfnext="lfannotations" lfdatastore="dataStore" lfsettings="settings" lfcharttooltips="tooltip" lftype="normal" lfveraxis="vaxis" lfveraxisright="vaxisRight" lfhoraxis="haxis" lfrecordapi="recordApi"></g>\n\t\t<g lffooter lfnext="lfvaxis precalculate" lfsettings="settings" lfbottom="dimensions.lfsvg.height" lfwidth="dimensions.lfsvg.width">\n\t\t\t<g class="lfsource">\n\t\t\t\t<text class="lfsourcetext"></text>\n\t\t\t\t<a xlink:href="" target="_blank"> <text></text> </a>\n\t\t\t</g>\n\t\t\t<g class="lfcreditline">\n\t\t\t\t<text class="lfextra"></text>\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t\t<g class="lfmadeby">\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t</g>\n\t\t<g lfoverlay></g>\n\t\t<g lfannotations lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>\n\t\t<g lfcharttooltip="tooltip" lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>\n\t</g>\n</svg>\n'},function(t,e,n){"use strict";n.r(e),n.d(e,"template",(function(){return r}));const r='\n<div lfkickstart lfnext="lfsvg"></div>\n<div lfstory lfnext="lfdescription" lfgetstory="story" lfsettings="settings" lftop="0" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<div lfinteractive lfnext="lflegend" lfdatastore="dataStore" lfconfig="config" lfsettings="settings" lftop="dimensions.lfstory.height + dimensions.lfdescription.height" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<svg lfsvg lfnext="lfstory" lfdatastore="dataStore" lfwidth="dimensions.lfwindow.width" lfheight="dimensions.lfwindow.height" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">\n\t<g class="background">\n\t\t<rect></rect>\n\t</g>\n\t<g class="container">\n\t\t<g lfdescription lfnext="lfinteractive" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height">\n\t\t\t<rect class="background"></rect>\n\t\t\t<image class="lfimage"></image>\n\t\t\t<g class="title"></g>\n\t\t\t<g class="description"></g>\n\t\t</g>\n\t\t<g lflegend lfdoubleaxis="yes" lfnext="lffooter" lfdatastore="dataStore" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height"></g>\n\t\t<g lfdomain lfnext="lfcolumnbars" lfsettings="settings" lfveraxis="vaxis" lfhoraxis="haxis" lfhrange="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" lfvrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lffooter.height - dimensions.lfvaxis.height*0.5]"></g>\n\t\t\x3c!--<g lfhaxis lfnext="lfvaxis" lfdatastore="dataStore" lfsettings="settings" lfaxis="haxis" lftype="bands" lforient="bottom" lfrange="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" lfheight="dimensions.lfsvg.height - dimensions.lffooter.height" lftooltip="tooltip"></g>--\x3e\n\t\t<g lfvaxis lfdoubleaxis="left" lfaxissettings="scale" lfnextfirst="lfvaxisRight precalculate" lfnextsecond="lfvaxisRight" lfdatastore="dataStore" lfsettings="settings" lfaxis="vaxis" lftype="" lforient="left" lfrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lfvaxis.height*0.5 - dimensions.lffooter.height]" lfsize="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" ></g>\n\t\t<g lfcolumnbars lfnext="lfannotations" lfdatastore="dataStore" lfsettings="settings" lfcharttooltips="tooltip" lftype="normal" lfveraxis="vaxis" lfveraxisright="vaxisRight" lfhoraxis="haxis" lfrecordapi="recordApi"></g>\n\t\t<g lffooter lfnext="lfvaxis precalculate" lfsettings="settings" lfbottom="dimensions.lfsvg.height" lfwidth="dimensions.lfsvg.width">\n\t\t\t<g class="lfsource">\n\t\t\t\t<text class="lfsourcetext"></text>\n\t\t\t\t<a xlink:href="" target="_blank"> <text></text> </a>\n\t\t\t</g>\n\t\t\t<g class="lfcreditline">\n\t\t\t\t<text class="lfextra"></text>\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t\t<g class="lfmadeby">\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t</g>\n\t\t<g lfoverlay></g>\n\t\t\x3c!--<g lfannotations lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>--\x3e\n\t\t\x3c!--<g lfcharttooltip="tooltip" lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>--\x3e\n\t</g>\n</svg>\n\n<div class="barframecontainer">\n\t<div lfbarframe lfnext="lfhaxis" style="position: absolute;top: 0px;left: 0px;overflow-x: hidden;overflow-y: auto;" lfdatastore="dataStore" lfsettings="settings" lftop="dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height" lfwidth="dimensions.lfwindow.width" lfheight="dimensions.lfwindow.height - dimensions.lfvaxis.height - stylingService.get(\'vaxis.settings.tickPadding\') - dimensions.lffooter.height" lfveraxis="vaxis" lfhoraxis="haxis">\n\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">\n\t\t\t<g class="container">\n\t\t\t\t<g lfhaxis lfnext="lfvaxis" lfdatastore="dataStore" lfsettings="settings" lfaxis="haxis" lftype="bands" lforient="left" lfrecordapi="recordApi" lfrange="[0, dimensions.lfinnersvg.height]" lfheight="dimensions.lfinnersvg.width"></g>\n\t\t\t\t<g lfbarbars lfnext="lfannotations" lfdatastore="dataStore" lfcharttooltips="tooltip" lfveraxis="vaxis" lfhoraxis="haxis" lfrecordapi="recordApi" lfsettings="settings"></g>\n\t\t\t\t<g lfoverlay></g>\n\t\t\t\t<g lfannotations lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>\n\t\t\t\t<g lfcharttooltip="tooltip" lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfinnersvg.width"> </g>\n\t\t\t</g>\n\t\t</svg>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationBluePrint=function(t,e){t.attr("pointer-events","none");var n=e.settings&&"start"===e.settings.textAnchor?"start":"middle";if(t.select("g").size())o=(r=t.select("g")).select("path"),i=r.select("g"),a=t.select("circle");else var r,o=(r=t.append("g")).append("path"),i=r.append("g").attr({"text-anchor":n}),a=t.append("circle");i.wrapText(e.text,100,e.style.text);var s=i.node().getBBox().width,l=i.node().getBBox().height,u=e.settings,c=e.left,g=e.hRange,d=e.vRange,f=.5*s,p="bottom",h=e.top;"start"===n&&i.attr("transform","translate("+-.5*s+",0)");var m=u.margin;if("number"==typeof e.distance){var y=parseInt(e.distance,10);y>1&&(m*=y)}h-l-m-u.padding-.5*u.strokeWidth<d[0]&&(p="top"),"string"!=typeof e.position||"top"!==e.position&&"bottom"!==e.position||(p=e.position);var v=u.paddingMultiplier?u.paddingMultiplier:1,b=0;c+e.settings.padding*v+.5*s>g[1]&&(b=g[1]-.5*s-c-e.settings.padding*v),c-e.settings.padding*v-.5*s<g[0]&&(b=.5*s-c+g[0]+e.settings.padding*v),f-=b,o.attr({d:function(t,e,n,r,o){var i=o.paddingMultiplier?o.paddingMultiplier:1,a=o,s=[],l=-a.padding*i,u=t+a.padding*i,c=-1*(a.padding-1),g=e+a.padding,d=n-a.tipSize,f=n+a.tipSize;return s.push("M"+(l+a.curve)+","+c),"top"===r&&"bar"===a.tipStyle?(s.push("L"+d+","+c),s.push("L"+d+","+(c-a.tipSize)),s.push("L"+f+","+(c-a.tipSize)),s.push("L"+f+","+c)):"top"===r&&(s.push("L"+d+","+c),s.push("L"+n+","+(c-a.tipSize)),s.push("L"+f+","+c)),s.push("L"+(u-a.curve)+","+c),s.push("Q"+u+","+c+","+u+","+(c+a.curve)),s.push("L"+u+","+(g-a.curve)),s.push("Q"+u+","+g+","+(u-a.curve)+","+g),"bottom"===r&&"bar"===a.tipStyle?(s.push("L"+f+","+g),s.push("L"+f+","+(g+10*a.tipSize)),s.push("L"+d+","+(g+10*a.tipSize)),s.push("L"+d+","+g)):"bottom"===r&&(s.push("L"+f+","+g),s.push("L"+n+","+(g+a.tipSize)),s.push("L"+d+","+g)),s.push("L"+(l+a.curve)+","+g),s.push("Q"+l+","+g+","+l+","+(g-a.curve)),s.push("L"+l+","+(c+a.curve)),s.push("Q"+l+","+c+","+(l+a.curve)+","+c),s.push("Z"),s.join(" ")}(s,l,f,p,u),"stroke-width":u.strokeWidth,transform:"translate("+.5*-s+",0)"}).style(e.style.box),t.attr({transform:"translate("+c+","+h+")"}),r.attr({transform:function(){if("bottom"===p)var t=-l-m-u.padding-.5*u.strokeWidth;else t=m+u.padding+.5*u.strokeWidth;return"translate("+b+","+t+")"}()});var x=.5*-u.dotSize;return e.style.dot&&e.style.dot["stroke-width"]&&(x+=e.style.dot["stroke-width"]),a.attr({cx:0,cy:x,r:u.dotSize}).attr("opacity",u.dotSize&&e.showDot?1:0).style(e.style.dot),e.color&&u.dotBorderColor&&a.style("stroke",e.color),self}},function(t,e,n){t.exports=n(14)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var r=n(15),o=R(n(16)),i=R(n(17)),a=R(n(18)),s=R(n(40)),l=R(n(41)),u=R(n(42)),c=R(n(43)),g=R(n(44)),d=R(n(46)),f=R(n(47)),p=R(n(48)),h=R(n(50)),m=R(n(52)),y=R(n(53)),v=R(n(54)),b=R(n(55)),x=R(n(56)),w=R(n(61)),M=R(n(62)),Y=R(n(63)),k=R(n(64)),S=R(n(65)),C=R(n(66)),D=R(n(67)),L=R(n(68)),T=R(n(69)),F=R(n(70)),O=R(n(71)),A=R(n(72)),P=R(n(73)),_=R(n(74)),I=R(n(75));function R(t){return t&&t.__esModule?t:{default:t}}var z=(0,r.Unfold)();z.component("AppRoot",o.default),z.service("AppLibraries",i.default),z.service("AppDataFactory",a.default),z.service("AppUtility",s.default),z.component("ChartRoot",l.default),z.component("ChartRootColumn",u.default),z.component("ChartRootStacked",c.default),z.component("ChartRootLine",g.default),z.component("ChartRootBar",d.default),z.component("ChartRootBarstacked",f.default),z.component("ChartRootScatter",p.default),z.component("ChartRootPie",h.default),z.component("KickStart",m.default),z.component("Svg",y.default),z.component("Story",v.default),z.component("Description",b.default),z.component("Interactive",x.default),z.component("Legend",w.default),z.component("Footer",M.default),z.component("Haxis",Y.default),z.component("Vaxis",k.default),z.component("Domain",S.default),z.component("ColumnBars",C.default),z.component("ColumnStacked",D.default),z.component("BarFrame",L.default),z.component("BarBars",T.default),z.component("BarStacked",F.default),z.component("Scatter",P.default),z.component("Lines",O.default),z.component("Pie",A.default),z.component("Annotations",_.default),z.component("Tooltip",I.default);var B=z.init;e.init=B},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Unfold=void 0;var r=n(4),o=0,i=function(t,e){var n={lang:"en"},i=[],a=!1,s=!1,l=function(){for(var t=i.length-1;t>=0;t--)i[t]||i.splice(t,1);for(t=i.length-1;t>=0;t--)i[t].tempIndex=t;for(i.sort((function(t,e){var n=-1,r=-1;return t&&(n=t.services.priority()),e&&(r=e.services.priority()),n===r?t.tempIndex-e.tempIndex:r-n})),t=i.length-1;t>=0;t--)delete i[t].tempIndex},u={attach:function(e,n,r,a){var s=t[e]();s.name=e;var l=function(t,e,n,r,i){var a=[],s=null;i&&(s=i);var l=[],u=[],c=0,g={attach:function(e,r,o){"string"==typeof r&&(r=n.select(r));var i=t.attach(e,r,o,d);return a.push(i),g},detach:function(t){var e=!1;return a.forEach((function(n,r){n.services.element().node()===t.node()&&(n.destroy(),a.splice(r,1),e=!0)})),e||console.warn("trying to detach element that has no component attached",t),g},digest:function(){return t.digest(),g},broadcast:function(e,n){return t.broadcast(e,n),g},localDigest:function(){var t="digest "+o+" ("+e.name+" and children)";return o++,console.time(t),d.localDigest(),console.timeEnd(t),g},watch:function(t,e){var n=function(t,e){var n;return{digest:function(){e?(n=t(),e(n)):t(n)}}}(t,e);return l.push(n),n.digest(),g},listen:function(t,e){var n=function(t,e){return{digest:function(n,r){n===t&&e(r)}}}(t,e);return u.push(n),g},parent:function(){return s.services},keyGen:function(){return c++},merge:function(t){return n.merge({items:t.data,key:function(e){return e[t.key]},append:t.append,enter:function(e,n){g.attach(t.attach,e,n)},update:function(){},exit:function(t){g.detach(t),t.remove()}}),g},data:function(){return r},element:function(){return n},priority:function(){return"number"==typeof e.priority?e.priority:1}};t.attachServices(g);var d={digest:function(){for(var t=0,e=l.length;t<e;t++){var n=l[t];try{n.digest()}catch(t){(console.error||console.log).call(console,t.stack||t)}}},broadcast:function(t,e){for(var n=0,r=u.length;n<r;n++){var o=u[n];try{o.digest(t,e)}catch(t){(console.error||console.log).call(console,t.stack||t)}}},localDigest:function(){d.digest(),a.forEach((function(t,e){t.localDigest()}))},services:g,destroy:function(){"function"==typeof e.destroy&&e.destroy(g,n,r),a.forEach((function(t){t.destroy()})),l=[],u=[],a=[],t.detach(n)}};return e.template&&(n.html(e.template),n.selectAll("[unfold-translate]").each((function(t){var e=t.attr("unfold-translate");"text"===t.attr("type")&&"input"===t.node().tagName.toLowerCase()?t.attr("placeholder",g.EditTranslations.translate(e)):t.text(g.EditTranslations.translate(e))}))),e.sass&&n.classed(""+e.sass,!0),e.create(g,n,r),d}(u,s,n,r,a),c=Object.prototype.toString.call(r);return"[object Array]"!==c&&"[object Object]"!==c&&console.error("Data passed for new component "+e+" is not object or array. This will break two way binding. Element: ",n),i.push(l),l},detach:function(t){for(var e=!1,n=0,r=i.length;n<r;n++){var o=i[n];o&&o.services.element().node()===t.node()&&(i[n]=!1,e=!0)}return e||console.warn("trying to detach element that has no component attached",t),u},digest:function(){if(!s){s=!0,a&&console.time("digest "+o),l();for(var t=0,e=i.length;t<e;t++){var n=i[t];n&&n.digest()}return a&&console.timeEnd("digest "+o),o++,s=!1,u}console.warn("Unfold is already digesting")},broadcast:function(t,e){l();for(var n=0,r=i.length;n<r;n++){var o=i[n];o&&o.broadcast(t,e)}return u},attachServices:function(t){for(var r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r](t,a,n));return t}};return{init:function(t,e,o,i,s){if(!0===i&&(a=i),s)for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l]);a&&console.time("start up digest");var c=(0,r.UnfoldElements)().transform(e),g=u.attach(t,c,o);return a&&console.timeEnd("start up digest"),g.services}}};e.Unfold=function(){var t={},e={},n={component:function(e,r){return t[e]=r,n},service:function(t,r){return e[t]=r,n},init:function(n,r,o,a,s){return i(t,e).init(n,r,o,a,s)}};return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{create:function(t,e,n){n.hooks.svgExport=function(e){t.broadcast("svg-export",e)},n.hooks.generateThumbnail=function(e){t.broadcast("generate-thumbnail",e)},n.hooks.resize=function(){t.digest()},n.hooks.getData=function(t){},n.hooks.getStyle=function(t){},n.hooks.getUser=function(t){},n.hooks.digest=function(){t.digest()},n.hooks.getDrive||(n.hooks.getDrive=function(){});var r=t.AppDataFactory.init(n);n.hooks.getDataFactory=function(){return r},"function"==typeof n.onBoot&&n.onBoot(),e.select("[unfold-chart-root]").node()&&t.attach("ChartRoot","[unfold-chart-root]",r)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={elements:r.UnfoldElements};return o(t),{get:function(t){return e[t]}}};var r=n(4),o=function(t){return{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){return{init:function(e){return c(t,e.data,e.hooks,n)}}};var r=n(19),o=n(20),i=n(5),a=n(29),s=n(31),l=n(32),u={chartTypes:[{key:"bar",label:"Bar",icon:null,dragItems:2,stacked:!1,dragLabels:["Legenda","Verticale as","Interactief"]},{key:"barstacked",label:"Bar Gestapeld",icon:null,dragItems:2,stacked:!0,dragLabels:["Legenda","Verticale as","Interactief"]},{key:"line",label:"Line",icon:null,dragItems:2,stacked:!1,dragLabels:["Legenda","Horizontale as","Interactief"]},{key:"column",label:"Kolom",icon:null,dragItems:2,stacked:!1,dragLabels:["Legenda","Horizontale as","Interactief"]},{key:"stacked",label:"Gestapeld",icon:null,dragItems:2,stacked:!0,dragLabels:["Legenda","Horizontale as","Interactief"]},{key:"pie",label:"Cirkeldiagram",icon:null,dragItems:1,stacked:!1,dragLabels:["Taartpunten","Interactief"]},{key:"polygon",label:"Kaart",icon:null,dragItems:1,stacked:!1,dragLabels:["Locaties","Interactief"]},{key:"scatter",label:"Scatterplot",icon:null,dragItems:2,stacked:!1,dragLabels:["Assen","Punten","Interactief"]},{key:"grid",label:"Gestapeld",icon:null,dragItems:2,stacked:!0,dragLabels:["Kolommen","Rijen","Interactief"]}],filterTypes:[{key:"filter",label:"Categorie",icon:"glyphicon-tag"},{key:"unit",label:"Eenheid",icon:"glyphicon-dashboard"},{key:"location",label:"Locatie",icon:"glyphicon-map-marker"},{key:"period",label:"Periode",icon:"glyphicon-time"}]},c=function(t,e,n,c){var g={},d={},f={getTempStorage:function(t){if(d.hasOwnProperty(t))return d[t]},setTempStorage:function(t,e){return d[t]=e,f},getSettingsRaw:function(){return e.settings},getConfigRaw:function(){return u},getDataStoreRaw:function(){return e.dataStore},getStylingRaw:function(){return e.style.style?e.style.style:e.style},getActiveChart:function(){return e.settings.activeChart},dimensions:{set:function(t,e,n){var r,o={width:0,height:0};return null===e?(o.width=0,o.height=0):e&&e.hasOwnProperty("node")&&"function"==typeof e.node?e.each((function(t){var e,n=0,r=0;t.isSVG()?(n=(e=t.getBBox()).width,r=e.height):(n=t.outerWidth(),r=t.outerHeight()),n>o.width&&(o.width=n),r>o.height&&(o.height=r)})):("number"==typeof e.width&&(o.width=e.width),"number"==typeof e.height&&(o.height=e.height)),g[t]=(r=o,null==n||("number"==typeof n["margin-bottom"]&&(r.height+=n["margin-bottom"]),"number"==typeof n["margin-top"]&&(r.height+=n["margin-top"]),"number"==typeof n["margin-left"]&&(r.width+=n["margin-left"]),"number"==typeof n["margin-right"]&&(r.width+=n["margin-right"])),r),f},get:function(t){var e={width:0,height:0};return g.hasOwnProperty(t)&&(e.width=g[t].width,e.height=g[t].height),e},reset:function(){return g={},f}}};return f.utility=(0,s.Utility)(t,f),f.style=(0,r.Style)(t,f),f.locale=(0,o.Locale)(t,f,c),f.stretch=(0,i.Stretch)(t,f),f.scale=(0,a.Scale)(t,f),f.vaxis=(0,a.Scale)(t,f).setType("vaxis").setSub("primary"),f.vaxisRight=(0,a.Scale)(t,f).setType("vaxis").setSub("secondary"),f.haxis=(0,a.Scale)(t,f).setType("haxis").setSub("primary"),f.wizard3=(0,l.Wizard3)(t,f,n),f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){for(var n=t.getDataStoreRaw(),r=[],o=0;o<n.items.length;o++){var i=n.items[o];i.group===e.key&&i.active&&r.push(i)}return r};e.Style=function(t,e){return{getUnits:function(t){e.getStylingRaw();for(var n=e.getDataStoreRaw(),r=e.getSettingsRaw(),i=e.getConfigRaw(),a=(this.annotations,null),s=null,l=0;l<n.groups.length;l++){var u=n.groups[l];"unit"===u.type&&(a=u,s=l)}var c={formatAxis:"##",formatTooltip:"##",unit:""};if(null===a)"string"==typeof r.formatAxis&&r.formatAxis&&(c.formatAxis=r.formatAxis),"string"==typeof r.formatTooltip&&r.formatTooltip&&(c.formatTooltip=r.formatTooltip),"string"==typeof r.unit&&r.unit&&(c.unit=r.unit);else{var g;for(l=0;l<i.chartTypes.length;l++)if(i.chartTypes[l].key===r.activeChart){g=i.chartTypes[l];break}if(s<g.dragItems){var d=o(e,a);if(1===d.length)"string"==typeof d[0].formatAxis&&d[0].formatAxis&&(c.formatAxis=d[0].formatAxis),"string"==typeof d[0].formatTooltip&&d[0].formatTooltip&&(c.formatTooltip=d[0].formatTooltip),"string"==typeof d[0].label&&d[0].label&&(c.unit=d[0].label);else if("scatter"===r.activeChart&&0===s&&2===d.length){var f;"string"==typeof(f="vaxis"===t?d[0]:d[1]).formatAxis&&f.formatAxis&&(c.formatAxis=f.formatAxis),"string"==typeof f.formatTooltip&&f.formatTooltip&&(c.formatTooltip=f.formatTooltip),"string"==typeof f.label&&f.label&&(c.unit=f.label)}return c}(f=function(t,e,n){for(var r=o(t,e),i=0;i<r.length;i++){var a=r[i];if(a.current)return a}return{key:null,label:null}}(e,a))&&("string"==typeof f.formatAxis&&f.formatAxis&&(c.formatAxis=f.formatAxis),"string"==typeof f.formatTooltip&&f.formatTooltip&&(c.formatTooltip=f.formatTooltip),"string"==typeof f.label&&f.label&&(c.unit=f.label))}return c},annotations:[],get:function(t,n){var r=e.getStylingRaw(),o=(e.getDataStoreRaw(),e.getSettingsRaw());if(!r)return null;for(var i=t.split("."),a=r,s=0;s<i.length;s++){var l=i[s];if(void 0===a[l])return null;a=a[l]}if("[object Object]"!==Object.prototype.toString.call(a))return a;var u={};if("string"==typeof a.ref){var c=a.ref.split(",");for(s=0;s<c.length;s++){var g=this.get(c[s]);for(var d in g)g.hasOwnProperty(d)&&(u[d]=g[d])}}for(var d in a)a.hasOwnProperty(d)&&(u[d]=a[d]);if(u.ref&&delete u.ref,u["shape-rendering"]&&delete u["shape-rendering"],"svg"===o.type&&"string"==typeof u["font-family"]){var f=u["font-family"];"[object Object]"===Object.prototype.toString.call(r.printFont)&&"string"==typeof r.printFont.fontFamily&&(f=r.printFont.fontFamily),u["font-family"]=f.split(",")[0]}if(n&&(n.html&&(u=this.getAsHtml(u)),n.locale)){var p=e.locale.getLocale(!0);void 0!==u[p]&&(u=u[p])}return u},getAsHtml:function(t){return t&&t.fill&&(t.color=t.fill,delete t.fill),t},color:function(t,n){var o=e.getStylingRaw();return e.getDataStoreRaw(),e.getSettingsRaw(),"object"===(void 0===n?"undefined":r(n))&&"string"==typeof n.color&&/^\#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(n.color)?n.color:void 0===o||void 0===o.colors||void 0===o.colors.standard?"#FFF":"red"},unitText:function(t){return this.getUnits(t).unit},setSpot:function(t,n,r){e.getStylingRaw(),e.getDataStoreRaw(),e.getSettingsRaw();var o=this.parseKeys(t,n);this.annotations.push({find:o,left:r.left,top:r.top,color:r.color})},getSpots:function(){return this.annotations},clearSpots:function(){this.annotations=[]},parseKeys:function(t,n){e.getStylingRaw();var r=e.getDataStoreRaw(),o=(e.getSettingsRaw(),null),i=[];null==n?(o=1,i=[t.key]):(o=2,i=[t.key,n.key]);for(var a=r.groups.length,s=r.items.length,l=o;l<a;l++)for(var u=r.groups[l],c=0;c<s;c++){var g=r.items[c];if(g.group===u.key&&!0===g.current){i.push(g.key);break}}return i.sort((function(t,e){return t-e})).join(",")},hover:function(t,e,n){"object"===(void 0===e?"undefined":r(e))&&"object"===(void 0===n?"undefined":r(n))&&n.style("opacity",t&&this!==e?.3:1)},barSpacing:function(t,e){var n=.05*t/e.length,r=this.get("columnGraph.settings.gap");return"number"==typeof r&&(n=r),n},zeroLineWidth:function(){try{var t=this.get("vaxis.style.zeroLine");return t&&"number"==typeof t["stroke-width"]?.5*t["stroke-width"]:.5}catch(t){return console.error(t),.5}},extraZeroAxisSpace:function(t,e){try{return 0===t(e)?this.zeroLineWidth():0}catch(t){return console.error(t),0}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Locale=function(t,e,n){var r=n.lang,o={nl:{comma:",",thousand:".",bucket:" t/m "},en:{comma:".",thousand:",",bucket:" - "},de:{comma:",",thousand:".",bucket:" - "},cs:{comma:",",thousand:".",bucket:" - "},es:{comma:",",thousand:".",bucket:" - "},fr:{comma:",",thousand:" ",bucket:" - "},it:{comma:",",thousand:".",bucket:" - "},pl:{comma:",",thousand:".",bucket:" - "},pt:{comma:",",thousand:".",bucket:" - "},ro:{comma:",",thousand:".",bucket:" - "},gr:{comma:",",thousand:".",bucket:" - "},hu:{comma:",",thousand:".",bucket:" - "}};return{setLocale:function(t){r=t},getLocale:function(t){return r},get:function(t){return(o.hasOwnProperty(r)?o[r]:o.en)[t]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StretchFormatYear={key:"year",label:{nl:"jaren",en:"years"},input:["YYYY","YY"],defaultOutput:null,output:[{key:null,nl:"year=YYYY",en:"year=YYYY"},{key:"simple",nl:"year=[']YY",en:"year=[']YY"}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StretchFormatYearMonth=void 0;var r={key:"yearmonth",label:{nl:"jaren maanden",en:"years months"},input:["YYYY-M","YY-M","YYYY MMM","YY MMM","YYYY-MMM","YY-MMM"],defaultOutput:"beauty",output:n(6).yearMonthOutput};e.StretchFormatYearMonth=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StretchFormatMonthYear=void 0;var r={key:"monthyear",label:{nl:"maanden jaren",en:"months years"},input:["M-YYYY","M-YY","MMM YYYY","MMM YY","MMM-YYYY","MMM-YY"],defaultOutput:"beauty",output:n(6).yearMonthOutput};e.StretchFormatMonthYear=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StretchFormatYearMonthDay=e.StretchFormatMonthDayYear=e.StretchFormatDayMonthYear=void 0;var r=n(25),o={key:"daymonthyear",label:{nl:"dagen maanden jaren",en:"days months years"},input:["D-M-YYYY","D-M-YY","D MMM YYYY","D MMM YY"],defaultOutput:"beauty",output:r.yearMonthDayOutput},i={key:"monthdayyear",label:{nl:"maanden dagen jaren",en:"months days years"},input:["M-D-YYYY","M-D-YY","MMM D YYYY","MMM D YY"],defaultOutput:"beauty",output:r.yearMonthDayOutput},a={key:"yearmonthday",label:{nl:"jaren maanden dagen",en:"years months days"},input:["YYYY-M-D","YY-M-D","YYYY MMM D","YY MMM D"],defaultOutput:"beauty",output:r.yearMonthDayOutput};e.StretchFormatDayMonthYear=o,e.StretchFormatMonthDayYear=i,e.StretchFormatYearMonthDay=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.yearMonthDayOutput=[{key:null,nl:"year=YYYY&month=MM-YYYY&day=DD-MM-YYYY",en:"year=YYYY&month=MM/YYYY&day=MM/DD/YYYY",de:"year=YYYY&month=MM.YYYY&day=DD.MM.YYYY",it:"year=YYYY&month=MM/YYYY&day=DD/MM/YYYY",cs:"year=YYYY&month=MM.YYYY&day=DD.MM.YYYY",es:"year=YYYY&month=MM/YYYY&day=DD/MM/YYYY",pl:"year=YYYY&month=MM.YYYY&day=DD.MM.YYYY",pt:"year=YYYY&month=MM/YYYY&day=DD/MM/YYYY",ro:"year=YYYY&month=MM.YYYY&day=DD.MM.YYYY",gr:"year=YYYY&month=MM/YYYY&day=DD/MM/YYYY",hu:"year=YYYY&month=YYYY.MM&day=YYYY.MM.DD."},{key:"beauty",nl:"year=YYYY&month=MMM YYYY&day=DD MMM YYYY",en:"year=YYYY&month=MMM YYYY&day=MMM Do YYYY",de:"year=YYYY&month=MMM YYYY&day=DD. MMM YYYY",it:"year=YYYY&month=MMM YYYY&day=DD MMM YYYY",cs:"year=YYYY&month=MMM YYYY&day=DD. MMM YYYY",es:"year=YYYY&month=MMM [de] YYYY&day=DD MMM [de] YYYY",pl:"year=YYYY&month=MMM YYYY&day=DD MMM YYYY",pt:"year=YYYY&month=MMM [de] YYYY&day=DD MMM [de] YYYY",ro:"year=YYYY&month=MMM YYYY&day=DD. MMM YYYY",gr:"year=YYYY&month=MMM YYYY&day=DD MMM YYYY",hu:"year=YYYY&month=YYYY MMM&day=YYYY. MMM DD."},{key:"simple",nl:"year=[']YY&month=MMM [']YY&day=DD MMM [']YY",en:"year=[']YY&month=MMM [']YY&day=MMM Do [']YY",de:"year=[']YY&month=MMM [']YY&day=DD. MMM [']YY",it:"year=[']YY&month=MMM [']YY&day=DD MMM [']YY",cs:"year=[']YY&month=MMM [']YY&day=DD. MMM [']YY",es:"year=[']YY&month=MMM [de ']YY&day=DD MMM [de ']YY",pl:"year=[']YY&month=MMM [']YY&day=DD MMM [']YY",pt:"year=[']YY&month=MMM [de ']YY&day=DD MMM [de ']YY",ro:"year=[']YY&month=MMM [']YY&day=DD. MMM [']YY",gr:"year=[']YY&month=MMM [']YY&day=DD MMM [']YY",hu:"year=[']YY&month=[']YY MMM&day=[']YY. MMM DD."}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StretchFormatWeek={key:"week",label:{nl:"weken jaren",en:"weeks years"},input:["[w]W GGGG","[w]W GG","[wk]W GGGG","[wk]W GG"],defaultOutput:null,output:[{key:null,nl:"year=GGGG&week=[week] W GGGG",en:"year=GGGG&week=[week] W GGGG"},{key:"simple",nl:"year=[']GG&week=[week] W [']GG",en:"year=[']GG&week=[week] W [']GG"}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StretchFormatQuarter={key:"quarters",label:{nl:"kwartalen jaren",en:"quarters years"},input:["Q[e kwartaal] YYYY","YYYY Q[e kwartaal]","[q]Q YYYY","YYYY [q]Q"],defaultOutput:null,output:[{key:null,nl:"year=YYYY&month=[Q]Q YYYY",en:"year=YYYY&month=[Q]Q YYYY"},{key:"simple",nl:"year=[']YY&month=[Q]Q [']YY",en:"year=[']YY&month=[Q]Q [']YY"}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[{key:null,nl:"year=YYYY&month=MM-YYYY&day=DD-MM-YYYY&hour=DD-MM-YYYY H:00&minute=DD-MM-YYYY H:mm",en:"year=YYYY&month=MM/YYYY&day=MM/DD/YYYY&hour=MM/DD/YYYY h:00 a&minute=MM/DD/YYYY h:mm a",de:"year=YYYY&month=MM.YYYY&day=DD.MM.YYYY&hour=DD.MM.YYYY H:00&minute=DD.MM.YYYY H:mm",it:"year=YYYY&month=MM/YYYY&day=DD/MM/YYYY&hour=DD/MM/YYYY H:00&minute=DD/MM/YYYY H:mm",cs:"year=YYYY&month=MM.YYYY&day=DD.MM.YYYY&hour=DD.MM.YYYY H:00&minute=DD.MM.YYYY H:mm",es:"year=YYYY&month=MM/YYYY&day=DD/MM/YYYY&hour=DD/MM/YYYY H:00&minute=DD/MM/YYYY H:mm",pl:"year=YYYY&month=MM.YYYY&day=DD.MM.YYYY&hour=DD.MM.YYYY H:00&minute=DD.MM.YYYY H:mm",pt:"year=YYYY&month=MM/YYYY&day=DD/MM/YYYY&hour=DD/MM/YYYY H:00&minute=DD/MM/YYYY H:mm",ro:"year=YYYY&month=MM.YYYY&day=DD.MM.YYYY&hour=DD.MM.YYYY H:00&minute=DD.MM.YYYY H:mm",gr:"year=YYYY&month=MM/YYYY&day=DD/MM/YYYY&hour=DD/MM/YYYY H:00 a&minute=DD/MM/YYYY H:mm a",hu:"year=YYYY&month=YYYY.MM&day=YYYY.MM.DD.&hour=YYYY.MM.DD. H:00&minute=YYYY.MM.DD. H:mm"},{key:"beauty",nl:"year=YYYY&month=MMM YYYY&day=DD MMM YYYY&hour=DD MMM YYYY H:00&minute=DD MMM YYYY H:mm",en:"year=YYYY&month=MMM YYYY&day=MMM Do YYYY&hour=MMM Do YYYY h:00 a&minute=MMM Do YYYY h:mm a",de:"year=YYYY&month=MMM YYYY&day=DD. MMM YYYY&hour=DD. MMM YYYY H:00&minute=DD. MMM YYYY H:mm",it:"year=YYYY&month=MMM YYYY&day=DD MMM YYYY&hour=DD MMM YYYY H:00&minute=DD MMM YYYY H:mm",cs:"year=YYYY&month=MMM YYYY&day=DD. MMM YYYY&hour=DD. MMM YYYY H:00&minute=DD. MMM YYYY H:mm",es:"year=YYYY&month=MMM [de] YYYY&day=DD MMM [de] YYYY&hour=DD MMM [de] YYYY H:00&minute=DD MMM [de] YYYY H:mm",pl:"year=YYYY&month=MMM YYYY&day=DD MMM YYYY&hour=DD MMM YYYY H:00&minute=DD MMM YYYY H:mm",pt:"year=YYYY&month=MMM [de] YYYY&day=DD MMM [de] YYYY&hour=DD MMM [de] YYYY H:00&minute=DD MMM [de] YYYY H:mm",ro:"year=YYYY&month=MMM YYYY&day=DD. MMM YYYY&hour=DD. MMM YYYY H:00&minute=DD. MMM YYYY H:mm",gr:"year=YYYY&month=MMM YYYY&day=DD MMM YYYY&hour=DD MMM YYYY H:00 a&minute=DD MMM YYYY H:mm a",hu:"year=YYYY&month=YYYY MMM&day=YYYY. MMM DD.&hour=YYYY. MMM DD. H:00&minute=YYYY. MMM DD. H:mm"},{key:"simple",nl:"year=[']YY&month=MMM [']YY&day=DD MMM [']YY&hour=DD MMM [']YY H:00&minute=DD MMM [']YY H:mm",en:"year=[']YY&month=MMM [']YY&day=MMM Do [']YY&hour=MMM Do [']YY h:00 a&minute=MMM Do [']YY h:mm a",de:"year=[']YY&month=MMM [']YY&day=DD. MMM [']YY&hour=DD. MMM [']YY H:00&minute=DD. MMM [']YY H:mm",it:"year=[']YY&month=MMM [']YY&day=DD MMM [']YY&hour=DD MMM [']YY H:00&minute=DD MMM [']YY H:mm",cs:"year=[']YY&month=MMM [']YY&day=DD. MMM [']YY&hour=DD. MMM [']YY H:00&minute=DD. MMM [']YY H:mm",es:"year=[']YY&month=MMM [de ']YY&day=DD MMM [de ']YY&hour=DD MMM [de ']YY H:00&minute=DD MMM [de ']YY H:mm",pl:"year=[']YY&month=MMM [']YY&day=DD MMM [']YY&hour=DD MMM [']YY H:00&minute=DD MMM [']YY H:mm",pt:"year=[']YY&month=MMM [de ']YY&day=DD MMM [de ']YY&hour=DD MMM [de ']YY H:00&minute=DD MMM [de ']YY H:mm",ro:"year=[']YY&month=MMM [']YY&day=DD. MMM [']YY&hour=DD. MMM [']YY H:00&minute=DD. MMM [']YY H:mm",gr:"year=[']YY&month=MMM [']YY&day=DD MMM [']YY&hour=DD MMM [']YY H:00 a&minute=DD MMM [']YY H:mm a",hu:"year=[']YY&month=[']YY MMM&day=[']YY. MMM DD.&hour=[']YY. MMM DD. H:00&minute=[']YY. MMM DD. H:mm"}],o={key:"monthdayyearhourminute",label:{nl:"maanden dagen jaren uren minuten",en:"months days years hours minutes"},input:["M-D-YYYY H:m","M-D-YY H:m","MMM D YYYY H:m","MMM D YY H:m"],defaultOutput:"beauty",output:r},i={key:"daymonthyearhourminute",label:{nl:"dagen maanden jaren uren minuten",en:"days months years hours minutes"},input:["D-M-YYYY H:m","D-M-YY H:m","D MMM YYYY H:m","D MMM YY H:m"],defaultOutput:"beauty",output:r};e.StretchFormatMonthDayYearHourMinute=o,e.StretchFormatDayMonthYearHourMinute=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scale=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(5),i=n(30);e.Scale=function(t,e){e.getDataStoreRaw();var n="vaxis",a="primary",s=[0,0],l=[0,0],u=[0],c=[0,0],g=[0,0],d=null,f=null,p=function(t){var n=e.style.get("vaxis.style.lines"),r=e.style.get("vaxis.style.zeroLine"),o=y.getUnitFormatter(),i=y.getDisplayTicks();t.merge({items:i,key:function(t){return t},append:"g",enter:function(t,e){t.style("transition","transform 1s"),t.append("text").attr({"text-anchor":"middle",dy:"1em"}),t.append("line")},exit:function(t){t.remove()},update:function(t,a,s){var l=i.length>1?o.render(a):"";t.select("text").text(l).style(e.style.get("vaxis.style.labels")).attr({y:y.getTickPadding()}),t.select("line").attr({x1:0,y1:y.getLineRange()[0]-y.getLineRange()[1],x2:0,y2:-1*y.getTickPadding()}).style(0===a?r:n),t.attr("transform","translate("+y.calculate(a)+", "+y.getLineRange()[1]+")")}})};t.listen("tooltip",(function(t){var n=e.wizard3.getSettingsObject().getChartType();d=t,"haxis"===y.getType()&&"pie"!==n&&"scatter"!==n&&y.render()}));var h=function(){var t=y.getUnitFormatter(),e=y.getDomain(),n=[],r=y.useTimeScale();return e.filter((function(t,n){return!r||0===n||n===e.length-1})).forEach((function(e){"number"==typeof e?n.push(t.render(e)):n.push(e.getDisplayLabel(y))})),n},m=function(){var t=e.getSettingsRaw();return"secondary"===a?t.scaleSecondary:t.scale},y={calculate:function(t,n){var o=e.wizard3.getSettingsObject().getChartType(),i=function(t,e){var n=null,o=y.getUsableRange();if(y.useTimeScale())return n=y.getTimeScaleDomain(),"number"!=typeof t&&(t=parseInt(t.getMoment(),10)),o[0]+(t-n[0])*((o[1]-o[0])/(n[1]-n[0]));if("number"==typeof t||null===t)return null===t&&(t=0),n=y.getDomain(),o[0]+(t-n[0])*((o[1]-o[0])/(n[1]-n[0]));if(t&&"function"==typeof t.getKey){n=y.getDomain();for(var i=0;i<n.length;i++)if(n[i].getKey()===t.getKey())return e?o[0]+y.getDisplayBandWidth()*i+y.getPaddingBandWidth()*i+.5*y.getDisplayBandWidth():o[0]+y.getDisplayBandWidth()*i+y.getPaddingBandWidth()*i}return console.error("Calculate did not accept ",t,void 0===t?"undefined":r(t)),0}(t,n);return"vaxis"===y.getType()&&"pie"!==o?Math.round(i):i},setType:function(t){return n=t,y},getType:function(){return n},setSub:function(t){return a=t,y},getSub:function(){return a},getLocale:function(){return e.locale.getLocale()},setDomain:function(t){return y.useTimeScale()&&(l=[parseInt(t[0].getMoment(),10),parseInt(t[t.length-1].getMoment(),10)]),s=t,y},getDomain:function(){return s},isDomainOnlyPositive:function(){return y.getDomain()[0]>=0},isDomainOnlyNegative:function(){return y.getDomain()[1]<0},isDomainPositive:function(){return y.getDomain()[1]>0},isDomainNegative:function(){return y.getDomain()[0]<0},getTimeScaleDomain:function(){return l},setRange:function(t){c=t;var n,r=e.wizard3,o=r.getSettingsObject().getChartType(),i=r.getGroupFromRaw(1),a=y.getMaxTickWidth();if("haxis"!==y.getType()||"bar"!==o&&"barstacked"!==o)if("haxis"===y.getType())e.vaxis.hasTicks()&&(c[0]=c[0]+e.dimensions.get("Vaxis Precalculate primary").width),e.vaxisRight.hasTicks()&&(c[1]=c[1]-e.dimensions.get("Vaxis Precalculate secondary").width),g=[c[0]+.5*a,c[1]-.5*a];else if("vaxis"!==y.getType()||"bar"!==o&&"barstacked"!==o)if("haxis"!==y.getType()||"line"!==o&&!i.isType("period"))if("vaxis"===y.getType()&&"scatter"===o&&"secondary"===y.getSub())u=e.dimensions.get("Vaxis Precalculate secondary").width,g=[c[0],c[1]-.5*u];else if("vaxis"===y.getType()&&"pie"===o)g=[c[0],c[1]];else if("vaxis"===y.getType()){var s=0,l=0;s=.5*(u=e.dimensions.get("Vaxis Precalculate primary").height),l=.5*u,!y.hasTicks()&&y.isDomainPositive()&&(s=u+e.style.get("annotation.settings.directLabel.margin")),!y.hasTicks()&&y.isDomainNegative()&&(l=u+e.style.get("annotation.settings.directLabel.margin")),g=[c[0]-l,c[1]+s],y.isDomainNegative()||(c[0]=c[0]-.5*u),y.isDomainPositive()||(c[1]=c[1]+.5*u)}else g=[c[0],c[1]];else n=y.getMaxTickWidth(),g=[c[0]+.5*n,c[1]-.5*n];else{var u,d=0,f=0;d=.5*(u=e.dimensions.get("Vaxis Precalculate primary").width),f=.5*u,!y.hasTicks()&&y.isDomainPositive()&&(f=u+e.style.get("annotation.settings.directLabel.margin")),!y.hasTicks()&&y.isDomainNegative()&&(d=u+e.style.get("annotation.settings.directLabel.margin")),g=[c[0]+d,c[1]-f],y.isDomainNegative()||(c[0]=c[0]+.5*u),y.isDomainPositive()||(c[1]=c[1]-.5*u)}else g=[c[0],c[1]];return y},getRange:function(){return c},getUsableRange:function(){return g},getMaxTickWidth:function(){var n=h();return e.utility.textSize(t.element().select("svg"),n,e.style.get("vaxis.style.labels")).width+y.getTickPadding()},getMaxTickHeight:function(){var n=h();return e.utility.textSize(t.element().select("svg"),n,e.style.get("vaxis.style.labels")).height},getMaxDirectLabelWidth:function(){var n=y.getUnitFormatter(),r=[];return e.wizard3.getSettingsObject().isChartType(["barstacked","stacked"])?0:(y.getDomain().forEach((function(t){r.push(n.render(t))})),e.utility.textSize(t.element().select("svg"),r,e.style.get("annotation.directLabel")).width)},getMaxDirectLabelHeight:function(){var n=y.getUnitFormatter(),r=[];return e.wizard3.getSettingsObject().isChartType(["barstacked","stacked"])?0:(y.getDomain().forEach((function(t){r.push(n.render(t))})),e.utility.textSize(t.element().select("svg"),r,e.style.get("annotation.directLabel")).height)},getDirectLabelExtraMargin:function(){var t=e.style.get("annotation.settings.directLabel.margin");return"number"==typeof t?t:0},getDomainActivatedRatio:function(){var t=e.style.get("domain.settings.activatedRatio");return"number"==typeof t?t:.5},isDomainActivated:function(){return!0===e.style.get("domain.settings.activated")},getTickPadding:function(){var t=e.style.get("vaxis.settings.tickPadding");return"number"==typeof t?t:10},setTicks:function(t){return u=t,y},getTicks:function(){return y.hasTicks()?u:[]},hasTicks:function(){var t=e.wizard3.getSettingsObject();return!(t.hasDirectLabels()&&"line"!==t.getChartType()&&"scatter"!==t.getChartType())},getDisplayTicks:function(){var t=y.getTicks(),e=y.getUsableRange();return y.hasTicks()?y.isOrientation("bottom")&&y.getMaxTickWidth()*t.length>e[1]-e[0]||y.isOrientation("left")&&y.getMaxTickHeight()*t.length>e[0]-e[1]?t.filter((function(e,n){return 0===n||n===t.length-1||0===e})):t:[0]},getOrientation:function(){var t=e.wizard3.getSettingsObject();return"bar"!==t.getChartType()&&"barstacked"!==t.getChartType()||"vaxis"!==y.getType()?"scatter"===t.getChartType()&&"vaxis"===y.getType()&&"secondary"===y.getSub()?"bottom":"left":"bottom"},isOrientation:function(t){return y.getOrientation()===t},getLineRange:function(){var t=e.wizard3.getSettingsObject();return"bar"===t.getChartType()||"barstacked"===t.getChartType()?[e.dimensions.get("Story").height+e.dimensions.get("Interactive").height+e.dimensions.get("Description").height+e.dimensions.get("Legend").height,e.dimensions.get("Svg").height-e.dimensions.get("Vaxis Precalculate primary").height-e.dimensions.get("Footer").height]:"scatter"===t.getChartType()?"secondary"===y.getSub()?[e.dimensions.get("Story").height+e.dimensions.get("Interactive").height+e.dimensions.get("Description").height+e.dimensions.get("Legend").height,e.dimensions.get("Svg").height-e.dimensions.get("Vaxis Precalculate secondary").height-e.dimensions.get("Footer").height]:[e.dimensions.get("Vaxis Precalculate primary").width,e.dimensions.get("Svg").width]:e.haxis.getRange()},getBandWidth:function(t,e){"number"!=typeof t&&(t=1),"number"!=typeof e&&(e=0);var n=y.getDomain(),r=y.getUsableRange(),o=(r[1]-r[0])*t,i=n.length+e;return 0===i&&(i=1),o/i},hasPaddingBandWidth:function(){var t=e.wizard3.getSettingsObject().getChartType();return"haxis"!==y.getType()||"line"!==t},getDisplayBandWidth:function(){return y.hasPaddingBandWidth()?y.getBandWidth(.9):y.getBandWidth(1,-1)},getPaddingBandWidth:function(){return y.hasPaddingBandWidth()?y.getBandWidth(.1,-1):y.getBandWidth(0)},getUnitFormatter:function(){return(0,i.UnitFormatter)(e,y)},getTicksDecimals:function(){for(var t=y.getTicks(),e=0,n=0;n<t.length;n++){var r=t[n];if("number"==typeof r){var o=String(Number(r.toFixed(8))).split(".");if(2===o.length){var i=o[1];i&&i.length&&i.length>e&&(e=i.length)}}}return e},hasTooltipSettings:function(){return d&&d.haxisItem},getTooltipSettings:function(){return d},setTooltipSettings:function(t){d=t},settings:{getShowFirstAndLast:function(){var t=m();return"haxis"===y.getType()&&!0===t.firstAndLast},getNumberOfTicks:function(){var t=6,n=m(),r=e.style.get("vaxis.settings.ticks");return"number"==typeof r&&(t=r),!0===n.manualTicks&&"number"==typeof n.ticks&&(t=n.ticks),t},getAdjust:function(){return"pie"===e.wizard3.getSettingsObject().getChartType()||!1!==m().adjust},getStartAtZero:function(){var t=e.wizard3.getSettingsObject().getChartType();return"pie"===t||"stacked"===t||"barstacked"===t||!1!==m().zero},getManualMaxValue:function(){var t=e.wizard3.getSettingsObject().getChartType();if("pie"===t||"stacked"===t||"barstacked"===t)return null;var n=m();return!0===n.manualScale&&"string"==typeof n.maxValue?e.wizard3.getUtils().parseNumber(n.maxValue):null},getManualMinValue:function(){var t=e.wizard3.getSettingsObject().getChartType();if("pie"===t||"stacked"===t||"barstacked"===t)return null;var n=m();return!0===n.manualScale&&"string"==typeof n.minValue?e.wizard3.getUtils().parseNumber(n.minValue):null},getEnableShorten:function(){var t=m(),r=e.wizard3.getSettingsObject().getChartType();return!0!==t.disableShorten&&("bar"===r||"barstacked"===r)&&"haxis"===n}},axisIsActive:function(){var t=e.wizard3.getSettingsObject().getChartType();if("vaxis"!==n||"secondary"!==a)return!0;if("vaxis"===n&&"secondary"===a&&"scatter"===t)return!0;for(var r=e.wizard3.getGroupFromRaw(0).getActiveItems(),o=0;o<r.length;o++)if(r[o].isAxisSecondary())return!0;return!1},useTimeScale:function(){var t=e.wizard3.getSettingsObject(),n=e.wizard3.getGroupFromRaw(1);return t.isChartType("line")&&"haxis"===y.getType()&&n.hasValidMoments()},preCalculate:function(){var r=e.wizard3.getSettingsObject();if(y.axisIsActive()){s=e.wizard3.getDomain(y);var o=y.settings.getNumberOfTicks();u=function(t,e,n){if(e===n)return[e,e+1];for(var r=function(t,e,n){var r=t+1,o=n-e,i=o/r,a=Math.pow(10,Math.floor(Math.log(i)*Math.LOG10E));return 5*a*r<o&&(a*=10),a>=i?a:2*a>=i?2*a:5*a}(t,e,n),o=0===e?0:Math.floor(e/r)*r,i=[o];o<n;)o+=r,i.push(o);return i}(o,s[0],s[1]),y.hasTicks()&&(s=[u[0],u[u.length-1]]);var i=y.getUnitFormatter(),l=[];u.forEach((function(t){l.push(i.render(t))}));var c=e.utility.textSize(t.element().select("svg"),l,e.style.get("vaxis.style.labels")),g=r.getChartType();"bar"!==g&&"barstacked"!==g&&"vaxis"===n&&"primary"===a&&(c.width+=y.getTickPadding()),"bar"!==g&&"barstacked"!==g&&"scatter"!==g&&"vaxis"===n&&"secondary"===a&&(c.width+=y.getTickPadding()),"scatter"===g&&"vaxis"===n&&"secondary"===a&&(c.height+=y.getTickPadding()),e.dimensions.set("Vaxis Precalculate "+a,c)}else e.dimensions.set("Vaxis Precalculate "+a,{width:0,height:0})},render:function(t){void 0===t?t=f:f=t;var r=e.wizard3.getSettingsObject().getChartType();"bar"!==r&&"barstacked"!==r||"haxis"!==n?"haxis"===n?function(t){var n=e.wizard3,r=n.getSettingsObject().getChartType(),i=n.getGroupFromRaw(1);"line"===r&&y.useTimeScale()?function(t,e,n,r){n.getBandWidth();for(var i=n.getDomain(),a=n.getMaxTickWidth(),s=i[0],l=i[i.length-1],u=(0,o.getFormatByKey)(s.getParent().getMomentFormat()),c=(0,o.getFormatOutputByKey)(u,n.getLocale(),s.getParent().getMomentOutputFormat(),!0),g=null,d=null,f=n.getUsableRange()[1]-n.getUsableRange()[0],p=1.3*a,h=0;h<c.length;h++){var m=c[h];if(m.key,m.value,h===c.length-1||(0,o.diff)(m.key,s.getMoment(),l.getMoment())>=2){g=m.key,d=m.value;break}}var y=[],v=function(t,e){"string"==typeof t&&(t=parseInt(t,10)),void 0===e&&(e=c[c.length-1].value),y.push({moment:t,format:e})},b=parseInt(s.getMoment(),10);!function t(e){var n,r=parseInt(l.getMoment(),10);if(y=[],n="month"===g?[1,2,3,4,6][e-1]:"week"===g?[1,2,4,8,21,52][e-1]:e){for(r=(0,o.startOf)(g,r);r>b||r===b;){r=(0,o.startOf)(g,r),v(r,d);for(var i=0;i<n;i++)r-=1,r=(0,o.startOf)(g,r)}y.length>1&&p*y.length>f&&t(e+1)}}(1),n.settings.getShowFirstAndLast()&&(y=[],v(s.getMoment()),v(l.getMoment())),n.hasTooltipSettings()&&v(n.getTooltipSettings().haxisItem.getMoment()),r.merge({items:y,key:function(t){return t.moment},append:"g",enter:function(t,e){t.style("transition","transform 1s"),t.append("text").attr({"text-anchor":"middle",dy:"1em"})},exit:function(t){t.remove()},update:function(t,r,i){var a=(0,o.parseOutputInFormat)(r.moment.toString(),n.getLocale(),r.format),s=n.calculate(r.moment);t.style(e.style.get("haxis.style.labels")).select("text").text(a),t.attr("transform","translate("+s+", 0)"),n.hasTooltipSettings()?r.moment.toString()===n.getTooltipSettings().haxisItem.getMoment()?t.style("opacity",1):t.style("opacity",.2):t.style("opacity",null)}})}(0,e,y,t):"line"===r?function(t,e,n,r){for(var o=n.getBandWidth(),i=n.getDomain(),a=n.getMaxTickWidth(),s=Math.ceil(a/o),l=[],u=0,c=i.length-1;c>=0;--c){var g=i[c];u%s==0&&l.push(g),u+=1}n.settings.getShowFirstAndLast()&&(l=[i[0],i[i.length-1]]),n.hasTooltipSettings()&&l.push(n.getTooltipSettings().haxisItem),r.merge({items:l,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.style("transition","transform 1s"),t.append("text").attr({"text-anchor":"middle",dy:"1em"})},exit:function(t){t.remove()},update:function(t,r,o){var i=r.getDisplayLabel(),a=n.calculate(r);t.style(e.style.get("haxis.style.labels")).select("text").text(i),t.attr("transform","translate("+a+", 0)"),n.hasTooltipSettings()?r.getKey()===n.getTooltipSettings().haxisItem.getKey()?t.style("opacity",1):t.style("opacity",.2):t.style("opacity",null)}})}(0,e,y,t):i.isType("period")?function(t,e,n,r){for(var o=n.getBandWidth(),i=n.getDomain(),a=n.getMaxTickWidth(),s=Math.ceil(a/o),l=[],u=0,c=i.length-1;c>=0;--c){var g=i[c];u%s==0&&l.push(g),u+=1}n.settings.getShowFirstAndLast()&&(l=[i[0],i[i.length-1]]),n.hasTooltipSettings()&&l.push(n.getTooltipSettings().haxisItem),r.merge({items:l,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.style("transition","transform 1s"),t.append("text").attr({"text-anchor":"middle",dy:"1em"})},exit:function(t){t.remove()},update:function(t,r,o){var i=r.getDisplayLabel(),a=n.calculate(r,!0);t.style(e.style.get("haxis.style.labels")).select("text").text(i),t.attr("transform","translate("+a+", 0)"),n.hasTooltipSettings()?r.getKey()===n.getTooltipSettings().haxisItem.getKey()?t.style("opacity",1):t.style("opacity",.2):t.style("opacity",null)}})}(0,e,y,t):function(t,e,n,r){var o=n.getBandWidth(),i=n.getDomain(),a=n.getMaxTickWidth(),s=!1;a>o&&(s=!0),n.settings.getShowFirstAndLast()&&(i=[n.getDomain()[0],n.getDomain()[n.getDomain().length-1]]),r.merge({items:i,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.style("transition","transform 1s"),t.append("text").attr("text-anchor","middle")},exit:function(t){t.remove()},update:function(t,r,o){var i=r.getDisplayLabel(),a=n.calculate(r,!0);t.style(e.style.get("haxis.style.labels")).select("text").text(i),t.attr("transform","translate("+a+", 0)"),s?t.select("text").attr({transform:"rotate(-90)","text-anchor":"end"}):t.select("text").attr({transform:null,"text-anchor":"middle",dy:"1em"}),n.hasTooltipSettings()?r.getKey()===n.getTooltipSettings().haxisItem.getKey()?t.style("opacity",1):t.style("opacity",.2):t.style("opacity",null)}})}(0,e,y,t)}(t):"bar"!==r&&"barstacked"!==r||"vaxis"!==n?"scatter"===r&&"vaxis"===n&&"secondary"===a?p(t):"vaxis"===n&&"primary"===a?function(t){var n=e.style.get("vaxis.style.lines"),r=e.style.get("vaxis.style.zeroLine"),o=y.getUnitFormatter(),i=y.getDisplayTicks();t.merge({items:i,key:function(t){return t},append:"g",enter:function(t,e){t.style("transition","transform 1s"),t.append("text").attr({"text-anchor":"end",dy:"0.32em"}),t.append("line")},exit:function(t){t.remove()},update:function(t,a,s){var l=i.length>1?o.render(a):"";t.select("text").text(l).attr({x:e.dimensions.get("Vaxis Precalculate primary").width-y.getTickPadding()}).style(e.style.get("vaxis.style.labels")),t.select("line").attr({x1:y.getLineRange()[0],y1:"0",x2:y.getLineRange()[1],y2:"0"}).style(0===a?r:n),t.attr("transform","translate(0, "+y.calculate(a)+")")}})}(t):"vaxis"===n&&"secondary"===a&&function(t){var n=y.getUnitFormatter(),r=y.getDisplayTicks();y.axisIsActive()||(r=[]),t.merge({items:r,key:function(t){return t},append:"g",enter:function(t,e){t.style("transition","transform 1s"),t.append("text").attr({"text-anchor":"start",dy:"0.32em"})},exit:function(t){t.remove()},update:function(t,r,o){t.select("text").text(n.render(r)).attr({x:e.dimensions.get("Vaxis Precalculate primary").width+y.getTickPadding()}).style(e.style.get("vaxis.style.labels")),t.attr("transform","translate("+(y.getLineRange()[1]-y.getLineRange()[0])+", "+y.calculate(r)+")")}})}(t):p(t):function(t){y.getBandWidth(),y.getUsableRange(),t.merge({items:y.getDomain(),key:function(t){return t.getKey()},append:"g",enter:function(t,n){t.style(e.style.get("haxis.style.labels")).style("transition","transform 1s"),t.append("text").attr({"text-anchor":"end",dy:"0.32em"})},exit:function(t){t.remove()},update:function(t,e,n){t.select("text").text(e.getDisplayLabel(y));var r=y.calculate(e,!0);t.attr("transform","translate(0, "+r+")"),y.hasTooltipSettings()?e.getKey()===y.getTooltipSettings().haxisItem.getKey()?t.style("opacity",1):t.style("opacity",.2):t.style("opacity",null)}})}(t)}};return y}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){var n=t.getSettingsRaw(),r=t.getConfigRaw(),o=null,i=null;t.wizard3.getGroupsFromRaw().forEach((function(t,e){t.isType("unit")&&(o=t,i=e)}));var a={formatAxis:"##",formatTooltip:"##",unit:""};if(null===o)"string"==typeof n.formatAxis&&n.formatAxis&&(a.formatAxis=n.formatAxis),"string"==typeof n.formatTooltip&&n.formatTooltip&&(a.formatTooltip=n.formatTooltip),"string"==typeof n.unit&&n.unit&&(a.unit=n.unit);else{for(var s,l=0;l<r.chartTypes.length;l++)if(r.chartTypes[l].key===n.activeChart){s=r.chartTypes[l];break}if(i<s.dragItems){var u=[];return 0===i&&t.wizard3.getGroupFromRaw(0).getActiveItems().forEach((function(t){e.getSub()===t.getAxis().getSub()&&u.push(t)})),1===i&&(u=o.getActiveItems()),1===u.length&&("string"==typeof u[0].getFormatAxis()&&u[0].getFormatAxis()&&(a.formatAxis=u[0].getFormatAxis()),"string"==typeof u[0].getFormatTooltip()&&u[0].getFormatTooltip()&&(a.formatTooltip=u[0].getFormatTooltip()),"string"==typeof u[0].getDisplayLabel()&&u[0].getDisplayLabel()&&(a.unit=u[0].getDisplayLabel())),a}var c=o.getCurrentItem();c&&("string"==typeof c.getFormatAxis()&&c.getFormatAxis()&&(a.formatAxis=c.getFormatAxis()),"string"==typeof c.getFormatTooltip()&&c.getFormatTooltip()&&(a.formatTooltip=c.getFormatTooltip()),"string"==typeof c.getDisplayLabel()&&c.getDisplayLabel()&&(a.unit=c.getDisplayLabel()))}return a};function o(t,e,n,r){var o=n;if("number"!=typeof r&&"string"!=typeof r)return null;"number"!=typeof r&&(r=Number(r)),0===r&&(o=null);var i=(r=String(Number(r.toFixed(8)))).split(".");if(o>0&&(!i[1]||i[1].length<o)){for(var a="",s=i[1]?o-i[1].length:o,l=0;l<s;l++)a+="0";i[1]=i[1]?i[1]+a:a}for(var u=t.locale.get("thousand"),c=i[0],g=i.length>1?t.locale.get("comma")+i[1]:"",d=/(\d+)(\d{3})/;d.test(c);)c=c.replace(d,"$1"+u+"$2");return c+g}e.getUnitSettings=r,e.UnitFormatter=function(t,e){var n=r(t,e),i=e.getTicksDecimals();return{render:function(e,r){return"number"!=typeof e?"-":"tooltip"===r?n.formatTooltip.replace("##",o(t,0,i,e)):n.formatAxis.replace("##",o(t,0,i,e))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.Utility=function(t,e){return{dataStore:function(){return scope.dataStore},dashboardAction:function(t){var e=window.location.search;return"string"==typeof t&&"pointer"===t?e&&-1!==e.indexOf("dashboard=master")?"pointer":"auto":e&&-1!==e.indexOf("dashboard=master")?t&&t.label?void sendDashboardMessage(t):"master":!(!e||-1===e.indexOf("dashboard=slave"))&&"slave"},textSize:function(t,e,n){Array.isArray(e)||(e=[e]);var o=0,i=0,a=t.append("text");"object"===(void 0===n?"undefined":r(n))&&a.style(n);for(var s=e.length-1;s>=0;s--){var l=a.text(e[s]).getBBox();l.width>i&&(i=l.width),l.height>o&&(o=l.height)}return a.remove(),{width:i,height:o}},updateDimension:function(t,e,n){var o=scope.dimensions;if(null===e||!1===e)return o[t]={width:0,height:0},o[t];if("object"===(void 0===e?"undefined":r(e))&&"number"==typeof e.width&&"number"==typeof e.height)return o[t]=e,o[t];var i=[0],a=[0];"function"==typeof e.selectAll&&e.each((function(){var t=this.getBBox();a.push(t.width),i.push(t.height)})),e instanceof jQuery&&e.each((function(){var t=$(this);a.push(t.outerWidth(!0)),i.push(t.outerHeight(!0))}));var s={width:_.max(a),height:_.max(i)};return s=function(t){return null==n||("number"==typeof n["margin-bottom"]&&(t.height+=n["margin-bottom"]),"number"==typeof n["margin-top"]&&(t.height+=n["margin-top"]),"number"==typeof n["margin-left"]&&(t.width+=n["margin-left"]),"number"==typeof n["margin-right"]&&(t.width+=n["margin-right"])),t}(s),o[t]=s,s},getDimension:function(t){var e=scope.dimensions;return!!e[t]&&e[t]},newConverter:function(){return momentService.newConverter(scope.dataStore.groups)},updateAction:function(t,e){scope.actions[t]=e},execAction:function(){var t=scope.actions,e=[].slice.apply(arguments),n=e[0],r=function r(o){var i=t[n];"function"==typeof i?i.apply(null,_.rest(e)):++o<50&&setTimeout((function(){r(o)}),500)};return r(1),this},inModus:function(t){try{return!0===$parse("inModus(localMode)")(scope.$parent,{localMode:t})}catch(t){return!1}},stats:function(t,e){try{var n=scope.$parent.onWidgetInteract;"function"==typeof n&&n(t,e)}catch(t){window.console&&window.console.error(t)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Wizard3=void 0;var r=n(33),o=(n(7),n(34)),i=n(8),a=n(35),s=n(36),l=(n(37),n(38)),u=n(39);e.Wizard3=function(t,e,n){var c,g,d,f,p=0,h=0,m=0,y={},v={},b={getHooks:function(){return n},getUtils:function(){return c},getSettings:function(){return e.getSettingsRaw()},getSettingsObject:function(){return g},getDatastore:function(){return e.getDataStoreRaw()},getRows:function(){for(var t=[],e=0,n=b.countRows();e<n;e++)t.push((0,a.Row)(b,e));return t},getRow:function(t){return(0,a.Row)(b,t)},getGroups:function(){for(var t=b.getSettings(),e=[],n=0,r=t.col+t.row;n<r;n++)e.push((0,o.Group)(b,n));return e},getGroupsFromRaw:function(){for(var t=b.getDatastore(),e=[],n=0,r=t.groups.length;n<r;n++){var i=t.groups[n];e.push((0,o.Group)(b,i.key))}return e},getGroupsFromRawSkipEmpty:function(){for(var t=[],e=b.getGroupsFromRaw(),n=0,r=e.length;n<r;n++){var o=e[n];e.isType("empty")||t.push(o)}return t},getGroup:function(t){var e=b.getDatastore();if("number"==typeof t)for(var n=0,r=e.groups.length;n<r;n++)if((i=e.groups[n]).key===t)return(0,o.Group)(b,i.key);for(n=0,r=e.groups.length;n<r;n++){var i;if((i=e.groups[n]).type===t)return(0,o.Group)(b,i.key)}return null},getGroupFromRaw:function(t){var e=b.getDatastore();if("number"==typeof t&&e.groups[t]){var n=e.groups[t];return(0,o.Group)(b,n.key)}return null},swapGroupsRaw:function(t,e){var n=t.getOrder(),r=e.getOrder(),o=b.getDatastore().groups,i=o[n];o[n]=o[r],o[r]=i;for(var a=0,s=o.length;a<s;a++)o[a].order=a;return b},getItem:function(t){for(var e=b.getDatastore(),n=0,r=e.items.length;n<r;n++){var a=e.items[n];if(a.key===t){var s=(0,o.Group)(b,a.group);return(0,i.Item)(s,a)}}return null},getSheet:function(){var t=b.getDriveUrl(),n=b.getDriveStatus();return!0===n?v[t]:!1===n||null===n?{}:e.getSettingsRaw().sheetNew},asTsv:function(){var t=[];return b.getRows().forEach((function(e){var n=[];e.getCells().forEach((function(t){n.push(t.getValue())})),t.push(n.join("\t"))})),t.join("\n")},countRows:function(){return h},countColumns:function(){return m},getColSettings:function(){return b.getSettings().col},setColSettings:function(t){"number"!=typeof t&&(t=parseInt(t,10)),t<0&&(t=0),b.getSettings().col=t,b.update()},getRowSettings:function(){return b.getSettings().row},setRowSettings:function(t){"number"!=typeof t&&(t=parseInt(t,10)),t<0&&(t=0),b.getSettings().row=t,b.update()},getSeperator:function(){return b.getSettings().seperator},setSeperator:function(t){b.getSettings().seperator=t,b.update()},addGroup:function(t){var e=b.getDatastore(),n=e.groups.length,r={clusters:[],key:n,label:"",locationKey:null,locationYear:null,momentInput:null,momentOutput:null,order:n,periodFormat:null,periodKey:null,sub:null,type:t,zoneKey:null};e.groups.push(r)},setDriveUrl:function(t){b.getSettings().driveUrl=t,b.update()},getDriveUrl:function(){return b.getSettings().driveUrl},getDriveStatus:function(){var t=b.getDriveUrl();if("string"==typeof t&&t.length&&v.hasOwnProperty(t))return null===v[t]?null:!1!==v[t]},autoDetect:function(t){var e=(0,r.Autodetect)(b),n=e.getDimensions();!1!==n&&(b.setRowSettings(n[0]),b.setColSettings(n[1]));var o=e.getSeperator();o&&b.setSeperator(o),e.getPeriodGroup((function(e){e&&(e.group.setType("period"),e.group.setMomentFormat(e.key)),t()}))},update:function(){var t=b.getDriveUrl();if("string"==typeof t&&t.length&&(v.hasOwnProperty(t)||(v[t]=null,b.getHooks().getDrive(t,(function(e){!1!==e&&e.length?v[t]=b.getUtils().parseSheet(e):v[t]=!1,b.update()})))),null!==b.getDriveStatus()&&!1!==b.getDriveStatus()){var n=b.getDatastore(),r=b.getSettings();"string"!=typeof r.activeChart&&(r.activeChart="bar"),"string"!=typeof r.availableCharts&&(r.availableCharts="bar,barstacked,line,column,stacked,pie,scatter"),"number"!=typeof r.col&&(r.col=1),"number"!=typeof r.row&&(r.row=1),"string"!=typeof r.seperator&&(r.seperator="dot");var o=r.col+r.row;!function(){h=0,m=0;for(var t=b.getSheet(),e=Object.keys(t),n=0,r=e.length;n<r;n++){var o=e[n].split(","),i=parseInt(o[0],10),a=parseInt(o[1],10);i>h&&(h=i),a>m&&(m=a)}h++,m++}(),n.groups.forEach((function(t,e){t.order=e}));var i=null;for((c=b.getGroup("empty"))&&(i=c.getData().order),n.groups=n.groups.filter((function(t){return"empty"!==t.type}));n.groups.length<o;)b.addGroup("filter");for(;n.groups.length>o;)n.groups.pop();b.addGroup("empty"),"number"==typeof i&&(b.getGroup("empty").getData().order=i),n.groups.sort((function(t,e){return t.order-e.order}));for(var a=[],s=0,l=n.groups.length;s<l;s++){var u=n.groups[s];a.push(u.key)}a.sort((function(t,e){return t-e})),a.forEach((function(t,e){for(var r=0,o=n.groups.length;r<o;r++){var i=n.groups[r];if(i.key===t)return void(i.key=e)}}));var c,g,d=[],f=[];if(y={},b.getGroups().forEach((function(t){var e=[];t.getCells().forEach((function(r){var o=function(t,e){for(var r=t.getValue(),o=e.getKey(),i=0,a=n.items.length;i<a;i++){var s=n.items[i];if(r===s.label&&s.group===o)return s}return null}(r,t);if(o)d.push(o.key),e.push(o.key);else{var i=t.addItem();i.setLabel(r.getValue()),i.setOrigin(r.getValue()),d.push(i.getKey()),e.push(i.getKey())}})),f[t.getKey()]=e})),n.items=n.items.filter((function(t){return-1!==d.indexOf(t.key)})),b.getGroups().forEach((function(t){var e;t.getActiveItems().length||(e=t.getItems()).length&&e[0].setActive(!0),t.getCurrentItem()||(e=t.getItems()).length&&e[0].setCurrent()})),c=b.getGroup("empty")){var x=c.addItem();x.setCurrent(),g=x.getKey()}b.getGroups().forEach((function(t){t.isType("period")&&t.getItems().forEach((function(t){var n=e.stretch.create(t).labelToMoment();t.setMoment(n)}))}));var w=[];for(b.getGroups().forEach((function(t){t.isType("period")?!t.isMomentFormat("custom")&&t.hasValidMoments()?t.getItems().sort((function(t,e){var n=-1*t.getKey(),r=-1*e.getKey();return"string"==typeof t.getMoment()&&(n=parseInt(t.getMoment(),10)),"string"==typeof e.getMoment()&&(r=parseInt(e.getMoment(),10)),n-r})).forEach((function(t){w.push(t)})):t.getItems().sort((function(t,e){return t.getNaturalOrder()-e.getNaturalOrder()})).forEach((function(t){w.push(t)})):t.getItems().forEach((function(t){w.push(t)}))})),s=0;s<n.items.length;s++){for(var M=n.items[s],Y=!1,k=0;k<w.length;k++){var S=w[k];if(M.key===S.getKey()){M.order=k,Y=!0;break}}Y||(M.order=1e6+M.key)}n.items.sort((function(t,e){return t.order-e.order})),!0===b.getDriveStatus()&&b.getGroups().forEach((function(t){if(t.isType("period")){var e=t.getItems();e.forEach((function(t){t.setActive(!0)})),e.length&&e[e.length-1].setCurrent()}})),b.getRows().forEach((function(t){t.getCells().forEach((function(e){var n=t.getKey(),o=e.getKey();if(e.isValueCell()){for(var i=[g],a=0,s=0,l=r.row;s<l;s++)i.push(f[a][o-r.col]),a++;s=0;for(var u=r.col;s<u;s++)i.push(f[a][n-r.row]),a++;var c=i.sort((function(t,e){return t-e})).join(",");y[c]=e,e.setQueryKey(c)}}))})),p+=1}},getLastUpdate:function(){return p},getRecordMap:function(){return y},query:function(t){for(var e={records:{},polygons:[]},n=0,r=t.length;n<r;n++){var o=t[n],i=null;if(y.hasOwnProperty(o.keys)){var a=y[o.keys].parseNumber();!1!==a&&null!==a&&(i=a)}e.records[o.keys]={value:i,current:o.current,location:!1,legend:o.legend,horizontal:o.horizontal}}return e},queryRecord:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=b.getRecordMap(),r=[t.getKey()],o=1;for(e&&(r.push(e.getKey()),o=2);;){var i=b.getGroupFromRaw(o);if(!i)break;var a=i.getCurrentItem();r.push(a.getKey()),o+=1}var s=r.sort((function(t,e){return t-e})).join(",");return n.hasOwnProperty(s)?n[s]:{parseNumber:function(){return null},setAnnotationPosition:function(){}}},queryRecords:function(t,e){b.getSettingsObject().getChartType();for(var n=b.getRecordMap(),r=[],o=[],i=[],a=[],s=0;;){var l=b.getGroupFromRaw(s);if(!l)break;(e&&1===s?[e]:l.isInteractiveGroup()&&t.settings.getAdjust()?[l.getCurrentItem()]:l.getActiveItems()).forEach((function(e){if((0!==s||"primary"!==t.getSub()||!e.isAxisSecondary())&&(0!==s||"secondary"!==t.getSub()||e.isAxisSecondary())){var n=e.getKey().toString();0===s?o.push(n):1===s?i.push(n):r.push(n)}})),s+=1}for(var u in n)if(n.hasOwnProperty(u)){for(var c=u.split(","),g=!0,d=null,f=null,p=0;p<c.length;p++){var h=c[p];if(-1!==o.indexOf(h))d=parseInt(h,10);else if(-1!==i.indexOf(h))f=parseInt(h,10);else if(-1===r.indexOf(h)){g=!1;break}}g&&a.push({legendItem:b.getItem(d),haxisItem:b.getItem(f),record:n[u]})}return a},getDomain:function(t){var n=[],r=b.getSettingsObject().getChartType();if("scatter"===r){var o,i=e.wizard3.getGroupFromRaw(0).getActiveItems();o="primary"===t.getSub()?i[0]:i[1],e.wizard3.getGroupFromRaw(1).getActiveItems().forEach((function(t){var e=b.queryRecord(o,t);if(e){var r=e.parseNumber();"number"==typeof r&&n.push(r)}}))}else if("stacked"===r||"barstacked"===r)e.wizard3.getGroupFromRaw(1).getActiveItems().forEach((function(e){var r=0;b.queryRecords(t,e).forEach((function(t){var e=t.record.parseNumber();"number"==typeof e&&(t.legendItem.isLine()?n.push(e):r+=e)})),n.push(r)}));else if("pie"===r){var a=0;b.queryRecords(t).forEach((function(t){var e=t.record.parseNumber();"number"==typeof e&&(a+=e)})),n.push(a)}else b.queryRecords(t).forEach((function(t){var e=t.record.parseNumber();"number"==typeof e&&n.push(e)}));t.settings.getStartAtZero()&&n.push(0),0===n.length&&n.push(0);for(var s=-1*Number.MAX_VALUE,l=Number.MAX_VALUE,u=0;u<n.length;u++){var c=n[u];c>s&&(s=c),c<l&&(l=c)}var g=t.settings.getManualMaxValue(),d=t.settings.getManualMinValue();return"number"==typeof g&&g>s&&(s=g),"number"==typeof d&&d<l&&(l=d),l===s&&(s+=1),[l,s]},setAnnotationPosition:function(t,e,n){var r=t.getQueryKey();return"string"==typeof r&&(x[r]={key:r,x:e,y:n}),b},resetAnnotationPostions:function(){return x={},b},getAnnotationPostions:function(){var t=b.getSettingsObject().getAnnotations(),e=[];return t&&t.length?(t.forEach((function(t){var n=t.key;if(x.hasOwnProperty(n)){var r=x[n];e.push({key:n,x:r.x,y:r.y,annotation:t.annotation,annotationDistance:t.annotationDistance,annotationPosition:t.annotationPosition,annotationClean:t.annotationClean,color:"#000000"})}})),e):[]},getErrorCode:function(){return d.getErrorCode()},hasError:function(){return d.hasError()},getDataFactory:function(){return e},getComponent:function(){return t}},x={};return c=(0,l.Utils)(b),g=(0,s.Settings)(b),d=(0,u.Errors)(b),(f=e.getSettingsRaw()).sheetNew&&"[object Object]"===Object.prototype.toString.call(f.sheetNew)||(f.sheetNew={}),b.update(),b}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Autodetect=function(t){var e=function(t,e,n){var r={getKey:function(){return e},isHorizontal:function(){return e<n.row},getCells:function(){var o=[];if(r.isHorizontal())for(var i=(u=t.getRow(e)).getCells(),a=0,s=i.length;a<s;a++)(c=i[a]).getKey()>=n.col&&o.push(c);else{var l=t.getRows();for(a=0,s=l.length;a<s;a++){var u;if((u=l[a]).getKey()>=n.row){var c=u.getCell(e-n.row);o.push(c)}}}return o},getUniqueCells:function(){for(var t=r.getCells(),e=[],n=[],o=0,i=t.length;o<i;o++){var a=t[o],s=a.getValue();-1===n.indexOf(s)&&(e.push(a),n.push(s))}return e}};return r},n=function(n,r){if(0===n&&1===r&&!1===t.getRow(0).getCell(1).parseNumber())return!1;for(var o=1,i=0;i<n+r;i++)o*=e(t,i,{row:n,col:r}).getUniqueCells().length;return o===(t.countRows()-n)*(t.countColumns()-r)};return{getDimensions:function(){for(var e=t.countRows(),r=t.countColumns(),o=0;o<e;o++)for(var i=0;i<r;i++)if(!(o>10||i>10)&&!(r-i!=1&&0===o||e-o!=1&&0===i)&&n(o,i))return[o,i];return!1},getSeperator:function(){var e=[];return t.getRows().forEach((function(t){t.getCells().forEach((function(t){t.isValueCell()&&e.push(t)}))})),function(e){for(var n=0,r=e.length;n<r;n++){var o=e[n].getValue();if(!1!==t.getUtils().isValidNumber(o))for(var i=o.length-1;i>=0;i--){var a=o[i],s=o.length-1-i;if("."===a&&3!==s)return"dot";if(","===a&&3!==s)return"comma"}}var l={thousandDot:0,thousandComma:0};for(n=0,r=e.length;n<r;n++)if(o=e[n].getValue(),!1!==t.getUtils().isValidNumber(o))for(i=o.length-1;i>=0;i--)a=o[i],s=o.length-1-i,"."===a&&3===s&&(l.thousandDot+=1),","===a&&3===s&&(l.thousandComma+=1);return l.thousandDot>l.thousandComma?"comma":l.thousandComma>=l.thousandDot?"dot":"none"}(e)},getPeriodGroup:function(e){var n=[];t.getGroups().forEach((function(t){n.push(t)}));var r=[];!function o(){var i=n.pop();i?t.getDataFactory().stretch.autoDetectMomentInput(i,(function(t){t.forEach((function(t){r.push({key:t.key,count:t.count,group:i})})),o()})):r?(r.sort((function(t,e){return t.count-e.count})),e(r.pop())):e(null)}()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;var r=n(8);e.Group=function(t,e){var n=null,o={getKey:function(){return e},isHorizontal:function(){var n=t.getSettings();return e<n.row},getCells:function(){var n=t.getSettings(),r=[];if(o.isHorizontal())for(var i=(u=t.getRow(e)).getCells(),a=0,s=i.length;a<s;a++)(c=i[a]).getKey()>=n.col&&r.push(c);else{var l=t.getRows();for(a=0,s=l.length;a<s;a++){var u;if((u=l[a]).getKey()>=n.row){var c=u.getCell(e-n.row);r.push(c)}}}return r},getUniqueCells:function(){for(var t=o.getCells(),e=[],n=[],r=0,i=t.length;r<i;r++){var a=t[r],s=a.getValue();-1===n.indexOf(s)&&(e.push(a),n.push(s))}return e},getTypes:function(){var t=o.getType(),e=["filter","period","unit"],n=["period","unit"],r=[];return["filter","period","unit","location","empty"].forEach((function(o){r.push({key:o,active:t===o,isSelectable:-1!==e.indexOf(o),onlyOne:-1!==n.indexOf(o)})})),r},isType:function(t){return o.getType()===t},getType:function(){return o.getData().type},setType:function(t,n){var r=o.getData();-1!==["period","unit"].indexOf(t)&&o.getParent().getGroups().forEach((function(n){n.getKey()!==e&&n.isType(t)&&n.setType("filter",!0)})),r.type=t,!0!==n&&o.getParent().update()},isMomentFormat:function(t){return o.getMomentFormat()===t},hasValidMoments:function(){if(!o.isType("period"))return!1;if(o.isMomentFormat("custom"))return!1;for(var t=o.getItems(),e=0,n=t.length;e<n;e++)if(!t[e].isValidMoment())return!1;return!0},getMomentFormat:function(){return o.getData().momentInput},setMomentFormat:function(t){o.getData().momentInput=t,o.getParent().update()},getMomentFormats:function(){var t=[];return o.isType("period")&&(o.getParent().getDataFactory().stretch.getFormatsRaw().forEach((function(e){t.push(e)})),t.push({key:"custom",label:{nl:"Eigen formaat",en:"Custom format"}})),t},isMomentOutputFormat:function(t){return o.getMomentOutputFormat()===t},getMomentOutputFormat:function(){return o.getData().momentOutput},setMomentOutputFormat:function(t){o.getData().momentOutput=t,o.getParent().update()},getMomentOutputFormats:function(){return o.getParent().getDataFactory().stretch.getMomentOutput(o)},getItems:function(){for(var n=t.getDatastore(),i=[],a=0,s=n.items.length;a<s;a++){var l=n.items[a];l.group===e&&i.push((0,r.Item)(o,l))}return i},getItem:function(t){for(var e=o.getItems(),n=0,r=e.length;n<r;n++){var i=e[n];if(i.getKey()===t)return i}return null},countItems:function(){return o.getItems().length},addItem:function(){var n=t.getDatastore(),i=function(){if(o.isType("empty"))return 1e7;for(var e=t.getDatastore(),n=0,r=0,i=e.items.length;r<i;r++){var a=e.items[r];a.key<1e7&&a.key>n&&(n=a.key)}return n+1}(),a={active:!0,axisSecondary:null,clusters:null,color:null,current:!1,dashedLine:null,directLabel:null,formatAxis:"##",formatTooltip:"##",group:e,isLine:null,key:i,label:"",location:null,moment:null,order:16e5,origin:"",sub:null,year:null};return n.items.push(a),(0,r.Item)(o,a)},getActiveItems:function(){for(var t=o.getItems(),e=[],n=0,r=t.length;n<r;n++){var i=t[n];i.isActive()&&e.push(i)}return e},getFirstActiveItem:function(){var t=o.getActiveItems();return t.length?t[0]:null},getLastActiveItem:function(){var t=o.getActiveItems();return t.length?t[t.length-1]:null},countActiveItems:function(){return o.getActiveItems().length},getCurrentItem:function(){for(var t=o.getItems(),e=0,n=t.length;e<n;e++){var r=t[e];if(r.isCurrent())return r}return null},getData:function(){if(null!==n)return n;for(var r=t.getDatastore(),o=0,i=r.groups.length;o<i;o++){var a=r.groups[o];if(a.key===e)return n=a,a}return null},setLabel:function(t){o.getData().label=t,o.getParent().update()},getParent:function(){return t},getOrder:function(){return o.getData().order},isLastGroupFromRaw:function(){return o.getOrder()===o.getParent().getGroupsFromRaw().length-1},isFirstGroupFromRaw:function(){return 0===o.getOrder()},getLabel:function(){var t=o.getData();return"string"==typeof t.label?t.label:""},isInteractiveGroup:function(){var e=t.getSettingsObject().getChartType(),n=o.getOrder();return"pie"===e&&n>=1||n>=2},getSortDropdown:function(){return!0===o.getData().sortDropdown}};return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Row=void 0;var r=n(7);e.Row=function(t,e){var n={getKey:function(){return e},getCells:function(){for(var e=[],o=0,i=t.countColumns();o<i;o++)e.push((0,r.Cell)(n,o));return e},getCell:function(t){return(0,r.Cell)(n,t)},getUniqueCells:function(){for(var e=[],o=[],i=0,a=t.countColumns();i<a;i++){var s=(0,r.Cell)(n,i),l=s.getValue();-1===o.indexOf(l)&&(e.push(s),o.push(l))}return e},getParent:function(){return t}};return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=function(t){var e={getParent:function(){return t},getSettingsRaw:function(){return e.getParent().getSettings()},getChartType:function(){return e.getSettingsRaw().activeChart},isChartType:function(t){var n=e.getSettingsRaw();if("string"==typeof t)return n.activeChart===t;for(var r=0;r<t.length;r++)if(t[r]===n.activeChart)return!0;return!1},getChartDimensionTypesCount:function(){return e.isChartType("pie")?2:3},hasDirectLabels:function(){var t=e.getSettingsRaw();return!(!t.scale||!t.scale.directLabels)},getSort:function(){var t=e.getSettingsRaw();if(e.isChartType(["bar","barstacked","pie"])){if("asc"===t.sort)return"asc";if("desc"===t.sort)return"desc"}if(e.isChartType(["column","stacked"])){if("asc"===t.sortRegular)return"asc";if("desc"===t.sortRegular)return"desc"}return null},getDotSize:function(){var t=e.getSettingsRaw();return"large"===t.scatterSize?7:"small"===t.scatterSize?3:5},getScatterStyle:function(){return"open"===e.getSettingsRaw().scatterStyle?"open":null},getScatterConnect:function(){return!0===e.getSettingsRaw().scatterConnect},getContinueLines:function(){return!0===e.getSettingsRaw().continueLines},getPieLayout:function(){var t=e.getSettingsRaw();return"normal"===t.pieLayout?"normal":"election"===t.pieLayout?"election":"donut"},hasPieCenterLabel:function(){return!0===e.getSettingsRaw().pieCenterLabel&&"donut"===e.getPieLayout()},getAnnotations:function(){return e.getSettingsRaw().records}};return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={FirstCell:function(t){var e={getKey:function(){return"FirstCell-"+t.getKey()},getValue:function(){var e=t.getKey();return"FirstRow"===e?"":e+1},isValid:function(){return!0},isGroupCell:function(){return!1},isFirstCell:function(){return!1},isBorderCell:function(n){return void 0===n||!n.isBorderCell()&&"FirstCell-FirstRow"===e.getKey()||!n.isBorderCell()&&n.getParent().getKey()===t.getKey()},getParent:function(){return t},disableEditing:!0};return e},FirstRow:function(t){var e=this,n={getKey:function(){return"FirstRow"},getCell:function(t){return e.FirstRowCell(n,t)},getParent:function(){return t}};return n},FirstRowCell:function(t,e){return{getKey:function(){return"FirstRowCell-"+e},getValue:function(){return function(t){t++;for(var e="",n=1,r=26;(t-=n)>=0;n=r,r*=26)e=String.fromCharCode(parseInt(t%r/n)+65)+e;return e}(e)},isValid:function(){return!0},isGroupCell:function(){return!1},isFirstCell:function(){return!1},isBorderCell:function(t){return void 0===t||t.getKey()===e},getParent:function(){return t},disableEditing:!0}},setEndOfContenteditable:function(t){var e,n;document.createRange?((e=document.createRange()).selectNodeContents(t),e.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(e)):document.selection&&((e=document.body.createTextRange()).moveToElementText(t),e.collapse(!1),e.select())}};e.spreadsheet=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=function(t){var e={},n={};return{parseSheet:function(t){for(var e={},n=0,r=t.length;n<r;n++)for(var o=t[n],i=0,a=o.length;i<a;i++){var s=o[i];e[n+","+i]=s}return e},parseNumber:function(n){return function(t,n){var r=46,o=44,i=!0;if("none"===n?i=!1:"comma"===n&&(r=44,o=46),"string"!=typeof t)return!1;var a=t.length;if(!a)return!1;if("-"===t||"."===t||"?"===t||","===t)return null;var s=function(t,e,n,r){var o="";return o+=t?t+"|":"|",o+=e?e+"|":"|",(o+=n?"y|":"n|")+r}(r,o,i,t);if(e.hasOwnProperty(s))return e[s];for(var l=!1,u="",c=0;c<a;c++){var g=t[c],d=g.charCodeAt(0);if(c||45!==d){if(i||d!==r&&d!==o)if(d===r){if(l)return!1;l=!0,u+="."}else if(d===o||8364===d||37===d||36===d);else{if(d<48||d>57)return!1;u+=g}}else u+="-"}var f=+u;return e[s]=f,f}(n,t.getSeperator())},isValidNumber:function(t){if("string"!=typeof t)return!1;var e=t.length;if(!e||"-"===t||"."===t||","===t)return!1;if(n.hasOwnProperty(t))return n[t];for(var r=!1,o="",i=0;i<e;i++){var a=t[i],s=a.charCodeAt(0);if(i||45!==s)if(44===s||46===s){if(r)return!1;r=!0,o+="."}else{if(s<48||s>57)return!1;o+=a}else o+="-"}var l=+o;return n[t]=l,l}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Errors=function(t){var e=[{label:"addDataset",code:1,test:function(){var e=t.getDatastore();return!(!e.items||e.items.length<=1)}},{label:"twoAxes",code:2,test:function(){var e=t.getGroupFromRaw(0);return t.getDatastore(),!t.getSettingsObject().isChartType("scatter")||2===e.countActiveItems()}},{label:"noSelection",code:3,test:function(){for(var e=t.getGroupsFromRaw(),n=0;n<e.length;n++){var r=e[n];if(0===r.countActiveItems()||!r.getCurrentItem())return!1}return!0}},{label:"negativeValues",code:4,test:function(){var e=t.getDataFactory();return!(t.getSettingsObject().isChartType(["stacked","barstacked","pie"])&&t.getDomain(e.vaxis)[0]<0)}}],n={getErrorCode:function(){for(var t=0;t<e.length;t++){var n=e[t];if(!0!==n.test())return console.info("Wizard3 Error: "+n.label+" (code "+n.code+")"),n.code}return 0},hasError:function(){return 0!==n.getErrorCode()}};return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=r(t);var e=[],n=[],o={a:"áàâäãåăą",u:"úùûüų",e:"éèêëęěė",o:"óòôöõő",i:"íìîïī",oe:"œ",c:"çč",n:"ńñň",s:"şšś",y:"ý",z:"žź",t:"ţ",l:"ł",r:"ř"};for(var i in o)if(o.hasOwnProperty(i))for(var a=o[i],s=0;s<a.length;s++)e.push(a[s]),n.push(i);var l={},u={},c={},g={utils:null,lazyResolve:function(t,e,n){for(var r=e.split("."),o=r.pop(),i=t,a=0;a<r.length;a++){var s=r[a];void 0!==i[s]&&(i=i[s])}return void 0===i[o]?n:i[o]},lazySet:function(t,e,n){for(var r=e.split("."),o=r.pop(),i=t,a=0;a<r.length;a++){var s=r[a];void 0===i[s]&&(i[s]={}),i=i[s]}i[o]=n},isValidColor:function(t,e){if("string"!=typeof t)return!1;if("transparent"===t||"none"===t)return t;var n=t.length;if(4!==n&&7!==n)return!1;if(!0===e&&7!==n)return!1;for(var r=0;r<n;r++){var o=t.charCodeAt(r);if(r){if(!(o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=90))return!1}else if(35!==o)return!1}return t},isValidNumber:function(t){if("string"!=typeof t)return!1;var e=t.length;if(!e||"-"===t||"."===t||","===t)return!1;if(l.hasOwnProperty(t))return l[t];for(var n=!1,r="",o=0;o<e;o++){var i=t[o],a=i.charCodeAt(0);if(o||45!==a)if(44===a||46===a){if(n)return!1;n=!0,r+="."}else{if(a<48||a>57)return!1;r+=i}else r+="-"}var s=+r;return l[t]=s,s},isValidPositiveNumber:function(t){var e=g.isValidNumber(t);return!1!==e&&e>=0&&e},isValidLatLng:function(t){var e=g.isValidNumber(t);return!(!1===e||e<-180||e>180)&&e},isValidUrl:function(t){return!("string"!=typeof t||!t.length)&&(t.match(/^[a-zA-Z]+:\/\//)?t:"https://"+t)},isValidHttpsUrl:function(t){var e=g.isValidUrl(t);return!1!==e&&0===e.indexOf("https://")&&e},compareString:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof t&&"string"==typeof e&&(n&&(t=g.normalizeString(t)),r&&(e=g.normalizeString(e)),t===e)},searchString:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof t&&"string"==typeof e&&(n&&(t=g.normalizeString(t)),r&&(e=g.normalizeString(e)),-1!==t.indexOf(e))},normalizeString:function(t){if("string"!=typeof t)return"";if(u.hasOwnProperty(t))return u[t];for(var r=t.toLowerCase(),o="",i=0,a=(r=g.trim(r)).length;i<a;i++){var s=r[i],l=e.indexOf(s);o+=-1===l?s:n[l]}return u[t]=o,o},trim:function(t){for(;t.length&&" "===t[0];)t=t.substr(1);for(;t.length&&" "===t[t.length-1];)t=t.substring(0,t.length-1);return t},isDarkColor:function(t){if("string"!=typeof t)return!1;if("transparent"===t||"none"===t)return!1;if(c.hasOwnProperty(t))return c[t];var e,n,r,o=t;return o.match(/^rgb/)?(e=(o=o.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],n=o[2],r=o[3]):(e=(o=+("0x"+o.slice(1).replace(o.length<5&&/./g,"$&$&")))>>16,n=o>>8&255,r=255&o),Math.sqrt(e*e*.299+n*n*.587+r*r*.114)>127.5?(c[t]=!1,!1):(c[t]=!0,!0)},debounce:function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}},calculateBoundaries:function(t,e){var n=t.append("svg"),r=n.append(e).getBBox();return n.remove(),r}};return g};var r=function(t){return{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:1e3,create:function(t,e,n){t.AppLibraries.get("elements"),e.style({position:"absolute",top:"0",right:"0",bottom:"0",left:"0",overflow:"hidden"}),t.watch((function(){var r=[n.getActiveChart()];n.wizard3.hasError()&&(r=[]),e.merge({items:r,key:function(t){return t},append:"div",enter:function(e,r){e.style({position:"absolute",top:"0",right:"0",bottom:"0",left:"0",overflow:"hidden"}),n.dimensions.set("Window",e);var o=r.charAt(0).toUpperCase()+r.slice(1);t.attach("ChartRoot"+o,e.attr("class","chart-root-div"),n)},exit:function(e){t.detach(e),e.remove()},update:function(t,e){n.dimensions.set("Window",t)}})}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,template:r.template,create:function(t,e,n){t.attach("KickStart",e.select("[lfkickstart]"),n),t.attach("Svg",e.select("[lfsvg]"),n),t.attach("Story",e.select("[lfstory]"),n),t.attach("Description",e.select("[lfdescription]"),n),t.attach("Interactive",e.select("[lfinteractive]"),n),t.attach("Legend",e.select("[lflegend]"),n),t.attach("Footer",e.select("[lffooter]"),n),t.attach("Haxis",e.select("[lfhaxis]"),n),t.attach("Vaxis",e.selectAll("[lfvaxis]").get(0),n),t.attach("Vaxis",e.selectAll("[lfvaxis]").get(1),n),t.attach("Domain",e.select("[lfdomain]"),n),t.attach("ColumnBars",e.select("[lfcolumnbars]"),n),t.attach("Annotations",e.select("[lfannotations]"),n),t.attach("Tooltip",e.select("[lfcharttooltip]"),n)}}};var r=n(10)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,template:r.template,create:function(t,e,n){t.attach("KickStart",e.select("[lfkickstart]"),n),t.attach("Svg",e.select("[lfsvg]"),n),t.attach("Story",e.select("[lfstory]"),n),t.attach("Description",e.select("[lfdescription]"),n),t.attach("Interactive",e.select("[lfinteractive]"),n),t.attach("Legend",e.select("[lflegend]"),n),t.attach("Footer",e.select("[lffooter]"),n),t.attach("Haxis",e.select("[lfhaxis]"),n),t.attach("Vaxis",e.selectAll("[lfvaxis]").get(0),n),t.attach("Vaxis",e.selectAll("[lfvaxis]").get(1),n),t.attach("Domain",e.select("[lfdomain]"),n),t.attach("ColumnStacked",e.select("[lfcolumnbars]"),n),t.attach("Annotations",e.select("[lfannotations]"),n),t.attach("Tooltip",e.select("[lfcharttooltip]"),n)}}};var r=n(10)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,template:r.template,create:function(t,e,n){t.attach("KickStart",e.select("[lfkickstart]"),n),t.attach("Svg",e.select("[lfsvg]"),n),t.attach("Story",e.select("[lfstory]"),n),t.attach("Description",e.select("[lfdescription]"),n),t.attach("Interactive",e.select("[lfinteractive]"),n),t.attach("Legend",e.select("[lflegend]"),n),t.attach("Footer",e.select("[lffooter]"),n),t.attach("Haxis",e.select("[lfhaxis]"),n),t.attach("Vaxis",e.selectAll("[lfvaxis]").get(0),n),t.attach("Vaxis",e.selectAll("[lfvaxis]").get(1),n),t.attach("Domain",e.select("[lfdomain]"),n),t.attach("Lines",e.select("[lflines]"),n),t.attach("Annotations",e.select("[lfannotations]"),n),t.attach("Tooltip",e.select("[lfcharttooltip]"),n)}}};var r=n(45)},function(t,e,n){"use strict";n.r(e),n.d(e,"template",(function(){return r}));const r='\n<div lfkickstart lfnext="lfsvg"></div>\n<div lfstory lfnext="lfdescription" lfgetstory="story" lfsettings="settings" lftop="0" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<div lfinteractive lfnext="lflegend" lfdatastore="dataStore" lfconfig="config" lfsettings="settings" lftop="dimensions.lfstory.height + dimensions.lfdescription.height" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<svg lfsvg lfnext="lfstory" lfdatastore="dataStore" lfwidth="dimensions.lfwindow.width" lfheight="dimensions.lfwindow.height" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">\n\t<g class="background">\n\t\t<rect></rect>\n\t</g>\n\t<g class="container">\n\t\t<g lfdescription lfnext="lfinteractive" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height">\n\t\t\t<rect class="background"></rect>\n\t\t\t<image class="lfimage"></image>\n\t\t\t<g class="title"></g>\n\t\t\t<g class="description"></g>\n\t\t</g>\n\t\t<g lflegend lfdoubleaxis="yes" lfnext="lffooter" lfdatastore="dataStore" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height"></g>\n\t\t<g lfdomain lfnext="lfcolumnbars" lfsettings="settings" lfveraxis="vaxis" lfhoraxis="haxis" lfhrange="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" lfvrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lffooter.height - dimensions.lfvaxis.height*0.5]"></g>\n\t\t<g lfhaxis lfnext="lfvaxis" lfdatastore="dataStore" lfsettings="settings" lfaxis="haxis" lftype="bands" lforient="bottom" lfrange="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" lfheight="dimensions.lfsvg.height - dimensions.lffooter.height" lftooltip="tooltip"></g>\n\t\t<g lfvaxis lfdoubleaxis="left" lfaxissettings="scale" lfnextfirst="lfvaxisRight precalculate" lfnextsecond="lfvaxisRight" lfdatastore="dataStore" lfsettings="settings" lfaxis="vaxis" lftype="" lforient="left" lfrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lfvaxis.height*0.5 - dimensions.lffooter.height]" lfsize="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" ></g>\n\t\t<g lfvaxis lfdoubleaxis="right" lfaxissettings="scaleSecondary" lfnextfirst="lfhaxis" lfnextsecond="lfdomain" lfdatastore="dataStore" lfsettings="settings" lfaxis="vaxisRight" lftype="" lforient="right" lfrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lfvaxis.height*0.5 - dimensions.lffooter.height]" lfsize="[dimensions.lfsvg.width - dimensions.lfvaxisRight.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" ></g>\n\t\t<g lflines lfnext="lfannotations" lfdatastore="dataStore" lfsettings="settings" lfcharttooltips="tooltip" lftype="normal" lfveraxis="vaxis" lfveraxisright="vaxisRight" lfhoraxis="haxis" lfrecordapi="recordApi"></g>\n\t\t<g lffooter lfnext="lfvaxis precalculate" lfsettings="settings" lfbottom="dimensions.lfsvg.height" lfwidth="dimensions.lfsvg.width">\n\t\t\t<g class="lfsource">\n\t\t\t\t<text class="lfsourcetext"></text>\n\t\t\t\t<a xlink:href="" target="_blank"> <text></text> </a>\n\t\t\t</g>\n\t\t\t<g class="lfcreditline">\n\t\t\t\t<text class="lfextra"></text>\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t\t<g class="lfmadeby">\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t</g>\n\t\t<g lfoverlay></g>\n\t\t<g lfannotations lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>\n\t\t<g lfcharttooltip="tooltip" lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>\n\t</g>\n</svg>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,template:r.template,create:function(t,e,n){t.attach("KickStart",e.select("[lfkickstart]"),n),t.attach("Svg",e.select("[lfsvg]"),n),t.attach("Story",e.select("[lfstory]"),n),t.attach("Description",e.select("[lfdescription]"),n),t.attach("Interactive",e.select("[lfinteractive]"),n),t.attach("Legend",e.select("[lflegend]"),n),t.attach("Footer",e.select("[lffooter]"),n),t.attach("BarFrame",e.select("[lfbarframe]"),n),t.attach("Haxis",e.select("[lfhaxis]"),n),t.attach("Vaxis",e.select("[lfvaxis]"),n),t.attach("Domain",e.select("[lfdomain]"),n),t.attach("BarBars",e.select("[lfbarbars]"),n),t.attach("Annotations",e.select("[lfannotations]"),n),t.attach("Tooltip",e.select("[lfcharttooltip]"),n)}}};var r=n(11)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,template:r.template,create:function(t,e,n){t.attach("KickStart",e.select("[lfkickstart]"),n),t.attach("Svg",e.select("[lfsvg]"),n),t.attach("Story",e.select("[lfstory]"),n),t.attach("Description",e.select("[lfdescription]"),n),t.attach("Interactive",e.select("[lfinteractive]"),n),t.attach("Legend",e.select("[lflegend]"),n),t.attach("Footer",e.select("[lffooter]"),n),t.attach("BarFrame",e.select("[lfbarframe]"),n),t.attach("Haxis",e.select("[lfhaxis]"),n),t.attach("Vaxis",e.select("[lfvaxis]"),n),t.attach("Domain",e.select("[lfdomain]"),n),t.attach("BarStacked",e.select("[lfbarbars]"),n),t.attach("Annotations",e.select("[lfannotations]"),n),t.attach("Tooltip",e.select("[lfcharttooltip]"),n)}}};var r=n(11)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,template:r.template,create:function(t,e,n){t.attach("KickStart",e.select("[lfkickstart]"),n),t.attach("Svg",e.select("[lfsvg]"),n),t.attach("Story",e.select("[lfstory]"),n),t.attach("Description",e.select("[lfdescription]"),n),t.attach("Interactive",e.select("[lfinteractive]"),n),t.attach("Legend",e.select("[lflegend]"),n),t.attach("Footer",e.select("[lffooter]"),n),t.attach("Vaxis",e.selectAll("[lfvaxis]").get(0),n),t.attach("Vaxis",e.selectAll("[lfvaxis]").get(1),n),t.attach("Domain",e.select("[lfdomain]"),n),t.attach("Scatter",e.select("[lfscatterplot]"),n),t.attach("Annotations",e.select("[lfannotations]"),n),t.attach("Tooltip",e.select("[lfcharttooltip]"),n)}}};var r=n(49)},function(t,e,n){"use strict";n.r(e),n.d(e,"template",(function(){return r}));const r='\n<div lfkickstart lfnext="lfsvg"></div>\n<div lfstory lfnext="lfdescription" lfgetstory="story" lfsettings="settings" lftop="0" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<div lfinteractive lfnext="lflegend" lfdatastore="dataStore" lfconfig="config" lfsettings="settings" lftop="dimensions.lfstory.height + dimensions.lfdescription.height" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<svg lfsvg lfnext="lfstory" lfdatastore="dataStore" lfwidth="dimensions.lfwindow.width" lfheight="dimensions.lfwindow.height" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">\n\t<g class="background">\n\t\t<rect></rect>\n\t</g>\n\t<g class="container">\n\t\t<g lfdescription lfnext="lfinteractive" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height">\n\t\t\t<rect class="background"></rect>\n\t\t\t<image class="lfimage"></image>\n\t\t\t<g class="title"></g>\n\t\t\t<g class="description"></g>\n\t\t</g>\n\t\t<g lflegend lfdoubleaxis="yes" lfnext="lffooter" lfdatastore="dataStore" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height"></g>\n\t\t<g lfdomain lfnext="lfcolumnbars" lfsettings="settings" lfveraxis="vaxis" lfhoraxis="haxis" lfhrange="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" lfvrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lffooter.height - dimensions.lfvaxis.height*0.5]"></g>\n\t\t<g lfvaxis lfdoubleaxis="left" lfaxissettings="scale" lfnextfirst="lfvaxisRight precalculate" lfnextsecond="lfvaxisRight" lfdatastore="dataStore" lfsettings="settings" lfaxis="vaxis" lftype="" lforient="left" lfrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lfvaxis.height*0.5 - dimensions.lffooter.height]" lfsize="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" ></g>\n\t\t<g lfvaxis lfdoubleaxis="right" lfaxissettings="scaleSecondary" lfnextfirst="lfhaxis" lfnextsecond="lfdomain" lfdatastore="dataStore" lfsettings="settings" lfaxis="vaxisRight" lftype="" lforient="right" lfrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lfvaxis.height*0.5 - dimensions.lffooter.height]" lfsize="[dimensions.lfsvg.width - dimensions.lfvaxisRight.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" ></g>\n\t\t<g lfscatterplot lfnext="lfannotations" lfdatastore="dataStore" lfsettings="settings" lfcharttooltips="tooltip" lftype="normal" lfveraxis="vaxis" lfveraxisright="vaxisRight" lfhoraxis="haxis" lfrecordapi="recordApi"></g>\n\t\t\n\t\t\n\t\t<g lffooter lfnext="lfvaxis precalculate" lfsettings="settings" lfbottom="dimensions.lfsvg.height" lfwidth="dimensions.lfsvg.width">\n\t\t\t<g class="lfhaxisunit">\n\t\t\t\t<text class="lfhaxisunittext"></text>\n\t\t\t</g>\n\t\t\t<g class="lfsource">\n\t\t\t\t<text class="lfsourcetext"></text>\n\t\t\t\t<a xlink:href="" target="_blank"> <text></text> </a>\n\t\t\t</g>\n\t\t\t<g class="lfcreditline">\n\t\t\t\t<text class="lfextra"></text>\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t\t<g class="lfmadeby">\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t</g>\n\t\n\t\n\t\t\x3c!--<g lffooter lfnext="lfvaxis precalculate" lfsettings="settings" lfbottom="dimensions.lfsvg.height" lfwidth="dimensions.lfsvg.width">\n\t\t\t<g class="lfsource">\n\t\t\t\t<text class="lfsourcetext"></text>\n\t\t\t\t<a xlink:href="" target="_blank"> <text></text> </a>\n\t\t\t</g>\n\t\t\t<g class="lfcreditline">\n\t\t\t\t<text class="lfextra"></text>\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t\t<g class="lfmadeby">\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t</g>--\x3e\n\t\t<g lfoverlay></g>\n\t\t<g lfannotations lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>\n\t\t<g lfcharttooltip="tooltip" lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>\n\t</g>\n</svg>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,template:r.template,create:function(t,e,n){t.attach("KickStart",e.select("[lfkickstart]"),n),t.attach("Svg",e.select("[lfsvg]"),n),t.attach("Story",e.select("[lfstory]"),n),t.attach("Description",e.select("[lfdescription]"),n),t.attach("Interactive",e.select("[lfinteractive]"),n),t.attach("Legend",e.select("[lflegend]"),n),t.attach("Footer",e.select("[lffooter]"),n),t.attach("Domain",e.select("[lfdomain]"),n),t.attach("Pie",e.select("[lfpie]"),n),t.attach("Annotations",e.select("[lfannotations]"),n),t.attach("Tooltip",e.select("[lfcharttooltip]"),n)}}};var r=n(51)},function(t,e,n){"use strict";n.r(e),n.d(e,"template",(function(){return r}));const r='\n<div lfkickstart lfnext="lfsvg"></div>\n<div lfstory lfnext="lfdescription" lfgetstory="story" lfsettings="settings" lftop="0" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<div lfinteractive lfnext="lflegend" lfdatastore="dataStore" lfconfig="config" lfsettings="settings" lftop="dimensions.lfstory.height + dimensions.lfdescription.height" lfwidth="dimensions.lfsvg.width" style="position:absolute"></div>\n<svg lfsvg lfnext="lfstory" lfdatastore="dataStore" lfwidth="dimensions.lfwindow.width" lfheight="dimensions.lfwindow.height" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">\n\t<g class="background">\n\t\t<rect></rect>\n\t</g>\n\t<g class="container">\n\t\t<g lfdescription lfnext="lfinteractive" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height">\n\t\t\t<rect class="background"></rect>\n\t\t\t<image class="lfimage"></image>\n\t\t\t<g class="title"></g>\n\t\t\t<g class="description"></g>\n\t\t</g>\n\t\t<g lflegend lfdoubleaxis="yes" lfnext="lffooter" lfdatastore="dataStore" lfsettings="settings" lfwidth="dimensions.lfsvg.width" lftop="dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height"></g>\n\t\t<g lfdomain lfnext="lfcolumnbars" lfsettings="settings" lfveraxis="vaxis" lfhoraxis="haxis" lfhrange="[dimensions.lfvaxis.width, dimensions.lfsvg.width - dimensions.lfvaxisRight.width]" lfvrange="[dimensions.lfstory.height + dimensions.lfdescription.height + dimensions.lfinteractive.height + dimensions.lflegend.height + dimensions.lfvaxis.height*0.5, dimensions.lfsvg.height - dimensions.lfhaxis.height - dimensions.lffooter.height - dimensions.lfvaxis.height*0.5]"></g>\n\t\t<g lfpie lfnext="lfannotations" lfdatastore="dataStore" lfsettings="settings" lfcharttooltips="tooltip" lftype="normal" lfveraxis="vaxis" lfveraxisright="vaxisRight" lfhoraxis="haxis" lfrecordapi="recordApi"></g>\n\t\t<g lffooter lfnext="lfvaxis precalculate" lfsettings="settings" lfbottom="dimensions.lfsvg.height" lfwidth="dimensions.lfsvg.width">\n\t\t\t<g class="lfsource">\n\t\t\t\t<text class="lfsourcetext"></text>\n\t\t\t\t<a xlink:href="" target="_blank"> <text></text> </a>\n\t\t\t</g>\n\t\t\t<g class="lfcreditline">\n\t\t\t\t<text class="lfextra"></text>\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t\t<g class="lfmadeby">\n\t\t\t\t<a xlink:href="" target="_blank">\n\t\t\t\t\t<text></text>\n\t\t\t\t</a>\n\t\t\t</g>\n\t\t</g>\n\t\t<g lfoverlay></g>\n\t\t<g lfannotations lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>\n\t\t<g lfcharttooltip="tooltip" lfsettings="settings" pointer-events="none" lfwidth="dimensions.lfsvg.width"></g>\n\t</g>\n</svg>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){t.watch((function(){n.wizard3.resetAnnotationPostions()}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){t.watch((function(){e.style(n.style.get("svg.style.root"));var t=n.dimensions.get("Window").width,r=n.dimensions.get("Window").height;e.attr({width:t,height:r});var o=n.style.get("svg.settings.box"),i=n.style.get("svg.style.background");e.select("g.background rect").attr({width:t,height:r}).style(i),e.select(".container").attr("transform","translate("+o["margin-left"]+","+o["margin-top"]+")"),e.parent().select(".barframecontainer").style({position:"absolute",left:o["margin-left"]+"px",top:o["margin-top"]+"px"});var a={width:t-o["margin-right"]-o["margin-left"],height:r-o["margin-bottom"]-o["margin-top"]};n.dimensions.set("Svg",a)}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){t.watch((function(){n.dimensions.set("Story",e)}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){t.watch((function(){var t=n.dimensions.get("Svg").width;e.attr({transform:"translate(0,"+n.dimensions.get("Story").height+")"});var r,o=e.select("g.title").attr({lfedit:"","lfedit-settings":"title"}),i=e.select("g.description").attr({lfedit:"","lfedit-settings":"description"}),a=e.select("image.lfimage"),s={x:0,y:0,width:0,height:0,"xlink:href":null,visibility:"hidden"},l=n.style.get("text.settings.image");l&&l.active&&"string"==typeof l.embed?(r=!0,s.x=t-l.width,s.width=l.width,s.height=l.height,s["xlink:href"]=l.embed,s.visibility="visible",t-=1.1*s.width):r=!1,a.attr(s);var u=n.getSettingsRaw().title;o.style("opacity",null);var c=n.getSettingsRaw().description;i.style("opacity",null),"string"==typeof u&&!0===n.style.get("text.settings.uppercase-title")&&(u=u.toUpperCase()),o.wrapText(u,t,n.style.get("text.style.title"));var g=u?n.style.get("text.settings.margin-title")+o.getBBox().height:0;i.wrapText(c,t,n.style.get("text.style.description")),i.attr({transform:"translate(0,"+g+")",lfshiftdirectedit:g});var d=u||c||r?n.style.get("text.settings.box.margin"):null;n.dimensions.set("Description",e,d)}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){var a=function(t){return t.getKey()+"|"+t.getType()};e.append("div").attr("class","baritems"),(0,r.BackDrop)(e);var u={};t.watch((function(){var r=n.dimensions.get("Story").height+n.dimensions.get("Description").height,c=n.dimensions.get("Svg").width,g=(n.getDataStoreRaw(),n.getSettingsRaw()),d=n.style,f=n.wizard3.getSettingsObject().getChartDimensionTypesCount()-1,p=n.wizard3.getGroupsFromRaw().filter((function(t,e){var n=t.getType();return!("string"===g.type&&("svg"===g.type||"png"===g.type)||e<f||"period"!==n&&"location"!==n&&"unit"!==n&&"filter"!==n||t.countActiveItems()<=1)}));e.select(".baritems").merge({items:p,key:function(t){return a(t)},append:"div",sort:!0,enter:function(e,r){"period"===r.getType()?u[a(r)]=(0,i.Slider)(t,n,e,r):"location"!==r.getType()&&"unit"!==r.getType()&&"filter"!==r.getType()||(u[a(r)]=(0,o.Dropdown)(t,n,e,r)),u[a(r)].enter()},exit:function(t,e){u[e].exit(),delete u[e],t.remove()},update:function(t,e){var r=u[a(e)];s(n,r,t),l(n,r,t,"pre"),r.update(),l(n,r,t,"post")}});var h=d.get("svg.settings.box");e.style({left:h["margin-left"]+"px",top:r+h["margin-top"]+"px",width:c+"px"}),p.length?n.dimensions.set("Interactive",e,n.style.get("interactive.settings.box.margin")):n.dimensions.set("Interactive",null)}))}}},n(57);var r=n(58),o=n(59),i=n(60),a={search:{pre:{barbox:{"background-color":"#FFF",border:"1px solid #CCC","border-radius":"3px",margin:"0em 0.5em 0.5em 0em",position:"relative",padding:"0em","box-shadow":"inset 0 1px 1px rgba(0,0,0,0.04)"},searchbox:{},"searchlabel svg":{position:"absolute",width:"1.4em",height:"1.4em",display:"inline-block","vertical-align":"top","margin-top":"0.44em","margin-left":"0.64em"},"searchlabel svg path":{fill:"#444"},"searchlabel input":{position:"relative","z-index":"2",display:"inline-block","vertical-align":"top","background-color":"transparent",border:"0px",padding:"0.44em 0.64em 0.44em 2.4em"},searchpop:{position:"absolute",left:"-1px",top:"100%",width:"101%","margin-top":"2px","z-index":"100"},searchbase:{"min-width":"200px",overflow:"auto","max-height":"300px","background-color":"#FFF",border:"1px solid #CCC","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2)","border-radius":"3px"}},post:{searchitem:{margin:"0.64em",cursor:"pointer"}}},dropdown:{pre:{barbox:{"background-color":"#FFF",border:"1px solid #CCC","border-radius":"3px",margin:"0em 0.5em 0.5em 0em",position:"relative",padding:"0.44em 0.64em",cursor:"pointer"},dropdownbox:{},dropdownlabel:{height:"100%"},"dropdownlabel div":{display:"inline-block","vertical-align":"top"},"dropdownlabel svg":{width:"1.4em",height:"1.4em",display:"inline-block","vertical-align":"top","margin-left":"0.4em"},"dropdownlabel svg path":{fill:"#444"},dropdownpop:{position:"absolute",left:"-1px",top:"100%",width:"101%","margin-top":"2px","z-index":"100"},dropdownbase:{"min-width":"200px",overflow:"auto","max-height":"300px","background-color":"#FFF",border:"1px solid #CCC","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2)","border-radius":"3px"}},post:{dropdownitem:{padding:"0.32em 0.64em",cursor:"pointer"},dropdownitemactive:{padding:"0.32em 0.64em",cursor:"pointer","background-color":"#333",color:"#FFF"}}},slider:{pre:{barbox:{"background-color":"#FFF",border:"1px solid #CCC","border-radius":"3px",margin:"0em 0.5em 0.5em 0em",position:"relative",padding:"0.44em 0.64em"},sliderbox:{display:"inline-block","vertical-align":"top",width:"6em",height:"0.7em","margin-top":"0.3em","margin-right":"2em",cursor:"pointer","background-color":"#FAFAFA",border:"1px solid #CCC","border-radius":"3px"},sliderhandle:{position:"absolute",top:"0.3em",width:"1.6em",height:"1.6em",border:"1px solid #CCC","background-color":"#f6f6f6","border-radius":"0.3em",cursor:"pointer","box-shadow":"0 1px 4px 0 rgba(0, 0, 0, 0.2)"},"sliderhandle svg":{width:"1.4em",height:"100%"},"sliderhandle path":{fill:"#444"},sliderlabel:{display:"inline-block","vertical-align":"top"}},post:{}}},s=function(t,e,n){for(var r=t.style,o=e.getType(),i=r.get("svg.style.root"),s=r.get("colors.standard"),l=["font-family","font-size","font-weight","font-style","text-decoration"],u=a[o].pre,c=0;c<l.length;c++){var g=l[c];i&&i[g]&&(u.barbox[g]=i[g])}i&&i.fill&&(u.barbox.color=i.fill),"dropdown"===o&&s&&"string"==typeof s[0]&&(a.dropdown.post.dropdownitemactive["background-color"]=s[0])},l=function(t,e,n,r){var o=t.style,i=e.getType(),s=a[i][r],l=n,u=o.get("interactive2.style."+i+"."+r);for(var c in s)if(s.hasOwnProperty(c))if(u&&u[c]){var g=o.get("interactive2.style."+i+"."+r+"."+c);l.selectAll("."+c).attr("style",null).style(g)}else l.selectAll("."+c).attr("style",null).style(s[c])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalFunc={getCurrent:function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].current)return t?e:this.items[e];return{key:null,label:null}},deselectAll:function(){for(var t=0;t<this.items.length;t++)this.items[t].current=!1},unsearchAll:function(){for(var t=0;t<this.items.length;t++)this.items[t].searched=null},initStyle:{search:{pre:{barbox:{"background-color":"#FFF",border:"1px solid #CCC","border-radius":"3px",margin:"0em 0.5em 0.5em 0em",position:"relative",padding:"0em","box-shadow":"inset 0 1px 1px rgba(0,0,0,0.04)"},searchbox:{},"searchlabel svg":{position:"absolute",width:"1.4em",height:"1.4em",display:"inline-block","vertical-align":"top","margin-top":"0.44em","margin-left":"0.64em"},"searchlabel svg path":{fill:"#444"},"searchlabel input":{position:"relative","z-index":"2",display:"inline-block","vertical-align":"top","background-color":"transparent",border:"0px",padding:"0.44em 0.64em 0.44em 2.4em"},searchpop:{position:"absolute",left:"-1px",top:"100%",width:"101%","margin-top":"2px","z-index":"100"},searchbase:{"min-width":"200px",overflow:"auto","max-height":"300px","background-color":"#FFF",border:"1px solid #CCC","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2)","border-radius":"3px"}},post:{searchitem:{margin:"0.64em",cursor:"pointer"}}},dropdown:{pre:{barbox:{"background-color":"#FFF",border:"1px solid #CCC","border-radius":"3px",margin:"0em 0.5em 0.5em 0em",position:"relative",padding:"0.44em 0.64em",cursor:"pointer"},dropdownbox:{},dropdownlabel:{height:"100%"},"dropdownlabel div":{display:"inline-block","vertical-align":"top"},"dropdownlabel svg":{width:"1.4em",height:"1.4em",display:"inline-block","vertical-align":"top","margin-left":"0.4em"},"dropdownlabel svg path":{fill:"#444"},dropdownpop:{position:"absolute",left:"-1px",top:"100%",width:"101%","margin-top":"2px","z-index":"100"},dropdownbase:{"min-width":"200px",overflow:"auto","max-height":"300px","background-color":"#FFF",border:"1px solid #CCC","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2)","border-radius":"3px"}},post:{dropdownitem:{padding:"0.32em 0.64em",cursor:"pointer"},dropdownitemactive:{padding:"0.32em 0.64em",cursor:"pointer","background-color":"#333",color:"#FFF"}}},slider:{pre:{barbox:{"background-color":"#FFF",border:"1px solid #CCC","border-radius":"3px",margin:"0em 0.5em 0.5em 0em",position:"relative",padding:"0.44em 0.64em"},sliderbox:{display:"inline-block","vertical-align":"top",width:"6em",height:"0.7em","margin-top":"0.3em","margin-right":"2em",cursor:"pointer","background-color":"#FAFAFA",border:"1px solid #CCC","border-radius":"3px"},sliderhandle:{position:"absolute",top:"0.3em",width:"1.6em",height:"1.6em",border:"1px solid #CCC","background-color":"#f6f6f6","border-radius":"0.3em",cursor:"pointer","box-shadow":"0 1px 4px 0 rgba(0, 0, 0, 0.2)"},"sliderhandle svg":{width:"1.4em",height:"100%"},"sliderhandle path":{fill:"#444"},sliderlabel:{display:"inline-block","vertical-align":"top"}},post:{}}},preStyle:function(){for(var t=this.styling.get("svg.style.root"),e=this.styling.get("colors.standard"),n=["font-family","font-size","font-weight","font-style","text-decoration"],r=this.initStyle[this.type].pre,o=0;o<n.length;o++){var i=n[o];t&&t[i]&&(r.barbox[i]=t[i])}return t&&t.fill&&(r.barbox.color=t.fill),"dropdown"===this.type&&e&&"string"==typeof e[0]&&(this.initStyle.dropdown.post.dropdownitemactive["background-color"]=e[0]),this},style:function(t,e){if(!e)return this;var n=this.initStyle[this.type][e],r=t,o=this.styling.get("interactive2.style."+this.type+"."+e);for(var i in n)if(n.hasOwnProperty(i))if(o&&o[i]){var a=this.styling.get("interactive2.style."+this.type+"."+e+"."+i);r.selectAll("."+i).attr("style",null).style(a)}else r.selectAll("."+i).attr("style",null).style(n[i]);return"dropdown"===this.type&&r.selectAll(".dropdownlabel, .dropdownlabel > *").style("pointer-events","none"),this},getIcon:function(t){var e=this.styling.get("interactive2.icons."+t);return e||(e={dropdown:'<path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"></path>',search:'<path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path>'}[t]),'<svg viewBox="0 0 24 24">'+e+"</svg>"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackDrop=function(t){var e=[];if(!t.select(".backdrop").size())var n=t.append("div").attr("class","backdrop").style({position:"absolute",display:"none","z-index":"90","background-color":"#FFF",opacity:"0"}).on("click",(function(){e.each((function(t){"dropdown"===t.type&&(t.isOpen=!1,t.update(this))})),r.update()}));var r={update:function(){var t=!1;e.each((function(e){"dropdown"===e.type&&e.isOpen&&(t=!0)})),t?n.style("display","block"):n.style("display","none")},setBarItems:function(t){e=t},style:function(t){n.style(t)}};return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){var n=t.style.get("interactive2.icons."+e);return n||(n={dropdown:'<path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"></path>',search:'<path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path>'}[e]),'<svg viewBox="0 0 24 24">'+n+"</svg>"};e.Dropdown=function(t,e,n,o){var i="";return{getType:function(){return"dropdown"},getGroup:function(){return o},enter:function(){n.attr("class","baritem").style({float:"left","box-sizing":"border-box"}).html(['<div class="barbox">','<div class="dropdownbox">','<div class="dropdownlabel">',"<div><button></button></div>",r(e,"dropdown"),"</div>",'<div class="dropdownpop">','<div class="dropdownbase">','<div class="dropdownsearch" style="position: relative">','<input type="text" >',r(e,"search"),"</div>",'<div class="dropdownitems"></div>',"</div>","</div>","</div>","</div>"].join("")),n.select(".dropdownlabel button").style({background:"none",color:"inherit",border:"none",padding:"0",margin:"0",font:"inherit",cursor:"pointer","text-align":"left"}).on("click",(function(){var n;event.stopPropagation(),(n=e.getTempStorage("openGroup"))&&n.getKey()===o.getKey()?e.setTempStorage("openGroup",null):e.setTempStorage("openGroup",o),t.digest()})).on("keydown",(function(n){"Escape"===n.key&&(n.stopPropagation(),e.setTempStorage("openGroup",null),t.digest())})),n.on("click",(function(t){t.stopPropagation(),n.select(".dropdownlabel button").node().click()})),n.select("div.dropdownbase").select("svg").style({position:"absolute",width:"1em",left:"0px",height:"1em",display:"inline-block","vertical-align":"top","margin-top":"0.64em","margin-left":"0.64em"}).select("path").style("fill","#444"),n.select("input[type=text]").style({width:"100%",position:"relative","z-index":"1","background-color":"transparent",border:"0px","border-bottom":"1px solid #CCC",padding:"0.4em 0.2em 0.4em 2em"}).on("click",(function(t){t.stopPropagation()})).on("keyup",(function(e){i=this.value(),t.digest()}))},exit:function(){},update:function(){var r=o.getActiveItems(),a=r.length>50;o.getSortDropdown()&&r.sort((function(e,n){var r=t.AppUtility.normalizeString(e.getDisplayLabel()),o=t.AppUtility.normalizeString(n.getDisplayLabel());return r<o?-1:r>o?1:0})),a&&"string"==typeof i&&i.length&&(r=r.filter((function(e){return t.AppUtility.searchString(e.getDisplayLabel(),i)})));var s=n.select("div.dropdownbox"),l=s.select("div.dropdownlabel"),u=s.select("div.dropdownpop").select("div.dropdownbase");u.select("input"),u.select("div.dropdownitems").selectAll("div.dropdownitem"),n.select("div.dropdownsearch").style("display",a?"block":"none");var c=e.getTempStorage("openGroup");c&&c.getKey()===o.getKey()?u.style("display","block"):u.style("display","none"),u.select("div.dropdownitems").merge({items:r,key:function(t){return t.getKey()},append:"div",sort:!0,enter:function(n,r,o){n.attr("class","dropdownitem").on("click",(function(t){t.stopPropagation(),n.select("button").node().click()})),n.append("button").style({background:"none",color:"inherit",border:"none",padding:"0",margin:"0",font:"inherit",cursor:"pointer","text-align":"left"}).on("click",(function(n){n.stopPropagation(),r.setCurrent(),e.setTempStorage("openGroup",null),t.digest()})).on("keydown",(function(r){var o=n.parent().parent().parent().parent().select(".dropdownlabel button");"Escape"===r.key&&(r.stopPropagation(),o.size()&&o.node().focus(),e.setTempStorage("openGroup",null),t.digest())}))},exit:function(t){t.remove()},update:function(t,e){t.classed("dropdownitemactive",e.isCurrent()).select("button").text(e.getDisplayLabel())}}),l.select("div button").text(o.getCurrentItem().getDisplayLabel())}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=function(t,e,n,r){var o=0,i=0,a=!1,s=function(){var t=n.select("div.sliderbox"),e=t.select("div.sliderhandle"),o=(n.select("div.sliderlabel"),t.width()),a=(e.width(),r.getActiveItems()),s=a.length,l=Math.round(i/(o/(s-1)));return l<0&&(l=0),l>s-1&&(l=s-1),a[l]},l=function(t){if(t.preventDefault(),a){var e=t.clientX-o;i+=e,o=t.clientX,t.clientY,t.clientY;var r=n.select("div.sliderbox"),l=r.select("div.sliderhandle"),u=n.select("div.sliderlabel"),c=r.width();l.width(),i<0&&(i=0),i>c&&(i=c),l.style({left:i+"px"});var g=s();u.text(g.getDisplayLabel())}},u=function(e){e.preventDefault(),o=e.clientX,e.clientY,a=!1,s().setCurrent(),t.digest()};return{getType:function(){return"slider"},getGroup:function(){return r},enter:function(){n.attr("class","baritem").style({float:"left","box-sizing":"border-box"}).html(['<div class="barbox">','<div class="sliderbox">','<div class="sliderhandle"></div>',"</div>",'<div class="sliderlabel"></div>',"</div>"].join("")),n.select("div.sliderhandle").on("mousedown",(function(t){t.preventDefault(),o=t.clientX,t.clientY,a=!0})),document.addEventListener("mouseup",u,!1),document.addEventListener("mousemove",l,!1)},exit:function(){document.removeEventListener("mouseup",u,!1),document.removeEventListener("mousemove",l,!1)},update:function(){var t=n.select("div.sliderbox"),e=t.select("div.sliderhandle"),o=n.select("div.sliderlabel"),a=t.width(),s=(e.width(),r.getCurrentItem().getActiveSiblingOrder()),l=r.getActiveItems().length;i=a/(l-1)*s,e.style({left:i+"px"}),o.text(r.getCurrentItem().getDisplayLabel())}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){e.append("g").attr("class","legenditems"),e.append("g").attr("class","unittext"),t.listen("tooltip",(0,o.TooltipHoverForLegends)(e.select(".legenditems"))),t.watch((function(){n.getDataStoreRaw();var t=n.wizard3.getSettingsObject(),o=t.getChartType(),i=(n.style,n.dimensions.get("Svg").width),a=n.dimensions.get("Story").height+n.dimensions.get("Description").height+n.dimensions.get("Interactive").height,s=n.wizard3.getGroupFromRaw(0),l=s.getActiveItems();(1===l.length||l.length>20||"scatter"===o||("pie"===o||"line"===o)&&t.hasDirectLabels())&&(l=[]),e.attr({transform:"translate(0,"+a+")"});var u=n.style.get("legend.settings.items.padding-right"),c=null===u?2:u,g=0,d=0,f=0,p=n.style.get("legend.settings.items.margin-right"),h=null===p?10:p;function m(t){return t.getBBox().width}e.select(".legenditems").merge({items:l,key:function(t){return t.getKey()},append:"g",sort:!0,enter:function(t,e){t.attr("class","item tooltipelement"),t.append("text"),t.append("rect")},exit:function(t){t.remove()},update:function(e,o,a){var l=e.select("text"),u=e.select("rect");l.style(n.style.get("legend.style.labels")).text(o.getDisplayLabel());var p=l.getBBox().height;l.attr({x:0,y:.9*p});var y=n.style.get("legend.settings.items.ratio");y||(y=1);var v=n.style.get("legend.settings.items.type"),b="flat"===v?.4*y:y,x=p*Math.abs(1-y);"flat"===v&&(x+=4);var w=n.style.get("legend.settings.items.radius");u.attr({x:0,y:x,width:p*y,height:p*b,rx:w,ry:w});var M=o.getColor(a);u.style("fill",M);var Y,k=n.style.get("legend.settings.items.stroke");"number"==typeof k&&k>0?u.style({"stroke-width":k,stroke:(0,r.LightenDarkenColor)(M,-50)}):u.style({"stroke-width":"0",stroke:"none"}),e.attr("lfedit",""),e.attr("lfedit-item",(Y=[],"ordinal"===t.subType?Y.push("order"):(Y.push("color","axisSecondary"),"period"!==s.type&&Y.push("label","order"),function(){var t=n.getSettingsRaw();return"column"===t.activeChart||"stacked"===t.activeChart}()&&Y.push("isLine")),o.getKey()+";"+Y.join("#"))),e.attr("lfedit-group",s.isType("period")?s.key+";momentOutput":null);var S,C=l.node().getBBox();o.isAxisSecondary()?(l.attr({x:0}),u.attr({x:C.width+C.height+c-u.node().getBBox().width})):(l.attr({x:C.height+c}),u.attr({x:0})),e.attr("transform",(i-g-d-m(e)-h>0||function(t){f+=1.2*t.getBBox().height,g=0,d=0}(e),o.isAxisSecondary()?(S="translate("+(i-d-m(e))+","+f+")",d=d+m(e)+h):(S="translate("+g+","+f+")",g=g+m(e)+h),S))}});var y,v=e.select(".unittext");if(v.attr("lfedit-item",null).attr("lfedit-settings",null),"scatter"===o)if(s.isType("unit"))v.wrapText(n.style.unitText("vaxis"),i,n.style.get("unit.style")),v.attr("lfedit","").attr("lfedit-settings","unit-vaxis");else{var b=s.getActiveItems()[0];b&&(v.wrapText(b.getDisplayLabel(),i,n.style.get("unit.style")),v.attr("lfedit","").attr("lfedit-item",b.getKey()+";label"))}else e.select(".unittext").wrapText(n.style.unitText(),i,n.style.get("unit.style")),e.select(".unittext").attr("transform",(y=0,l.length&&(y=e.select(".unittext").getBBox().height+f+n.style.get("unit.settings.margin-unit-legend")),"translate(0,"+y+")")).attr("lfedit","").attr("lfedit-settings","unit");var x=n.style.get("legend.settings.box.margin");l.length||v.text()||(x["margin-top"]=0,x["margin-bottom"]=0),n.dimensions.set("Legend",e,x);var w={width:0,height:0},M={width:0,height:0};if(t.hasDirectLabels()&&t.isChartType("line")){var Y=[];s.getActiveItems().forEach((function(t){Y.push(t.getDisplayLabel())})),w=n.utility.textSize(e.parent("svg"),Y,n.style.get("vaxis.style.labels")),M.height=w.height,M.width=w.width+.3*w.height}n.dimensions.set("LegendDirectLabelsWithoutMargins",w),n.dimensions.set("LegendDirectLabelsWithMargins",M)}))}}};var r=n(9),o=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(){return{priority:10,create:function(t,e,n){var i=e;function a(t){return"string"==typeof t&&t.length}function s(t){var e,o,s=n.style,l=null,u={template:null,text:null,link:null,extra:null};this.bBox={width:0,height:0},this.select=function(t){return e=t,l=i.select(t),this},this.text=function(t,e){return"string"==typeof e&&e.length&&(u[t]=e),this},this.style=function(t){return null!==t&&"object"===(void 0===t?"undefined":r(t))&&(o=t,l.selectAll("text").style(t)),this},this.build=function(){var t=u.text,n=u.template,r=u.link,i=u.extra,c=0;return n&&t?l.select("text.lfsourcetext").text(n.replace("{{source}}","")).each((function(){var t=this.getBBox();c=t.width+.3*t.height})):l.select("text.lfsourcetext").text(""),".lfcreditline"===e&&i?l.select("text.lfextra").text(i).each((function(){var t=this.getBBox();c=t.width+.7*t.height})):l.select("text.lfextra").text(""),".lfsource"===e&&l.attr({lfedit:"","lfedit-settings":"source"}),l.select("a").attr("href",function(t){try{return a(t)?/^https?:\/\//.test(t)?t:"http://"+t:null}catch(t){return console.error(t),null}}(r)).style("cursor",a(r)?"pointer":"default").select("text").attr("x",c).style("text-decoration",r&&".lfsource"===e?"underline":"none").text(t).on("mouseenter",(function(){var t="#000",e=s.get("colors.hover"),n=s.get("colors.standard");e?t=e:n.length&&(t=n[0]),this.style("fill",t)})).on("mouseleave",(function(){this.style(o).style("text-decoration",(function(){return r&&".lfsource"===e?"underline":"none"}))})),this.bBox=t?l.node().getBBox():{width:0,height:0},this},this.position=function(e){var n,r=this.bBox;return"left"===e?(n=t.left,t.left=t.left+r.width+.7*r.height):(n=t.right-r.width,t.right=t.right-r.width-.7*r.height),l.attr("transform","translate("+n+",0)"),this},this.disabled=function(t){return t&&(u={template:null,text:null,link:null}),this}}t.watch((function(){var t,r=n.getDataStoreRaw(),a=n.getSettingsRaw(),l=n.style,u=n.dimensions.get("Svg").width,c=n.dimensions.get("Svg").height,g={left:0,right:u},d=l.get("footer.settings.box.margin");d&&"number"==typeof d["margin-bottom"]&&(c-=d["margin-bottom"]),e.attr("transform","translate(0,"+c+")"),t=l.get("footer.settings.position")||[{type:"madeBy",position:"left"},{type:"creditline",position:"left"},{type:"source",position:"right"}];var f=new s(g).select(".lfmadeby").text("text",l.get("footer.settings.madeBy.text",{locale:!0})).text("link",l.get("footer.settings.madeBy.link")).style(l.get("footer.style.madeBy")),p=new s(g).select(".lfsource").text("template",l.get("footer.settings.source.text",{locale:!0})).text("text",a.source).text("link",a.sourcelink).style(l.get("footer.style.source")),h=new s(g).select(".lfcreditline").text("text",l.get("footer.settings.creditline.text",{locale:!0})).text("link",l.get("footer.settings.creditline.link")).text("extra",l.get("footer.settings.creditline.extra")).style(l.get("footer.style.creditline"));f.build(),p.build(),h.build(),f.bBox.width+p.bBox.width+h.bBox.width>u&&(h.disabled(!0).build(),f.bBox.width+p.bBox.width>u&&f.disabled(!0).build());for(var m=0;m<t.length;m++){var y=t[m];"madeBy"===y.type?f.position(y.position):"creditline"===y.type?h.position(y.position):"source"===y.type&&p.position(y.position)}var v=l.get("footer.settings.box.margin");if("scatter"===a.activeChart){var b=Math.max(f.bBox.height,p.bBox.height,h.bBox.height),x=i.select("text.lfhaxisunittext");x.attr("lfedit-item",null).attr("lfedit-settings",null);var w=r.groups[0];if("unit"===w.type)x.text(l.unitText("haxis")).attr("lfedit","").attr("lfedit-settings","unit-haxis");else{var M=o(n,w)[1];M&&x.text(M.label).attr("lfedit","").attr("lfedit-item",M.key+";label")}x.attr("style",null).style(l.get("unit.style"));var Y=x.node().getBBox();x.attr({y:b>0?-b-v["margin-top"]:-b,x:u-Y.width}),v["margin-top"]&&(v["margin-top"]=.5*Y.height)}n.dimensions.set("Footer",e,v),n.vaxis.preCalculate(),n.vaxisRight.preCalculate()}))}}};var o=function(t,e){for(var n=t.getDataStoreRaw(),r=[],o=0;o<n.items.length;o++){var i=n.items[o];i.group===e.key&&i.active&&r.push(i)}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){var r=function(t){var e=n.wizard3.getSettingsObject().getSort(),r=[];null!==e&&t.sort((function(t,n){return t.value===n.value?t.haxisItem.getActiveSiblingOrder()-n.haxisItem.getActiveSiblingOrder():"asc"===e?t.value-n.value:n.value-t.value}));for(var o=0;o<t.length;o++)r.push(t[o].haxisItem);return r};t.watch((function(){var t,o,i=n.wizard3.getSettingsObject().getChartType(),a=[],s=n.wizard3.getGroupFromRaw(1).getActiveItems(),l=[];if("bar"===i||"column"===i){var u=n.wizard3.getGroupFromRaw(0).getLastActiveItem();s.forEach((function(t){var e=n.wizard3.queryRecord(u,t).parseNumber();null===e&&(e=0),a.push({value:e,haxisItem:t})})),l=r(a)}else"barstacked"===i||"stacked"===i?(s.forEach((function(t){var e=0;n.wizard3.getGroupFromRaw(0).getActiveItems().forEach((function(r){var o=n.wizard3.queryRecord(r,t).parseNumber();null===o&&(o=0),e+=o})),a.push({value:e,haxisItem:t})})),l=r(a)):s.forEach((function(t){l.push(t)}));t="bar"===i||"barstacked"===i?[0,n.dimensions.get("Inner Svg").height]:[0,n.dimensions.get("Svg").width-n.dimensions.get("LegendDirectLabelsWithMargins").width],n.haxis.setDomain(l).setRange(t),n.haxis.render(e),o="bar"===i||"barstacked"===i?n.dimensions.get("Inner Svg").width:n.dimensions.get("Svg").height-n.dimensions.get("Footer").height;var c=e.getBBox();n.dimensions.set("Haxis",c),"bar"===i||"barstacked"===i?e.attr({transform:"translate("+c.width+",0)"}):e.attr({transform:"translate(0,"+(o-c.height+0)+")"})}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){t.watch((function(){var t,r=null;r="right"===e.attr("lfdoubleaxis")?n.vaxisRight:n.vaxis;var o=n.wizard3.getSettingsObject().getChartType();t="scatter"===o&&"secondary"===r.getSub()?n.vaxis.getLineRange():"scatter"===o&&"primary"===r.getSub()?[n.dimensions.get("Svg").height-n.dimensions.get("Vaxis Precalculate secondary").height-n.dimensions.get("Footer").height,n.dimensions.get("Story").height+n.dimensions.get("Description").height+n.dimensions.get("Interactive").height+n.dimensions.get("Legend").height]:"bar"===o||"barstacked"===o?[n.dimensions.get("Haxis").width,n.dimensions.get("Svg").width-n.dimensions.get("Scrollbar").width]:[n.dimensions.get("Svg").height-n.dimensions.get("Haxis").height-n.dimensions.get("Footer").height,n.dimensions.get("Story").height+n.dimensions.get("Description").height+n.dimensions.get("Interactive").height+n.dimensions.get("Legend").height],r.setRange(t),r.render(e)}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){var r=e.append("rect");t.watch((function(){n.getDataStoreRaw(),n.getSettingsRaw();var t=n.style,o={},i=t.get("domain.lines"),a=n.wizard3.getSettingsObject().getChartType(),s=e.parent().select("g[lfoverlay]");if("bar"===a||"barstacked"===a){var l=[n.dimensions.get("Story").height+n.dimensions.get("Description").height+n.dimensions.get("Interactive").height+n.dimensions.get("Legend").height,n.dimensions.get("Svg").height-n.dimensions.get("Vaxis Precalculate primary").height-n.vaxis.getTickPadding()-n.dimensions.get("Footer").height];o={x:(u=n.vaxis.getRange())[0],width:u[1]-u[0],y:l[0],height:l[1]-l[0]}}else if("scatter"===a){l=n.vaxisRight.getRange();var u=n.vaxis.getRange();o={x:l[0],width:l[1]-l[0],y:u[1],height:u[0]-u[1]}}else"pie"!==a&&(l=n.haxis.getRange(),u=n.vaxis.getRange(),o={x:l[0],width:l[1]-l[0],y:u[1],height:u[0]-u[1]});var c=t.get("domain.style"),g=t.get("domain.settings");null!==g&&g.onlyAxisCharts&&c.fill&&"pie"===a&&(c.fill="none"),r.style(c).attr(o);var d=0;s.merge({items:[],key:function(t){return d++},append:"line",enter:function(t,e){},exit:function(t){t.remove()},update:function(t,e){t.attr({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}).style(i)}})}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){function a(t){return t.getAxis().calculate(s(t))}function s(t){var e=t.getAxis();return Math.max(0,e.getDomain()[0])}function l(t){return t.getAxis().calculate(u(t))}function u(t){var e=t.getAxis();return Math.min(0,e.getDomain()[1])}var c=e.append("g"),g=e.append("g"),d=e.append("g");t.listen("tooltip",(0,o.TooltipHoverForBars)(c)),t.listen("tooltip",(0,i.TooltipHoverForLines)(g)),t.watch((function(){var o=n.wizard3.getSettingsObject(),i=n.wizard3.getGroupFromRaw(0).getActiveItems().length<=1?"haxis":"legend",f=n.style.get("annotation.settings.directLabel.margin"),p=[],h=[];n.wizard3.getGroupFromRaw(0).getActiveItems().forEach((function(t){t.isLine()?p.push(t):h.push(t)})),g.merge({items:p,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group tooltipelement")},exit:function(t){t.remove()},update:function(e,o){(0,r.Line)(t,n).setItem(o).setHaxis(n.haxis).render(e)}}),c.merge({items:n.haxis.getDomain(),key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group")},exit:function(t){t.remove()},update:function(r,o){var c=n.haxis.calculate(o);r.attr("transform","translate("+c+",0)"),n.style.get("annotation.settings.directLabel.margin");var g=n.haxis.getRange(),d=.25*(g[1]-g[0]),f=n.haxis.getDisplayBandWidth(),p=n.style.barSpacing(f,n.wizard3.getGroupFromRaw(0).getActiveItems());Math.max(0,n.vaxis.getDomain()[1]),Math.min(0,n.vaxis.getDomain()[0]),r.merge({items:h,key:function(t){return t.getKey()},append:"rect",enter:function(r,i){e.attr("class","bar"),r.on("mouseover",(function(){var e=n.wizard3.queryRecord(i,o);t.broadcast("tooltip",{record:e,legendItem:i,haxisItem:o})})).on("mouseout",(function(){t.broadcast("tooltip",null)}))},exit:function(t){t.remove()},update:function(t,e,r){var g,m,y,v,b=n.wizard3.queryRecord(e,o),x=b.parseNumber(),w={fill:"legend"===i?e.getColor():"haxis"===i?o.getColor(0):"#000",x:(y=f/h.length*r+p,v=f/h.length-2*p-d,v>0&&(y+=.5*v),y),width:function(){var t=f/h.length-2*p,e=t-d;return e>0&&(t-=e),t}(),y:(null===x&&(m=a(e)),x>=0&&(m=e.getAxis().calculate(x)),x<0&&(m=l(e)+n.style.extraZeroAxisSpace(u,e)),m),height:(g=0,null===x&&(g=0),x>=0&&(g=a(e)-e.getAxis().calculate(x)-n.style.extraZeroAxisSpace(s,e)),x<0&&(g=e.getAxis().calculate(x)-l(e)),g<0&&(g=0),g)};t.attr(w),b.setAnnotationPosition(c+w.x+.5*w.width,w.y)}})}});var m=o.hasDirectLabels()?n.haxis.getDomain():[];d.merge({items:m,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group")},exit:function(t){t.remove()},update:function(t,e){t.attr("transform","translate("+n.haxis.calculate(e)+",0)");var r=n.haxis.getDisplayBandWidth();n.style.barSpacing(r,n.wizard3.getGroupFromRaw(0).getActiveItems()),t.merge({items:h,key:function(t){return t.getKey()},append:"text",enter:function(t,e){t.attr({class:"lflabel","text-anchor":"middle","pointer-events":"none",lfedit:"","lfedit-settings":"directlabels"})},exit:function(t){t.remove()},update:function(t,o,i){var a=n.wizard3.queryRecord(o,e).parseNumber(),s=o.getAxis().getUnitFormatter().render(a);t.text(s).style(n.style.get("annotation.directLabel")),t.attr({x:r/h.length*(i+.5),y:null===a||a>=0?o.getAxis().calculate(a)-f:a<0?o.getAxis().calculate(a)+.72*t.getBBox().height+f:void 0})}})}})}))}}};var r=n(0),o=n(1),i=n(3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){function a(t){var e=t.getAxis();return Math.max(0,e.getDomain()[0])}var s=e.append("g"),l=e.append("g"),u=e.append("g");t.listen("tooltip",(0,o.TooltipHoverForBars)(s)),t.listen("tooltip",(0,i.TooltipHoverForLines)(l)),t.watch((function(){var o=n.wizard3.getSettingsObject(),i=n.wizard3.getGroupFromRaw(0).getActiveItems().length<=1?"haxis":"legend",c=(n.style.get("annotation.settings.directLabel.margin"),[]),g=[];n.wizard3.getGroupFromRaw(0).getActiveItems().forEach((function(t){t.isLine()?c.push(t):g.push(t)})),l.merge({items:c,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group tooltipelement")},exit:function(t){t.remove()},update:function(e,o){(0,r.Line)(t,n).setItem(o).setHaxis(n.haxis).render(e)}}),s.merge({items:n.haxis.getDomain(),key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group")},exit:function(t){t.remove()},update:function(r,o){var s=n.haxis.calculate(o);r.attr("transform","translate("+s+",0)"),n.style.get("annotation.settings.directLabel.margin");var l=n.haxis.getRange(),u=.25*(l[1]-l[0]),c=n.haxis.getDisplayBandWidth(),d=n.style.barSpacing(c,n.wizard3.getGroupFromRaw(0).getActiveItems()),f=(Math.max(0,n.vaxis.getDomain()[1]),Math.min(0,n.vaxis.getDomain()[0]),n.wizard3.getGroupFromRaw(0).getActiveItems().filter((function(t){return!t.isLine()})),0);r.merge({items:g,key:function(t){return t.getKey()},append:"rect",enter:function(r,i){e.attr("class","bar"),r.on("mouseover",(function(){var e=n.wizard3.queryRecord(i,o);t.broadcast("tooltip",{record:e,legendItem:i,haxisItem:o})})).on("mouseout",(function(){t.broadcast("tooltip",null)}))},exit:function(t){t.remove()},update:function(t,e,r){var l,g,p,h,m,y=n.wizard3.queryRecord(e,o),v=y.parseNumber(),b={fill:"legend"===i?e.getColor():"haxis"===i?o.getColor(0):"#000",x:(h=d,m=c-2*d-u,m>0&&(h+=.5*m),h),width:function(){var t=c-2*d,e=t-u;return e>0&&(t-=e),t}(),y:(null===v||0===v?p=e.getAxis().calculate(f):v>0&&(p=e.getAxis().calculate(f+v)),p),height:(g=0,null===v||0===v?g=0:v>0&&(g=(l=e).getAxis().calculate(a(l))-e.getAxis().calculate(v)-n.style.extraZeroAxisSpace(a,e)),g<0&&(g=0),g)};t.attr(b),v>0&&(f+=v),y.setAnnotationPosition(s+b.x+.5*b.width,b.y+.5*b.height)}})}});var d=o.hasDirectLabels()?n.haxis.getDomain():[];u.merge({items:d,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group")},exit:function(t){t.remove()},update:function(t,e){t.attr("transform","translate("+n.haxis.calculate(e,!0)+",0)");var r=n.haxis.getDisplayBandWidth(),o=(n.style.barSpacing(r,n.wizard3.getGroupFromRaw(0).getActiveItems()),0);t.merge({items:g,key:function(t){return t.getKey()},append:"text",enter:function(t,e){t.attr({class:"lflabel","text-anchor":"middle","pointer-events":"none",lfedit:"","lfedit-settings":"directlabels"})},exit:function(t){t.remove()},update:function(t,r,i){var a=n.wizard3.queryRecord(r,e).parseNumber(),s=r.getAxis().getUnitFormatter().render(a);t.text(s).style(n.style.get("annotation.inlineLabel")),t.attr({x:"0",y:r.getAxis().calculate(o+.5*a),dy:"0.32em"}),a>0&&(o+=a)}})}})}))}}};var r=n(0),o=n(1),i=n(3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){var r=function(){var t=n.style.get("barGraph.settings.minBarHeight");return t&&"number"==typeof t?t:20};t.watch((function(){var t=n.dimensions.get("Svg").width,o=[n.dimensions.get("Story").height+n.dimensions.get("Description").height+n.dimensions.get("Interactive").height+n.dimensions.get("Legend").height,n.dimensions.get("Svg").height-n.dimensions.get("Vaxis Precalculate primary").height-n.vaxis.getTickPadding()-n.dimensions.get("Footer").height],i=o[1]-o[0];e.style({top:o[0]+"px",width:t+"px",height:i+"px"});var a,s=n.wizard3.getGroupFromRaw(0).getActiveItems(),l=n.wizard3.getGroupFromRaw(1).getActiveItems();(a="barstacked"===n.wizard3.getSettingsObject().getChartType()?(l.length-1)*r():(s.length*l.length-1)*r())>i?(i=a,n.dimensions.set("Scrollbar",{width:16,height:0}),e.style("overflow-y","scroll")):(n.dimensions.set("Scrollbar",{width:0,height:0}),e.style("overflow-y","hidden")),e.select("svg").attr({width:t,height:i}),n.dimensions.set("Inner Svg",{width:t,height:i})}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){function o(t){return t.getAxis().calculate(function(t){var e=t.getAxis();return Math.max(0,e.getDomain()[0])}(t))}function i(t){var e=t.getAxis();return Math.min(0,e.getDomain()[1])}var a=e.append("g"),s=e.append("g");t.listen("tooltip",(0,r.TooltipHoverForBars)(a)),t.watch((function(){var r=n.wizard3.getSettingsObject(),l=n.wizard3.getGroupFromRaw(0).getActiveItems(),u=n.style.get("annotation.settings.directLabel.margin"),c=n.wizard3.getGroupFromRaw(0).getActiveItems().length<=1?"haxis":"legend";a.merge({items:n.haxis.getDomain(),key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group")},exit:function(t){t.remove()},update:function(r,a){r.attr("transform","translate(0,"+n.haxis.calculate(a)+")");var s=n.haxis.getDisplayBandWidth(),u=n.style.barSpacing(s,n.wizard3.getGroupFromRaw(0).getActiveItems());r.merge({items:l,key:function(t){return t.getKey()},append:"rect",enter:function(r,o){e.attr("class","bar"),r.on("mouseover",(function(){var e=n.wizard3.queryRecord(o,a);t.broadcast("tooltip",{record:e,legendItem:o,haxisItem:a})})).on("mouseout",(function(){t.broadcast("tooltip",null)}))},exit:function(t){t.remove()},update:function(t,e,r){var g,d=n.wizard3.queryRecord(e,a).parseNumber();t.attr({fill:"legend"===c?e.getColor():"haxis"===c?a.getColor(0):"#000",y:s/l.length*r+u,height:s/l.length-2*u,x:null===d?o(e):d>=0?o(e)+n.style.extraZeroAxisSpace(i,e):d<0?e.getAxis().calculate(d):0,width:null===d?0:d>=0?e.getAxis().calculate(d)-o(e):d<0?(g=e).getAxis().calculate(i(g))-e.getAxis().calculate(d)-n.style.extraZeroAxisSpace(i,e):(width,0)})}})}});var g=r.hasDirectLabels()?n.haxis.getDomain():[];s.merge({items:g,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group")},exit:function(t){t.remove()},update:function(t,e){t.attr("transform","translate(0,"+n.haxis.calculate(e)+")");var r=n.haxis.getDisplayBandWidth();n.style.barSpacing(r,n.wizard3.getGroupFromRaw(0).getActiveItems()),t.merge({items:l,key:function(t){return t.getKey()},append:"text",enter:function(t,e){t.attr({class:"lflabel","text-anchor":"middle","pointer-events":"none",lfedit:"","lfedit-settings":"directlabels"})},exit:function(t){t.remove()},update:function(t,o,i){var a=n.wizard3.queryRecord(o,e).parseNumber(),s=o.getAxis().getUnitFormatter().render(a);t.text(s).style(n.style.get("annotation.directLabel")),t.attr({x:null===a||a>=0?o.getAxis().calculate(a)+.5*t.getBBox().width+u:a<0?o.getAxis().calculate(a)-.5*t.getBBox().width-u:void 0,y:r/l.length*(i+.5)+.32*t.getBBox().height})}})}})}))}}},n(0);var r=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){var o=e.append("g"),i=e.append("g");t.listen("tooltip",(0,r.TooltipHoverForBars)(o)),t.watch((function(){var r=n.wizard3.getSettingsObject(),a=n.wizard3.getGroupFromRaw(0).getActiveItems(),s=(n.style.get("annotation.settings.directLabel.margin"),n.wizard3.getGroupFromRaw(0).getActiveItems().length<=1?"haxis":"legend");o.merge({items:n.haxis.getDomain(),key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group")},exit:function(t){t.remove()},update:function(r,o){r.attr("transform","translate(0,"+n.haxis.calculate(o)+")"),n.style.get("annotation.settings.directLabel.margin");var i=n.haxis.getBandWidth(),l=n.style.barSpacing(i,n.wizard3.getGroupFromRaw(0).getActiveItems()),u=0;r.merge({items:a,key:function(t){return t.getKey()},append:"rect",enter:function(r,i){e.attr("class","bar"),r.on("mouseover",(function(){var e=n.wizard3.queryRecord(i,o);t.broadcast("tooltip",{record:e,legendItem:i,haxisItem:o})})).on("mouseout",(function(){t.broadcast("tooltip",null)}))},exit:function(t){t.remove()},update:function(t,e,r){var a=n.wizard3.queryRecord(e,o).parseNumber();t.attr({fill:"legend"===s?e.getColor():"haxis"===s?o.getColor(0):"#000",y:0,height:i-2*l,x:null===a||a>=0?e.getAxis().calculate(u):0,width:null===a?0:a>=0?e.getAxis().calculate(u+a)-e.getAxis().calculate(u):0}),a>0&&(u+=a)}})}});var l=r.hasDirectLabels()?n.haxis.getDomain():[];i.merge({items:l,key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group")},exit:function(t){t.remove()},update:function(t,r){t.attr("transform","translate(0,"+n.haxis.calculate(r,!0)+")");var o=n.haxis.getDisplayBandWidth(),i=(n.style.barSpacing(o,n.wizard3.getGroupFromRaw(0).getActiveItems()),0);t.merge({items:a,key:function(t){return t.getKey()},append:"text",enter:function(t,e){t.attr({class:"lflabel","text-anchor":"middle","pointer-events":"none",lfedit:"","lfedit-settings":"directlabels"})},exit:function(t){e.remove()},update:function(t,e,o){var a=n.wizard3.queryRecord(e,r).parseNumber(),s=e.getAxis().getUnitFormatter().render(a);t.text(s).style(n.style.get("annotation.inlineLabel")),t.attr({x:e.getAxis().calculate(i+.5*a),y:"0",dy:"0.32em"}),a>0&&(i+=a)}})}})}))}}};var r=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){var a=e.append("g"),s=e.append("g");t.listen("tooltip",(0,o.TooltipHoverForLegends)(s)),t.listen("tooltip",(0,i.TooltipHoverForLines)(a)),t.watch((function(){n.wizard3.getSettingsObject();var e=n.wizard3.getSettingsObject().hasDirectLabels();a.merge({items:n.wizard3.getGroupFromRaw(0).getActiveItems(),key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","group tooltipelement")},exit:function(t){t.remove()},update:function(e,o){(0,r.Line)(t,n).setItem(o).setHaxis(n.haxis).render(e)}}),s.merge({items:e?n.wizard3.getGroupFromRaw(0).getActiveItems():[],key:function(t){return t.getKey()},append:"g",enter:function(t,e){t.attr("class","directlabel tooltipelement").style("transition","transform 0.5s"),t.append("text").attr("dy","0.32em")},exit:function(t){t.remove()},update:function(t,e){var r=null;t.select("text").style(n.style.get("vaxis.style.labels")).text(e.getDisplayLabel()),n.haxis.getDomain().forEach((function(t){var o=n.wizard3.queryRecord(e,t).parseNumber();"number"==typeof o&&(r=o)}));var o=n.dimensions.get("LegendDirectLabelsWithMargins").width-n.dimensions.get("LegendDirectLabelsWithoutMargins").width,i=n.haxis.getRange()[1]+n.dimensions.get("Vaxis Precalculate secondary").width+o,a=e.getAxis().calculate(r);t.attr("transform","translate("+i+", "+a+")")}})}))}}};var r=n(0),o=n(2),i=n(3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){var o=e.append("g"),i=e.append("g"),a=e.append("g");function s(t,e,n,r){var o=(r-90)*Math.PI/180;return{x:t+n*Math.cos(o),y:e+n*Math.sin(o)}}t.listen("tooltip",(0,r.TooltipHoverForLegends)(o)),t.watch((function(){var e=n.dimensions.get("Svg").width,r=n.dimensions.get("Svg").height-n.dimensions.get("Story").height-n.dimensions.get("Interactive").height-n.dimensions.get("Description").height-n.dimensions.get("Legend").height-n.dimensions.get("Footer").height,l=n.dimensions.get("Story").height+n.dimensions.get("Interactive").height+n.dimensions.get("Description").height+n.dimensions.get("Legend").height,u=n.wizard3.getSettingsObject(),c=r,g=Math.min(e,c)/2,d=.4*g,f=.95*g,p=n.style.get("pieGraph.settings.textPieSpacing");"number"!=typeof p&&(p=1.1),"election"===u.getPieLayout()&&(c*=1.3,d=.24*g),"normal"===u.getPieLayout()&&(d=0),o.attr("transform","translate("+.5*e+","+(.5*c+l)+")");var h=n.wizard3.getDomain(n.vaxis);n.vaxis.setDomain(h),n.vaxis.setRange([0,360]);var m=[];n.wizard3.getGroupFromRaw(0).getActiveItems().forEach((function(t){var e=n.wizard3.queryRecord(t).parseNumber();null===e&&(e=0),m.push({value:e,item:t})}));var y=function(t){var e=n.wizard3.getSettingsObject().getSort(),r=[];null!==e&&t.sort((function(t,n){return t.value===n.value?t.item.getActiveSiblingOrder()-n.item.getActiveSiblingOrder():"asc"===e?t.value-n.value:n.value-t.value}));for(var o=0;o<t.length;o++)r.push(t[o].item);return r}(m),v=0;o.merge({items:y,key:function(t){return t.getKey()},sort:!0,append:"path",enter:function(e,r){e.attr("class","tooltipelement").on("mouseover",(function(){var e=n.wizard3.queryRecord(r);t.broadcast("tooltip",{record:e,legendItem:r,haxisItem:null})})).on("mouseout",(function(){t.broadcast("tooltip",null)}))},exit:function(t){t.remove()},update:function(t,r){var o,i=n.wizard3.queryRecord(r),a=i.parseNumber(),u=v,g=v;"number"==typeof a&&(g=v+n.vaxis.calculate(a)),0===u&&360===g&&(g=359.9998),o=s(0,0,d+.5*(f-d),u+.5*(g-u)),i.setAnnotationPosition(o.x+.5*e,o.y+(.5*c+l)),t.attr("d",function(t,e,n,r,o,i){var a=s(0,0,n,o),l=s(0,0,n,r),u=s(0,0,i,o),c=s(0,0,i,r),g=o-r<=180?"0":"1";return["M",a.x,a.y,"A",n,n,0,g,0,l.x,l.y,"L",c.x,c.y,"A",i,i,0,g,1,u.x,u.y,"L",a.x,a.y].join(" ")}(0,0,f,u,g,d*p)),v=g,t.attr("fill",r.getColor())}});var b=0;i.attr("transform","translate("+.5*e+","+(.5*c+l)+")"),i.merge({items:u.hasDirectLabels()?y:[],key:function(t){return t.getKey()},sort:!0,append:"g",enter:function(t,e){t.append("text").attr("class","pie-directlabel-label"),t.append("text").attr("class","pie-directlabel-value")},exit:function(t){t.remove()},update:function(t,e){var r=n.wizard3.queryRecord(e),o=r.parseNumber(),i=b,a=b;"number"==typeof o&&(a=b+n.vaxis.calculate(o));var l=s(0,0,d+.5*(f-d),i+.5*(a-i));t.attr("transform","translate("+l.x+","+l.y+")"),b=a,t.style(n.style.get("annotation.inlineLabel")).attr({y:"0","text-anchor":"middle","pointer-events":"none"}),t.select(".pie-directlabel-label").text(e.getDisplayLabel()),t.select(".pie-directlabel-value").text(e.getAxis().getUnitFormatter().render(r.parseNumber())).attr("y",1.1*t.select(".pie-directlabel-label").getBBox().height)}}),a.attr("transform","translate("+.5*e+","+(.5*c+l)+")"),a.merge({items:u.hasPieCenterLabel()?["default"]:[],key:function(t){return t},sort:!0,append:"g",enter:function(t,e){t.append("text").attr({"text-anchor":"middle",x:"0"})},exit:function(t){t.remove()},update:function(t,e){var r=100,o=t.select("text"),i=y[0].getAxis().getUnitFormatter().render(n.vaxis.getDomain()[1]);o.text(i).style(n.style.get("annotation.centerLabel"));do{o.style("font-size",r+"px"),r-=4}while(o.getBBox().width>1.5*d&&r>10);o.attr("y",.32*o.getBBox().height)}})}))}}};var r=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){var r=e.append("g"),o=e.append("g");t.watch((function(){var e=n.wizard3.getGroupFromRaw(1).getActiveItems().sort((function(t,e){return t.hasDirectLabel()&&e.hasDirectLabel()||!t.hasDirectLabel()&&!e.hasDirectLabel()?0:t.hasDirectLabel()?1:-1}));r.merge({items:e,key:function(t){return t.getKey()},append:"g",sort:!0,enter:function(e,n){e.attr("class","group").style("transition","transform 0.5s"),e.append("circle").attr({cx:"0",cy:"0",r:5,fill:"#000000","stroke-width":"2"}),e.append("circle").attr({cx:"0",cy:"0",r:10,fill:"transparent",stroke:"none"}).on("mouseover",(function(e,r){t.broadcast("tooltip",{text:n.getDisplayLabel()})})).on("mouseout",(function(e,n){t.broadcast("tooltip",null)})),e.append("text").attr({"pointer-events":"none",cursor:"default"}).style("transition","transform 0.5s")},exit:function(t){t.remove()},update:function(t,e){var r,o,i=n.wizard3.getGroupFromRaw(0).getActiveItems()[0],a=n.wizard3.getGroupFromRaw(0).getActiveItems()[1],s=n.wizard3.queryRecord(i,e),l=n.wizard3.queryRecord(a,e),u=s.parseNumber(),c=l.parseNumber(),g=n.wizard3.getSettingsObject().getDotSize(),d=n.wizard3.getSettingsObject().getScatterStyle(),f=n.vaxis.calculate(u),p=n.vaxisRight.calculate(c);if(t.attr("transform","translate("+p+","+f+")"),t.select("circle").attr({stroke:d?e.getColor(0):"#FFFFFF",fill:e.getColor(0),"fill-opacity":"open"===d?0:1,r:g}),e.hasDirectLabel()){t.select("text").text(e.getDisplayLabel()).style(n.style.get("annotation.directLabel"));var h=t.select("text").getBBox();r=.32*h.height,o=function(){var t=0,r=function(){t=-h.width-g-5},o=function(){t=g+5};"left"===e.getDirectLabel()?r():"right"===e.getDirectLabel()&&o();var i=n.vaxisRight.getRange();return p+t<i[0]?o():p+t+h.width>i[1]&&r(),t}(),t.select("text").attr("transform","translate("+o+","+r+")")}else t.select("text").text("")}});var i=[];n.wizard3.getSettingsObject().getScatterConnect()&&(i=[n.wizard3.getGroupFromRaw(1).getActiveItems()]),o.merge({items:i,key:function(t){return"default"},append:"g",sort:!0,enter:function(t,e){t.attr("class","group"),t.append("path").attr({class:"line",fill:"none",stroke:e[0].getColor(0),"stroke-width":2}).style("transition","d 0.5s")},exit:function(t){t.remove()},update:function(t,e){var r=[];e.forEach((function(t){var e=n.wizard3.getGroupFromRaw(0).getActiveItems()[0],o=n.wizard3.getGroupFromRaw(0).getActiveItems()[1],i=n.wizard3.queryRecord(e,t),a=n.wizard3.queryRecord(o,t),s=i.parseNumber(),l=a.parseNumber();"number"==typeof s&&"number"==typeof l&&r.push({top:n.vaxis.calculate(s),left:n.vaxisRight.calculate(l)})}));var o="";r.forEach((function(t){o.length?o+="L"+t.left+","+t.top:o+="M"+t.left+","+t.top})),t.select("path").attr("d",o)}})}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{priority:10,create:function(t,e,n){t.watch((function(){var t=n.style,o=n.wizard3.getAnnotationPostions(),i=n.wizard3.getSettingsObject().getChartType(),a=[n.dimensions.get("Vaxis Precalculate primary").width,n.dimensions.get("Svg").width-n.dimensions.get("Vaxis Precalculate secondary").width],s=[n.dimensions.get("Story").height+n.dimensions.get("Description").height+n.dimensions.get("Interactive").height+n.dimensions.get("Legend").height+.5*n.dimensions.get("Vaxis Precalculate primary").height,n.dimensions.get("Svg").height-n.dimensions.get("Haxis Precalculate").height-n.dimensions.get("Footer").height-.5*n.dimensions.get("Vaxis Precalculate primary").height],l={standard:{},clean:{}},u=!1;l.standard.settings=t.get("annotation.annotation.settings"),l.standard.settings.tip||(l.standard.settings.tipSize=0),l.standard.styleLabel=t.get("annotation.annotation.style.label"),l.standard.styleBox=t.get("annotation.annotation.style.box"),l.standard.styleDot=t.get("annotation.annotation.style.dot"),l.standard.showDot=l.standard.settings.dot&&"line"===i,t.get("annotation.annotation-clean")&&(u=!0,l.clean.settings=t.get("annotation.annotation-clean.settings"),l.clean.settings.tip||(l.clean.settings.tipSize=0),l.clean.styleLabel=t.get("annotation.annotation-clean.style.label"),l.clean.styleBox=t.get("annotation.annotation-clean.style.box"),l.clean.styleDot=t.get("annotation.annotation-clean.style.dot"),l.clean.showDot=l.clean.settings.dot&&"line"===i);for(var c=[],g=0;g<o.length;g++){var d=o[g],f=d.annotationClean&&u?"clean":"standard";c.push({key:d.key,text:d.annotation,left:d.x,top:d.y,showDot:l[f].showDot,style:{text:l[f].styleLabel,box:l[f].styleBox,dot:l[f].styleDot},hRange:a,vRange:s,position:d.annotationPosition,distance:d.annotationDistance,settings:l[f].settings,color:d.color})}e.merge({items:c,key:function(t){var e=t.showDot?"1":"0";return t.key+e},append:"g",sort:!0,enter:function(t,e){},exit:function(t){t.remove()},update:function(t,e){(0,r.AnnotationBluePrint)(t,e)}})}))}}};var r=n(12)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(){return{priority:10,create:function(t,e,n){var i=[],a=null;e.parent("svg").on("mousemove",(function(t){var r=n.wizard3.getSettingsObject(),o=n.style.get("svg.settings.box"),a=r.isChartType(["bar","barstacked"])?0:o["margin-top"],l=e.parent("svg").node().getBoundingClientRect();i[0]=t.clientX-o["margin-left"]-l.left,i[1]=t.clientY-a-l.top,s()})),t.listen("tooltip",(function(t){a=t,s()}));var s=function(){if(null!=a){e.attr("visibility","visible");var t=n.style.get("annotation.tooltip.settings");t.tip||(t.tipSize=0),t.textAnchor||(t.textAnchor="middle");var s=!!a.dot,l={text:"",left:i[0],top:i[1],showDot:s,style:{text:n.style.get("annotation.tooltip.style.label"),box:n.style.get("annotation.tooltip.style.box"),dot:n.style.get("annotation.tooltip.style.dot")},hRange:[0,n.dimensions.get("Svg").width],vRange:[0,n.dimensions.get("Svg").height],settings:t,color:"#000000"};if(a.record&&"object"===r(a.record)){var u=a.record.parseNumber();l.text=null===u?n.style.get("annotation.tooltip.settings.unknown",{locale:!0}):a.legendItem.getAxis().getUnitFormatter().render(u,"tooltip")}else"string"==typeof a.text&&(l.text=a.text);"number"==typeof a.left&&(l.left=a.left),"number"==typeof a.top&&(l.top=a.top),(0,o.AnnotationBluePrint)(e,l)}else e.attr("visibility","hidden")}}}};var o=n(12)}])}])}));